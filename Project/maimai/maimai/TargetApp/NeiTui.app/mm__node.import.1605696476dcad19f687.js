webpackJsonp([107],{1188:function(e,t,a){"use strict";var n=a(46),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=a(1),i=a(285),l=a(15),s=o.createClass({displayName:"JobCardV2",job_detail:function(e){e.stopPropagation(),this.props.job.share_url&&(0,r.default)(this.props.job.share_url,"职位详情","fetch")},openMyMember:function(e){e.stopPropagation(),(0,r.default)("/uh_memlist?"+l.stringify({tpl:"show",fr:"joblist"}),"会员中心","fetch")},render:function(){var e=this.props.job,t=void 0,a=void 0;t=e.company_stage&&e.company_scale?o.createElement("i",null,i(e.company,6)+" | "+i(e.company_stage,7)+" | "+i(e.company_scale,7)):e.company_stage?o.createElement("i",null,i(e.company,12)+" | "+i(e.company_stage,10)):e.company_scale?o.createElement("i",null,i(e.company,12)+" | "+i(e.company_scale,10)):o.createElement("i",null,i(e.company,19)),e.hunter_corner&&(a=o.createElement("img",{className:"imgLie",src:"/static/images/lietou.png"}));var n=void 0;return e.agent_avatar_list&&e.agent_avatar_list.length>0&&(n=o.createElement("dd",{className:"internal_referral"},o.createElement("div",{className:"agent_list"},e.agent_avatar_list.map(function(e){return o.createElement("img",{className:"agent_avatar",src:e})})),e.agent_cnt&&o.createElement("div",{className:"agent_count"},e.agent_cnt,"位好友可帮你内推"))),o.createElement("div",{className:"joblistBox5 col"},o.createElement("dl",{className:"job_click joblistItem5 imgList",onClick:this.job_detail},o.createElement("dd",null,o.createElement("img",{src:e.user.avatar}),o.createElement("em",{className:"stressText"},o.createElement("nobr",null,o.createElement("span",{style:{border:"none",marginTop:"0",padding:"0",borderRadius:"0",marginRight:"4px",color:"#333"}},i(e.user.name,4)+" | "+e.user.short_career),1==e.user.is_mem&&o.createElement("img",{onClick:this.openMyMember,src:"https://maimai.cn/images/icon_mc_"+e.user.mem_id+".png",style:{width:"12px",height:"12px",marginTop:"5px",borderRadius:"0"}}))),o.createElement("em",{className:"replyShow"},e.refresh_time+"回复过")),o.createElement("dd",{className:"jobInfoMod"},o.createElement("div",{className:"imgMod"},a,o.createElement("img",{style:{width:"100%",height:"auto"},src:e.clogo})),o.createElement("div",{className:"jobInfos"},o.createElement("em",{className:"jobName"},o.createElement("i",{style:{float:"left",display:"block"}},i(e.position,8)),o.createElement("i",{style:{float:"right",color:"#FF680D",display:"block"}},e.salary_info)),o.createElement("em",{className:"companyInfo",style:{width:"100%"}},t),o.createElement("em",{className:"jobClaim"},e.province+" "+e.degree+" "+e.worktime))),n))}});e.exports=s},910:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(15),u=n(c),m=a(75),d=a(981),p=n(d),f=a(165),g=n(f),h=a(996),_=n(h),y=a(113),b=a(1),v=(a(1188),a(1187),a(50),a(982)),E=(a(164).putCache,a(164).getCache,a(1009),a(46)),j=a(270),k=a(17),N=function(e){function t(){var e,a,n,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.loadMore=function(){var e=n.props.cursor;n.refs.loader.bindRequest(function(){return t.loadData(n.context,n.nextPage).then(function(t){n.nextPage++;var a=t.data;e.select("data").concat(a.data),e.select("remain").set(a.remain)})})},n.agentDone=function(e){var t=n.props.cursor;if(e){var a=e.ouid,r=k.findIndex(t.select("data").get(),{ouid:a});t.select("data",r,"has_asked").set(1)}},n.agentAsk=function(e){var t=n.context.req;e.has_asked?MaiMai_Native.native_chat("",e.id):E("/internal_referral_agent?"+u.default.stringify({ouid:e.ouid,agent_name:e.name,jid:t.query.jid,job_title:t.query.job_title}),"发消息","fetch")},i=a,o(n,i)}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.nextPage=1,(0,y.bindBroadcast)("internal_referral_agent_has_ask",this.agentDone)}},{key:"render",value:function(){var e=this,t=this.props.cursor,a=void 0;return a=this.props.data.length>0?b.createElement(v,{loadMore:this.loadMore,hasMore:this.props.remain>0,loader:b.createElement(g.default,{ref:"loader",reload:this.loadMore,cursor:t.select("loading_status")})},b.createElement("div",{className:"panel panel-default"},b.createElement("ul",{className:"list-group",style:{background:"#efeff4"}},this.props.data.map(function(t){var a=void 0;return a=t.has_asked?b.createElement("div",{className:"voidBlueBtnM small",style:x.noPaddingRight,onClick:function(a){a.stopPropagation(),e.agentAsk(t)}},"已联系"):b.createElement("div",{className:"voidBlueBtnM small",style:x.noPaddingRight,onClick:function(a){a.stopPropagation(),e.agentAsk(t)}},"发消息"),b.createElement(j,{id:t.id,contact:t,hideDist:!0,key:t.ouid,custom_avatar_class:"avatar-56 radius-50"},a)})))):b.createElement(_.default,{tips:"当前职位没有可内推的好友",onClick:function(){}}),b.createElement("div",null,b.createElement(p.default,{title:"可内推好友"}),a)}}],[{key:"loadData",value:function(e,t){var a=e.auth_info,n=e.req,r=l({page:t,count:10,jsononly:1},n.query,a),o=n.pathname+"?"+u.default.stringify(r);return fetch(o,{credentials:"same-origin"}).then(m.parse_online_json)}}]),t}(b.Component);N.contextTypes={auth_info:b.PropTypes.object,req:b.PropTypes.object,fconf:b.PropTypes.object};var x={done:{marginTop:6,height:40,lineHeight:"40px",verticalAlign:"middle",backgroundColor:"#efefef"},buttons:{marginTop:6,height:40},button:{display:"inline-block",width:"50%",paddingLeft:4,paddingRight:4},noPaddingRight:{marginRight:"-10px",marginTop:"6px",width:"70px"}};t.default=e.exports=N}});