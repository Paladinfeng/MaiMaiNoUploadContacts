webpackJsonp([62],{1574:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=a(1),r=n(s),i=a(994),l=(n(i),a(981)),o=n(l),c=a(75),p=n(c),d=a(76),u=(n(d),a(15)),f=n(u),m=a(114),h=(n(m),a(113),a(17)),v=n(h);e.exports=r.default.createClass({displayName:"exports",getInitialState:function(){return{open:0}},doRequest:function(e,t){var a=this,n=this.context.auth_info;v.default.extend(e,n);var s=this.props.api+"?"+f.default.stringify(e);fetch(s,{credentials:"same-origin"}).then(p.default.parse_online_json).then(function(){t()}).catch(function(e){try{p.default.toast_error_handler(e)}catch(e){a.setState({open:0})}})},openClicked:v.default.debounce(function(){var e=this;if(this.props.card.in_app){this.setState({open:1});var t={orderid:this.props.orderid};this.doRequest(t,function(){e.setState({open:2}),window.location.reload()})}},2e3,!0),renderOpen:function(){var e="coin ";return 0!=this.state.open&&2!=this.state.open||(e+=" hide "),1==this.state.open&&(e+=" coinRotate "),r.default.createElement("div",null,r.default.createElement("img",{className:e,src:"/static/images/coin.png"}))},render:function(){return r.default.createElement("div",null,r.default.createElement(o.default,{title:"红包详情"}),r.default.createElement("div",{className:"envelopeCover"}),r.default.createElement("div",{className:"envelope"},r.default.createElement("div",{className:"envelopeSenderImg"},r.default.createElement("img",{src:this.props.card.avatar})),r.default.createElement("div",{className:"envelopeSenderName"},this.props.card.name),r.default.createElement("div",{className:"envelopeText"},this.props.subtitle),this.props.msg&&r.default.createElement("div",{className:"envelopeMessage lineClamp1"},this.props.msg),this.props.api&&r.default.createElement("div",{className:"openEnvelope",onClick:this.openClicked},r.default.createElement("a",{href:"javascript:void(0)"},"拆红包")),this.renderOpen()))}})},918:function(e,t,a){"use strict";var n=a(1),s=a(1574);e.exports=n.createClass({displayName:"exports",render:function(){return"rp_open"==this.props.action?n.createElement(s,this.props):n.createElement("div",null,"empty")}})}});