webpackJsonp([71],{1573:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c,i,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(1),u=n(d),f=a(168),m=n(f),p=a(1014),v=n(p);t.default=e.exports=(i=c=function(e){function t(){var e,a,n,r;o(this,t);for(var c=arguments.length,i=Array(c),s=0;s<c;s++)i[s]=arguments[s];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.gotoDetail=function(e){n.refs.avatar.gotoDetail(e)},n.changeChoice=function(e){e.stopPropagation();var t=n.props.invcode;n.props.setCode(t)},r=a,l(n,r)}return r(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.contact,a=e.invcode,n=e.choiced;return u.default.createElement("div",{className:"clearfix vip_invitation_card media"},u.default.createElement("div",{className:"media-body",onClick:this.gotoDetail},u.default.createElement("div",{className:"media m-b-12"},u.default.createElement("div",{className:"media-left"},u.default.createElement(m.default,{card:t,customClass:"avatar-24 radius-50",ref:"avatar"})),u.default.createElement("div",{className:"media-body media-middle"},u.default.createElement("div",{className:"lineClamp1"},u.default.createElement("span",null,t.name," · "),u.default.createElement("span",null,t.career),u.default.createElement("span",{className:"text-muted small"},1==t.judge&&u.default.createElement("span",{className:"add_v_img"}),1==t.mem_st&&v.default.renderMember(t.mem_id))))),u.default.createElement("div",{className:"font-15"},"共享邀请码：",u.default.createElement("span",{className:"code text-yellow-DBA851"},a))),u.default.createElement("div",{className:"media-right media-middle"},u.default.createElement("span",{className:"choice_btn "+(n?"choiced":""),onClick:this.changeChoice})))}}]),t}(u.default.Component),c.contextTypes={auth_info:u.default.PropTypes.object,fconf:u.default.PropTypes.object,req:u.default.PropTypes.object},i)},917:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c,i,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(1),u=n(d),f=a(981),m=n(f),p=a(1573),v=n(p),h=a(76),_=(n(h),a(113));t.default=e.exports=(i=c=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onRefmobileChange=function(){var e=a.refs.code.value;""!=e&&(e=e.trim().toUpperCase().replace(/[^0-9A-Z]/g,""),a.setState({text:""})),(""+e).length<=15&&e!=a.state.code&&a.setState({code:e})},a.saveCode=function(){var e=a.state.code;a.refs.code.value.trim()?(a.setState({show_dialog:!1}),(0,_.sendWebViewBroadcast)("getCode",{code:e}),window.MaiMai_Native.close_native&&window.MaiMai_Native.close_native("",!0)):a.setState({text:"red"})},a.sendCode=function(){var e=a.state.code;(0,_.sendWebViewBroadcast)("getCode",{code:e}),window.MaiMai_Native.close_native&&window.MaiMai_Native.close_native("",!0)},a.setCode=function(e){a.setState({code:e})},a.state={show_dialog:!1,code:e.invcode,text:""},a}return r(t,e),s(t,[{key:"renderFriendInvita",value:function(){var e=this,t=this.props.lv321_results;if(t.length)return u.default.createElement("div",{className:"p-x"},u.default.createElement("div",{className:"p-y-25 clearfix"},u.default.createElement("span",{className:"fl font-15"},"请选择好友的邀请码"),u.default.createElement("span",{className:"fr font-15 text-blue-1C4781",onClick:function(){e.setState({show_dialog:!0,text:""})}},"直接输入邀请码")),t.map(function(t,a){return u.default.createElement(v.default,{contact:t.card,invcode:t.invcode,key:a,setCode:e.setCode,choiced:e.state.code==t.invcode})}))}},{key:"renderFeedInvita",value:function(){var e=this,t=this.props.update_results;if(t.length)return u.default.createElement("div",{className:"p-x"},u.default.createElement("div",{className:"p-y-25 clearfix"},u.default.createElement("span",{className:"fl font-15"},"来自动态的邀请码")),t.map(function(t,a){return u.default.createElement(v.default,{contact:t.card,invcode:t.invcode,key:a,setCode:e.setCode,choiced:e.state.code==t.invcode})}))}},{key:"renderEmptyInvita",value:function(){return u.default.createElement("div",{className:"empty_warp"},u.default.createElement("div",{className:"font-18 m-b-20"},"暂无好友共享邀请码"),u.default.createElement("div",{className:"m-b-30"},"您可以直接输入邀请码或推荐人手机号"),u.default.createElement("div",{className:"p-x-35"},u.default.createElement("input",{type:"text",ref:"code",onChange:this.onRefmobileChange,className:"text-center w-100 p-y-12",placeholder:"可额外奖励5个加好友名额"})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.show_dialog,n=t.text,o=this.props,l=o.lv321_results,r=o.update_results;return u.default.createElement("div",{className:"vip_invitation_code"},u.default.createElement(m.default,{title:"选择邀请码"}),l.length||r.length?u.default.createElement("div",null,this.renderFeedInvita(),this.renderFriendInvita()):u.default.createElement("div",null,this.renderEmptyInvita()),u.default.createElement("div",{className:"sure_invitation"},u.default.createElement("div",{className:"save_btn_bg"},u.default.createElement("div",{className:"text-center save_btn",onClick:this.sendCode},"确定"))),a&&u.default.createElement("div",{className:"dialog_warp"},u.default.createElement("div",{className:"mask"}),u.default.createElement("div",{className:"dialog_content"},u.default.createElement("div",{className:"font-16 m-b-30 "+n},"请输入邀请码或联系人手机号"),u.default.createElement("input",{type:"text",ref:"code",onChange:this.onRefmobileChange,className:"text-center m-b-40 w-100 p-y-12",placeholder:"可额外奖励5个加好友名额"}),u.default.createElement("div",{className:"clearfix"},u.default.createElement("span",{className:"fl code_fl text-yellow-DBA851",onClick:function(){e.setState({show_dialog:!1,code:""})}},"取消"),u.default.createElement("span",{className:"fr code_fr sure text-white",onClick:this.saveCode},"确定")))))}}]),t}(u.default.Component),c.contextTypes={auth_info:u.default.PropTypes.object,fconf:u.default.PropTypes.object,req:u.default.PropTypes.object},i)}});