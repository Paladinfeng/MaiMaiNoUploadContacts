webpackJsonp([155],{843:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=s(1),c=n(o),d=s(994),a=n(d),i=s(981),u=n(i),r=s(75),l=n(r),f=s(76),p=n(f),_=s(15),m=n(_),h=s(114),g=n(h),k=s(113),b=s(17),v=n(b);e.exports=c.default.createClass({displayName:"exports",contextTypes:{auth_info:c.default.PropTypes.object,fconf:c.default.PropTypes.object},componentDidMount:function(){document.body.style.background="#f9f9f9"},onLine1Clicked:function(){var e=this,t={msg_dist:1};this.doRequest(t,function(){e.props.cursor.select("msg_dist").set(1),(0,k.sendWebViewBroadcast)("broadcast_update_user_conf",e.props.cursor.get()),(0,p.default)("修改成功")})},onLine3Clicked:function(){var e=this,t={msg_dist:0};this.doRequest(t,function(){e.props.cursor.select("msg_dist").set(0),(0,k.sendWebViewBroadcast)("broadcast_update_user_conf",e.props.cursor.get()),(0,p.default)("修改成功")})},doRequest:function(e,t){var s=this.context,n=s.auth_info,o=s.fconf;v.default.extend(e,n);var c=o.online_url+"user/v3/update_config?"+m.default.stringify(e),d=fetch(c,{credentials:"same-origin"}).then(l.default.parse_online_json).then(function(){t()}).catch(l.default.toast_error_handler);(0,g.default)("设置中...",d)},render:function(){return c.default.createElement("div",null,c.default.createElement(u.default,{title:"谁可以给我发消息"}),c.default.createElement("div",{className:"m-t-md m-b m-l text-muted"},"谁可以给我发消息(单选)"),c.default.createElement(a.default,{title:"仅好友",checked:1==this.props.msg_dist,checkRowClicked:this.onLine1Clicked}),c.default.createElement(a.default,{title:"所有人",checked:1!=this.props.msg_dist,checkRowClicked:this.onLine3Clicked}))}})}});