webpackJsonp([160],{848:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var o=n(1),r=a(o),c=n(994),i=(a(c),n(981)),l=a(i),s=n(75),u=a(s),d=n(76),f=a(d),p=n(15),m=a(p),h=n(114),v=a(h),y=(n(113),n(270)),g=a(y),x=n(17),b=a(x);t.exports=r.default.createClass({displayName:"exports",contextTypes:{auth_info:r.default.PropTypes.object,fconf:r.default.PropTypes.object},componentDidMount:function(){document.body.style.background="#f9f9f9"},doRequest:function(t,e){var n=this.context,a=n.auth_info,o=n.fconf;b.default.extend(t,a);var r=o.online_url+"contact/v3/unblock?"+m.default.stringify(t),c=fetch(r,{credentials:"same-origin"}).then(u.default.parse_online_json).then(function(){e()}).catch(u.default.toast_error_handler);(0,v.default)("请求中...",c)},onBtnClicked:function(t){var e=this,n={u2:t.id};this.doRequest(n,function(){var n=0,a=!0,o=!1,r=void 0;try{for(var c,i=e.props.contacts[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){if(c.value.id==t.id){e.props.cursor.select("contacts").splice([n,1]);break}n++}}catch(t){o=!0,r=t}finally{try{!a&&i.return&&i.return()}finally{if(o)throw r}}(0,f.default)("已移除黑名单")})},renderEmpty:function(){if(!this.props.contacts)return r.default.createElement("div",{className:"nullBox"},r.default.createElement("div",{className:"nullList"},"列表为空"))},render:function(){var t=this;return r.default.createElement("div",null,r.default.createElement(l.default,{title:"黑名单"}),this.props.contacts&&r.default.createElement("div",{className:"m-t-md m-b m-l text-muted"},"黑名单"),this.props.contacts&&this.props.contacts.map(function(e){return r.default.createElement(g.default,{key:e.mmid,contact:e},r.default.createElement("div",{className:"voidBlueBtnL small",style:E.noPaddingRight,onClick:function(n){t.onBtnClicked(e),n.stopPropagation()}},"移除黑名单"))}),this.renderEmpty())}});var E={noPaddingRight:{marginRight:"-10px",marginTop:"6px"}}}});