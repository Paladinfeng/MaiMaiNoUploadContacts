webpackJsonp([235],{789:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,c,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(1),f=n(d),p=a(981),m=n(p),y=a(270),h=n(y),v=(a(75),a(165)),b=(n(v),a(15)),g=n(b),E=a(271),_=(n(E),a(116)),x=n(_),P=a(164),N=a(1026),T=a(46);n(T),a(982);t.default=e.exports=(c=i=function(e){function t(){var e,a,n,o;r(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.openChat=function(e,t){t.stopPropagation();var a=n.context.auth_info,r="您找到了与"+n.props.card.name+"的共同好友"+e.name+",现在可以发消息求点评了";fetch("/sdk/contact/send_me_tips?"+g.default.stringify(s({},a,{u2:e.id,tips:r}))),(0,P.startChat)(e.id)},n.addFriend=function(e,t){t.stopPropagation();var a=n.context,r=a.auth_info,l=a.fconf,o=a.req,i={mycard:n.props.mycard};(0,N.tryAddFriend)("",r,l,r.u,e,"can_add_list_"+o.query.u2,i)},n.add=function(e){e.stopPropagation();var t=n.context,a=t.auth_info,r=t.fconf,l=t.req,o={mycard:n.props.mycard};(0,N.tryAddFriendAfterCheckPermission)("",a,r,a.u,l.query.u2,"still",o)},o=a,l(n,o)}return o(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props.card.name,a=this.props.canAdd&&this.props.canAdd.cards,n=a?"你不在"+t+"的人脉圈内，TA已设置不能直接申请，先与TA的好友成为好友吧":"目前没有"+t+"的好友点评过你，TA已设置不能直接申请，马上邀请TA的好友点评推荐你吧",r=a?"如不在TA人脉圈内,申请可能被TA忽略":"如不邀请点评,申请可能被TA忽略",l=a?"可先与任一人成为好友":"可邀请任一人点评您";return f.default.createElement("div",null,f.default.createElement(m.default,{title:"好友申请"}),f.default.createElement("div",{className:"text-content sadIconLines p-y m-x"},n),!a&&f.default.createElement("div",{className:"panel panel-default"},f.default.createElement("div",{className:"panel-heading clearfix"},f.default.createElement("span",{className:"pull-left"},l)),f.default.createElement("ul",{className:"list-group"},this.props.data.map(function(a){return a.relations="我的"+x.default.FRDESCS[a.me]+"，"+t+"的"+x.default.FRDESCS[a.ta],f.default.createElement(h.default,{key:a.mmid,contact:a},f.default.createElement("div",{className:"voidBlueBtnL small",style:A.noPaddingRight,onClick:e.openChat.bind(e,a)},"邀请点评"))})),f.default.createElement("div",{className:"list-group-item text-center text-primary",style:{display:"none"}},"查看全部>>")),a&&f.default.createElement("div",{className:"panel panel-default"},f.default.createElement("div",{className:"panel-heading clearfix"},f.default.createElement("span",{className:"pull-left"},l)),f.default.createElement("ul",{className:"list-group"},a.map(function(t){return f.default.createElement(h.default,{key:t.id,contact:t,hideDist:!0},f.default.createElement("div",{className:"voidBlueBtnM small",style:A.noPaddingRight,onClick:e.addFriend.bind(e,t.id)},"+好友"))}))),f.default.createElement("div",{className:"small text-muted text-center p-y"},r," ",f.default.createElement("span",{className:"text-primary",onClick:this.add},"仍然申请 >>")))}}]),t}(f.default.Component),i.contextTypes={auth_info:f.default.PropTypes.object,req:f.default.PropTypes.object,fconf:f.default.PropTypes.object},c);var A={noPaddingRight:{marginRight:"-10px",marginTop:"6px"}}}});