webpackJsonp([167],{831:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,p,a,l,f,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},d=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),b=o(1),m=r(b),h=o(994),k=r(h),_=o(981),y=r(_),v=o(75),g=r(v),w=o(114),j=r(w),O=o(76),E=(r(O),o(15)),C=r(E),M=o(988),P=(r(M),o(166));P.Style;t.default=e.exports=(p=i=function(e){function t(){var e,o,r,s;n(this,t);for(var i=arguments.length,p=Array(i),d=0;d<i;d++)p[d]=arguments[d];return o=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),r.block_feed=function(e){r.props.cursor.select("block_feed").set(!e)},r.block_user=function(e){r.props.cursor.select("block_user").set(!e)},r.block_pm=function(e){r.props.is_follow_pm&&!e&&0==confirm("此行业圈子动态是你已关注的，一旦屏蔽将取消关注且不能再看到，确定屏蔽吗？")||r.props.cursor.select("block_pm").set(!e)},r.block_ftype=function(e){r.props.cursor.select("block_ftype").set(!e)},r.onSaveClicked=function(){var e=r.context.auth_info,t={};a&&(t.block_user={block:r.props.cursor.select("block_user").get(),block_id:r.props.feed.main.u.mmid}),l&&(t.block_pm={block:r.props.cursor.select("block_pm").get(),p:r.props.feed.main.pm.profession,m:r.props.feed.main.pm.major}),f&&(t.block_ftype={block:r.props.cursor.select("block_ftype").get(),t:r.props.feed.ftype});var o="/sdk/user/block?"+C.default.stringify(u({param:JSON.stringify(t)},e)),n=r.props.cursor.select("block_feed").get(),c=fetch(o).then(g.default.parse_online_json).then(function(e){n&&window.MaiMai_Native.block_feed&&window.MaiMai_Native.block_feed(r.props.feed.id),window.MaiMai_Native.close_native("",!0)}).catch(g.default.toast_error_handler);(0,j.default)("设置中...",c)},s=o,c(r,s)}return s(t,e),d(t,[{key:"componentDidMount",value:function(){document.body.style.background="#f9f9f9"}},{key:"getFeedType",value:function(e){switch(e){case 20:return"点评好友";case 18:return"分享群聊";case 4:return"分享职位";case 19:return"分享聚会";case 8:return"加好友";case 11:return"实名贴标签";case 12:return"匿名贴标签";case 10:return"认可标签";default:return""}}},{key:"render",value:function(){var e=void 0,t=void 0,o=void 0;if(this.props.feed.main&&this.props.feed.main.u&&this.props.feed.main.u.mmid&&this.props.feed.main.u.mmid.length>0&&(e=m.default.createElement(k.default,{key:"1",title:"屏蔽TA的动态："+this.props.feed.main.u.name,tips:"不再看"+this.props.feed.main.u.name+"的所有动态",checkRowClicked:this.block_user,checked:this.props.cursor.select("block_user").get()}),a=!0),!this.props.feed.src&&this.props.feed.main&&this.props.feed.main.pm&&(t=m.default.createElement(k.default,{key:"2",title:"屏蔽此行业动态："+this.props.feed.main.pm.name,tips:"不再看“"+this.props.feed.main.pm.name+"”行业人脉的动态(非好友发布的)",checkRowClicked:this.block_pm,checked:this.props.cursor.select("block_pm").get()}),l=!0),this.props.feed.main&&this.props.feed.main.u&&this.props.feed.ftype){var r=this.getFeedType(this.props.feed.ftype);r.length>0&&(o=m.default.createElement(k.default,{key:"3",title:"屏蔽此类动态："+r,tips:"不再看“"+r+"”类型的动态",checkRowClicked:this.block_ftype,checked:this.props.cursor.select("block_ftype").get()}),f=!0)}return m.default.createElement("div",{className:"m-t"},m.default.createElement(y.default,{title:"屏蔽"}),m.default.createElement(k.default,{key:"0",title:"屏蔽此条动态",tips:"屏蔽后此条动态不可见",checkRowClicked:this.block_feed,checked:this.props.cursor.select("block_feed").get()}),e,t,o,m.default.createElement("div",{className:"panel-default p-x"},m.default.createElement("button",{className:"btn btn-lg m-y btn-block btn-secondary",onClick:this.onSaveClicked},"确认")))}}]),t}(m.default.Component),i.contextTypes={auth_info:m.default.PropTypes.object,req:m.default.PropTypes.object,fconf:m.default.PropTypes.object},p)}});