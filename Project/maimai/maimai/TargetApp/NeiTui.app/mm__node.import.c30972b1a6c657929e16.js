webpackJsonp([197],{788:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var l=a(1),s=n(l),r=a(994),i=(n(r),a(981)),o=n(i),d=a(75),c=n(d),u=a(76),p=(n(u),a(15)),f=n(p),m=a(114),v=(n(m),a(113),a(17)),h=n(v);e.exports=s.default.createClass({displayName:"exports",contextTypes:{auth_info:s.default.PropTypes.object,fconf:s.default.PropTypes.object},getInitialState:function(){return{open:0}},doRequest:function(e,t){var a=this,n=this.context.auth_info;h.default.extend(e,n);var l="/contact/transfer/transfer_recieve?"+f.default.stringify(e);fetch(l,{credentials:"same-origin"}).then(c.default.parse_online_json).then(function(){t()}).catch(function(e){try{c.default.toast_error_handler(e)}catch(e){a.setState({open:0})}})},openClicked:function(){var e=this,t={orderid:this.props.data.orderid};this.setState({open:1}),this.doRequest(t,function(){e.setState({open:2}),window.location.reload()})},renderOpen:function(){if(1!=this.props.data.payed)return s.default.createElement("div",null,s.default.createElement("br",null),s.default.createElement("div",{className:"envelopeMessage"},"红包已过期"));var e="coin ";return 0!=this.state.open&&2!=this.state.open||(e+=" hide "),1==this.state.open&&(e+=" coinRotate "),s.default.createElement("div",null,s.default.createElement("div",{className:"openEnvelope",onClick:this.openClicked},s.default.createElement("a",null,"拆红包")),s.default.createElement("img",{className:e,src:"/static/images/coin.png"}))},render:function(){return s.default.createElement("div",null,s.default.createElement(o.default,{title:"红包详情"}),s.default.createElement("div",{className:"envelopeCover"}),s.default.createElement("div",{className:"envelope"},s.default.createElement("div",{className:"envelopeSenderImg"},s.default.createElement("img",{src:this.props.card1.avatar})),s.default.createElement("div",{className:"envelopeSenderName"}," ",this.props.card1.name),s.default.createElement("div",{className:"envelopeText"},"给你发了一个红包"),this.props.data&&this.props.data.msg&&s.default.createElement("div",{className:"envelopeMessage"},"留言:",this.props.data.msg),this.renderOpen()))}})}});