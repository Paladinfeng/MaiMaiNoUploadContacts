webpackJsonp([55],{1148:function(e,t,a){"use strict";var r=a(279),n=function(e){return e&&e.__esModule?e:{default:e}}(r),l=a(1),s=(a(46),a(46),l.createClass({displayName:"RankDetailTop",render:function(){var e=this.props,t=e.order,a=e.mycard;return t.major>=0?(0,n.default)(t.profession,t.major,"|"):(0,n.default)(t.profession,0).profession,l.createElement("div",{className:"rankHeader clearfix"},l.createElement("div",{style:{paddingTop:"14%"}},l.createElement("div",{className:"fl text-center text-white clearfix"},l.createElement("div",{className:"rankAvatarBox img-rounded"},l.createElement("img",{className:"rankHeaderAvatar img-rounded",src:a.avatar})),l.createElement("div",{className:"font-16 m-t-10 rankAvatarName lineClamp1"},a.name)),l.createElement("div",{className:"fr text-white text-center font-18"},l.createElement("div",{className:"text-left clearfix"},l.createElement("span",{className:"fl p-t-5"},"影响力:"),l.createElement("span",{className:"fl p-l-10 font-26 font-arial"},l.createElement("b",null,this.props.rank))),l.createElement("div",{className:"text-left p-t-5 rankPercent clearfix"},l.createElement("span",{className:"p-t-5"},"高于"),l.createElement("span",{className:"orangeTxt font-26 p-x-10 font-arial"},l.createElement("b",null,this.props.defeat,"%")),l.createElement("span",{className:"p-t-5"},"的同行")))))}}));e.exports=s},1149:function(e,t,a){"use strict";var r=a(1),n=a(1006).tab_manager,l=r.createClass({displayName:"DrawLineChart",getMaxMin:function(e){var t,a,r,n=new Object;r=e.length,t=e[0],a=e[1];for(var l=0;l<r;l++)e[l]>t?t=e[l]:e[l]<a&&(a=e[l]);return n.max=Math.ceil(t+3),n.min=a<5?Math.floor(a):parseInt(a-2),t-a<=1&&(n.max=Math.ceil(t),n.min=Math.floor(a)),n},rankDetail:function(e){this.props.cursor.select("tab_manager","current_tabindex").set(e)},componentDidMount:function(){n();this.props.cursor.select("tab_manager","current_tabindex").set(6)},render:function(){var e=this,t=this.props.history,a=new Array,n=new Array;t.map(function(e,t){a[t]=parseFloat(e.rank),n[t]=e.label});var l=a.length,s=this.getMaxMin(a),i=s.max,c=s.min,o=50/(c-i),m=new Array;a.map(function(e){var t=(e-i)*o+30;m.push(t)});var u="",p=this.props.cursor.select("tab_manager"),f=null==p?l-1:p.select("current_tabindex").get();return r.createElement("div",{className:"text-center"},r.createElement("svg",{width:"300px",height:"140px"},r.createElement("line",{x1:"0",y1:"130",x2:"300",y2:"130",className:"grayLine"}),r.createElement("text",{x:"5",y:"35",className:"grayFill small"},i),r.createElement("text",{x:"5",y:"85",className:"grayFill small"},c),r.createElement("path",{d:"M30 30 290 30",className:"dash5 grayLine"}),r.createElement("path",{d:"M30 80 290 80",className:"dash5 grayLine"}),r.createElement("line",{className:"grayLine",x1:"30",y1:"130",x2:"30",y2:"134"}),r.createElement("line",{className:"grayLine",x1:"70",y1:"130",x2:"70",y2:"134"}),r.createElement("line",{className:"grayLine",x1:"110",y1:"130",x2:"110",y2:"134"}),r.createElement("line",{className:"grayLine",x1:"150",y1:"130",x2:"150",y2:"134"}),r.createElement("line",{className:"grayLine",x1:"190",y1:"130",x2:"190",y2:"134"}),r.createElement("line",{className:"grayLine",x1:"230",y1:"130",x2:"230",y2:"134"}),r.createElement("line",{className:"grayLine",x1:"270",y1:"130",x2:"270",y2:"134"}),m.map(function(e,t){var n=30+40*t;if(l>1&&(u=0==t?u+"M"+n+" "+e:1==t?u+" L"+n+" "+e:u+" "+n+" "+e),f==t){var s=30+40*t-15,i=e-10;return 0==t?(s=26,r.createElement("text",{x:s,y:i,className:"orangeFill"},a[t])):r.createElement("text",{x:s,y:i,className:"orangeFill"},a[t])}}),r.createElement("path",{className:"blueLine",d:u,fill:"rgba(0,0,0,0)"}),m.map(function(e,t){var a=30+40*t;return r.createElement("circle",{cx:a,cy:e,r:f==t?"4":"3",className:f==t?"orangeCircleStroke orangeFill":"blueFill"})})),r.createElement("ul",{className:"small p-x-10 rankDatesList text-muted text-center list-unstyled clearfix"},n.map(function(t,a){return r.createElement("li",{className:f==a?"fl rankToday orangeTxt":"fl",onClick:e.rankDetail.bind(e,a)},t)})))}});e.exports=l},756:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,c,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),u=a(1),p=r(u),f=a(15),d=r(f),y=(a(75),a(279)),h=r(y),x=a(981),v=r(x),E=a(165),g=(r(E),a(1148)),_=r(g),b=a(1149),N=r(b),w=a(988),k=r(w),M=a(983),j=r(M),L=a(272),O=r(L),T=(a(982),a(46));t.default=e.exports=(c=i=function(e){function t(){var e,a,r,s;n(this,t);for(var i=arguments.length,c=Array(i),o=0;o<i;o++)c[o]=arguments[o];return a=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.open_list=function(){var e,t=r.props.full_order,a=t.profession,n=t.major,l="/contact/rank_top_list?"+d.default.stringify({profession:a,major:n});e=n>=0?(0,h.default)(a,n,"|"):(0,h.default)(a,0).profession,T(l,"排行榜-"+e,"fetch")},r.share=function(){window.MaiMai_Native.native_share_v2&&window.MaiMai_Native.native_share_v2(3,JSON.stringify({icon_url:r.props.mycard.avatar,title:"突破"+r.props.rank.toFixed(1)+"了！甩了"+r.props.defeat+"%的同行，你被我影响到了么？",desc:"影响力中心"}))},s=a,l(r,s)}return s(t,e),m(t,[{key:"componentDidMount",value:function(){window.open_list=this.open_list}},{key:"componentWillUnmount",value:function(){window.open_list=null}},{key:"renderHeader",value:function(){return[p.default.createElement(_.default,{rank:this.props.rank.toFixed(1),defeat:this.props.defeat,order:this.props.full_order,mycard:this.props.mycard}),p.default.createElement("div",{className:"white-bg p-y"},p.default.createElement("div",{className:"p-x m-b clearfix"},p.default.createElement("div",{style:{fontSize:"15px"},className:"fl text-content p-y-10"},"近",this.props.history.length,"天影响力走势"),this.context.auth_info.u>0&&p.default.createElement("div",{className:"fr text-blue small p-y",onClick:function(){try{T("/contact/rank_history","影响力变化记录","fetch")}catch(e){alert(e)}}},"查看详情")),p.default.createElement(N.default,{history:this.props.history,cursor:this.props.cursor}))]}},{key:"render",value:function(){var e=this.props.mycard,t=o({},O.default);return t.top_right_item={title:"排行榜",callback:"open_list"},p.default.createElement("div",null,p.default.createElement(v.default,{title:e.name+"的行业影响力"}),p.default.createElement(j.default,{msg_to_app:t}),this.renderHeader(),p.default.createElement(k.default,{btns:["分享到朋友圈"],actions:[this.share],className:"imacss imacss-weicircle weicircle_icon"}))}}]),t}(p.default.Component),i.contextTypes={req:p.default.PropTypes.object,fconf:p.default.PropTypes.object,auth_info:p.default.PropTypes.object,env:p.default.PropTypes.object},c)}});