webpackJsonp([210],{914:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a(1),l=n(o),i=a(17),d=(n(i),a(75)),f=n(d),u=a(50),s=(n(u),a(15)),c=n(s),p=a(1028),m=a(114),h=n(m),b=a(76),y=n(b),x=a(981),g=n(x),v=a(166),_=v.Style,E=a(47);e.exports=l.default.createClass({displayName:"exports",contextTypes:{auth_info:l.default.PropTypes.object,req:l.default.PropTypes.object,fconf:l.default.PropTypes.object},componentDidMount:function(){document.body.style.background="#f9f9f9"},getInitialState:function(){return{ptid:this.props.id}},submit:function(){var e=E.findDOMNode(this.refs.textarea).value;if((0,p.checkStrEmpty)(e))return e="",void(0,y.default)("建议不能为空");if(void 0!=e&&""!=e&&e.length>500){var t=e.length-500;return void(0,y.default)("最多输入500个字,已经超过"+t+"字")}var a=this.context,n=(a.req,a.fconf),o=a.auth_info,l=r({ptid:this.state.ptid,u:o.u,text:e.trim()},o),i=n.online_url+"other/v4/proposal",d=fetch(i,{credentials:"same-origin",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c.default.stringify(l)}).then(f.default.parse_online_json).then(function(e){(0,y.default)("提交成功"),window.MaiMai_Native.close_native("",!0)}).catch(f.default.toast_error_handler);(0,h.default)("发送中..",d)},render:function(){return l.default.createElement("div",null,l.default.createElement(g.default,{title:"产品建议"}),l.default.createElement("div",{className:"m-t-md m-b m-l text-muted"},"详细描述你的建议"),l.default.createElement(_,{rules:{html:{height:"100%"},body:{height:"100%",backgroundColor:"#f3f3f3"}}}),l.default.createElement("div",{style:k.textareaStyleInput,className:"m-t"},l.default.createElement("textarea",{style:k.textarea,placeholder:"给脉脉产品提建议",ref:"textarea"})),l.default.createElement("div",{className:"m-x m-t"},l.default.createElement("button",{className:"btn btn-secondary btn-block btn-lg",onClick:this.submit},"提交")))}});var k={textarea:{display:"block",fontSize:"16px",border:"none",width:"100%",lineHeight:"22px",height:"140px",fontFamily:"Arial,sans-serif",outlineStyle:"none",resize:"none"},textareaStyleInput:{margin:"5px 1em",background:"#ffffff",borderRadius:"6px",color:"#414141",padding:"6px"},title:{height:"20px",color:"#999999",margin:"1em 1em 0.3em"}}}});