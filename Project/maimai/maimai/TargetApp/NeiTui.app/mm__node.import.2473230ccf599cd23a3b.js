webpackJsonp([82],{1156:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(1),c=n(s),f=a(171),d=n(f),u=a(46),m=n(u),p=a(15),h=n(p),_=function(e){function t(){var e,a,n,i;r(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.fill=function(){var e=n.props.contact;e.shared?(0,m.default)("/contact/detail2/"+e.mmid,"人脉详情","fetch"):(0,m.default)("/contact/share_friend_fill_info?"+h.default.stringify({mobile:e.mobile,name:e.name}),"标注人脉印象",{})},i=a,l(n,i)}return i(t,e),o(t,[{key:"render",value:function(){var e=this.props.contact;return c.default.createElement("div",{className:"border-bottom-e0 p-x p-y p-relative",onClick:this.fill},c.default.createElement("div",{className:"media-left font-0 media-middle"},c.default.createElement("img",{className:"avatar-45 radius-50",src:e.avatar})),c.default.createElement("div",{className:"media-body media-middle"},c.default.createElement("div",{className:"font-bold"},e.name),c.default.createElement("div",null,c.default.createElement("span",{className:"share_coin_icon2 media-middle m-r-5"}),c.default.createElement("span",{className:"small text-muted media-middle"},"50人脉币"))),c.default.createElement("div",{className:"media-right media-middle p-l-0"},c.default.createElement("div",{className:e.shared?"share_friend_text":"share_friend_btn"},e.shared?"已被标注":"去标注")),c.default.createElement(d.default,{dist:1}))}}]),t}(c.default.Component);t.default=e.exports=_},816:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o,s,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(1),u=n(d),m=a(981),p=n(m),h=a(1156),_=(n(h),a(15)),v=n(_),b=a(75),y=a(76),E=n(y),N=a(113);t.default=e.exports=(s=o=function(e){function t(){r(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleChange=function(){e.setState({name:e.refs.name.value,company:e.refs.company.value,reason:e.refs.reason.value})},e.share=function(){var t=e.state,a=t.name,n=t.company,r=t.reason,l=t.anoy,i=e.context.req.query.mobile,o=e.context,s=o.fconf,f=o.auth_info;if(a){var d=s.online_url+"user/v5/upadfr?"+v.default.stringify(c({name:a,mobile:i,company:n,reason:r,anony:l?1:0},f));fetch(d,{credentials:"same-origin"}).then(b.parse_online_json).then(function(e){(0,E.default)("标注成功，奖励50人脉币"),(0,N.sendWebViewBroadcast)("share_friend",{mobile:i}),window.MaiMai_Native.close_native&&window.MaiMai_Native.close_native(null,!0)})}},e.state={name:"",company:"",reason:"有两把刷子",anoy:!0},e}return i(t,e),f(t,[{key:"componentWillMount",value:function(){this.setState({name:this.context.req.query.name})}},{key:"render",value:function(){var e=this,t=this.context.req.query.mobile,a=(this.context.req.query.name,this.state),n=a.name,r=a.company,l=a.reason,i=a.anoy;return u.default.createElement("div",{className:"share_friend_info_bg"},u.default.createElement(p.default,{title:"标注人脉印象"}),u.default.createElement("div",{className:"m-x-25 m-t-20 font-0"},u.default.createElement("img",{className:"mw-100",src:"/static/images/share_friend_top_img2.png"})),u.default.createElement("div",{className:"share_friend_info_text"},"最信赖、最欣赏、最专业、职场贵人...",u.default.createElement("br",null),"标注人脉，把发自内心的欣赏告诉他(她)～"),u.default.createElement("div",{className:"share_friend_intro"},u.default.createElement("div",{className:"d-i-b text-left"},u.default.createElement("span",{className:"share_coin_icon2 media-middle m-r-5"}),"开始标注人脉来赚取人脉币吧",u.default.createElement("br",null),"还能更方便日后更精准地进行商业交往")),u.default.createElement("div",{className:"share_friend_list"},u.default.createElement("div",{className:"share_friend_input_row m-x m-t-10"},u.default.createElement("div",{className:"fl d-i-b p-r-7"},"姓名"),u.default.createElement("div",{className:"o-hidden"},u.default.createElement("input",{ref:"name",type:"text",value:n,onChange:this.handleChange}))),u.default.createElement("div",{className:"share_friend_input_row m-x m-t-10"},u.default.createElement("div",{className:"fl d-i-b p-r-7"},"标注印象"),u.default.createElement("div",{className:"o-hidden"},u.default.createElement("input",{ref:"reason",type:"text",placeholder:"必填",value:l,onChange:this.handleChange}))),u.default.createElement("div",{className:"share_friend_input_row m-x m-t-10"},u.default.createElement("div",{className:"fl d-i-b p-r-7"},"公司"),u.default.createElement("div",{className:"o-hidden"},u.default.createElement("input",{ref:"company",type:"text",placeholder:"选填",value:r,onChange:this.handleChange}))),u.default.createElement("div",{className:"share_friend_text_row m-x"},u.default.createElement("div",{className:"fl d-i-b p-r-7"},"电话"),t),u.default.createElement("div",{className:"text-right p-x m-b"},u.default.createElement("span",{className:"d-i-b media-middle font-15 text-muted"},"匿名标注"),u.default.createElement("div",{className:"share_friend_radio_wrap",onClick:function(){e.setState({anoy:!e.state.anoy})}},u.default.createElement("span",{className:i?"share_yes_icon":""}))),u.default.createElement("div",{className:n&&l?"share_friend_info_btn":"share_friend_info_btn_disabled",onClick:this.share},"标注并领取奖励"),u.default.createElement("div",{className:"share_friend_info_tips"},u.default.createElement("div",null,"标注成功将短信通知对方"),u.default.createElement("div",null,"当他们加入脉脉时，将会第一时间通知你"))),u.default.createElement("div",{className:"share_friend_shadow m-b-20"},u.default.createElement("img",{src:"/static/images/share_friend_shadow.png"})))}}]),t}(u.default.Component),o.contextTypes={auth_info:u.default.PropTypes.object,req:u.default.PropTypes.object,fconf:u.default.PropTypes.object,env:u.default.PropTypes.object},s)}});