webpackJsonp([130],{1575:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(1),c=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.score,n=e.icon,r=e.click,i=e.binded,o=e.owner,s=e.showNew,l="";return l=o?i?a>0?a:"":"去绑定":i?a>0?a:"":"未绑定",c.default.createElement("div",{className:"clearfix",onClick:r||function(){}},c.default.createElement("div",{className:"fl p-y-20 m-r p-l-20"},c.default.createElement("div",{className:"font-0 radius-50 avatar-50 o-hidden"},c.default.createElement("img",{className:"radius-50 w-100",src:n}))),c.default.createElement("div",{className:"p-y-20 p-r-20 o-hidden font-16 text-black-3 border-bottom-e0"},c.default.createElement("div",{className:"fr text-green-2bb196 p-y"},l,o&&c.default.createElement("span",{className:"imacss imacss-arrow4 arrow m-l-10"})),c.default.createElement("div",{className:"o-hidden p-y"},t,s&&c.default.createElement("div",{className:"tab3_new_icon_red"}))))}}]),t}(c.default.Component);t.default=e.exports=l},924:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),l=n(c),u=a(1575),d=n(u),p=a(981),f=n(p),m=a(50),h=n(m),_=a(113),b=a(271),v=n(b),y=a(46),g=n(y),k=a(164).getCache,w=a(164).putCache;t.default=e.exports=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getCacheToState=function(e){k(e,function(t){if(t){var n={};n[e]=parseInt(t),a.setState(n)}else{var n={};n[e]=0,a.setState(n)}})},a.zhimaScoreUpdate=function(e){var t=a.props.cursor;e[25200151]&&t.select("open_data","25200151").set(e[25200151])},a.tianchengScoreUpdate=function(e){var t=a.props.cursor;e[25200927]&&t.select("open_data","25200927").set(e[25200927])},a.kaolaScoreUpdate=function(e){var t=a.props.cursor;e[25200920]&&t.select("open_data","25200920").set(e[25200920])},a.jdxbScoreUpdate=function(e){var t=a.props.cursor;e[25200252]&&t.select("open_data","25200252").set(e[25200252])},a.weipinScoreUpdate=function(e){var t=a.props.cursor;e[25200801]&&t.select("open_data","25200801").set(e[25200801])},a.zhimaDetail=function(){var e=a.props.open_data?a.props.open_data[25200151]:{status:0,score:0};(0,h.default)("/zhima_score?u2="+e.ouid2,a.props.uinfo2.realname+"的芝麻信用")},a.tianchengDetail=function(){var e=a.props.open_data?a.props.open_data[25200927]:{status:0,score:0};(0,h.default)("/tiancheng_score?u2="+e.ouid2,a.props.uinfo2.realname+"的甜橙信用")},a.jdxbDetail=function(){var e=a.props.open_data?a.props.open_data[25200252]:{status:0,score:0};(0,h.default)("/jdxb_score?u2="+e.ouid2,a.props.uinfo2.realname+"的京东小白信用")},a.kaolaDetail=function(){var e=a.props.open_data?a.props.open_data[25200920]:{status:0,score:0};(0,h.default)("/kaola_score?u2="+e.ouid2,a.props.uinfo2.realname+"的考拉信用")},a.weipinDetail=function(){var e=a.props.open_data?a.props.open_data[25200801]:{status:0,score:0};(0,h.default)("/weipin_score?u2="+e.ouid2,a.props.uinfo2.realname+"的唯品信用")},a.bindZhimaDetail=function(){1==a.props.uinfo.status?(0,h.default)("/zhima_bind","芝麻信用授权"):alert("绑定芝麻信用前，需要先完善个人资料。")},a.bindTianchengDetail=function(){1==a.props.uinfo.status?(0,h.default)("/tiancheng_auth","甜橙信用授权"):alert("绑定甜橙信用前，需要先完善个人资料。")},a.bindJdxbDetail=function(){w("jdxb_clicked",1),a.setState({jdxb_clicked:1}),1==a.props.uinfo.status?(0,h.default)("/jdxb_auth","京东小白授权"):alert("绑定京东小白信用前，需要先完善个人资料。")},a.bindKaolaDetail=function(){1==a.props.uinfo.status?(0,h.default)("/kaola_auth","考拉征信授权"):alert("绑定考拉信用前，需要先完善个人资料。")},a.bindWeipinDetail=function(){1==a.props.uinfo.status?(0,h.default)("/weipin_auth","唯品信用授权"):alert("绑定唯品信用前，需要先完善个人资料。")},a.rankCenter=function(){var e=a.props.uinfo.encode_mmid?a.props.uinfo.encode_mmid:a.props.uinfo.mmid;(0,g.default)("/contact/rank_detail?u2="+e,a.props.uinfo.name+"的行业影响力","fetch")},a.memberCenter=function(e){e&&e.stopPropagation(),(0,h.default)("/uh_memlist?tpl=show&fr=visit_history_credit","会员中心")},a.state={jdxb_clicked:1},a}return o(t,e),s(t,[{key:"componentDidMount",value:function(){(0,_.bindBroadcast)("zhima_score_update",this.zhimaScoreUpdate),(0,_.bindBroadcast)("tiancheng_score_update",this.tianchengScoreUpdate),(0,_.bindBroadcast)("kaola_score_update",this.kaolaScoreUpdate),(0,_.bindBroadcast)("jdxb_score_update",this.jdxbScoreUpdate),(0,_.bindBroadcast)("weipinScoreUpdate",this.weipinScoreUpdate),this.getCacheToState("jdxb_clicked")}},{key:"componentWillUnmount",value:function(){(0,_.unbindBroadcast)("zhima_score_update",this.zhimaScoreUpdate),(0,_.unbindBroadcast)("tiancheng_score_update",this.tianchengScoreUpdate),(0,_.unbindBroadcast)("kaola_score_update",this.kaolaScoreUpdate),(0,_.unbindBroadcast)("jdxb_score_update",this.jdxbScoreUpdate),(0,_.unbindBroadcast)("weipinScoreUpdate",this.weipinScoreUpdate)}},{key:"renderItem",value:function(e,t,a,n,r,i,o){return l.default.createElement(d.default,{name:e,score:t,click:i,icon:a,key:e,binded:r,owner:n,showNew:o})}},{key:"renderRankHistory",value:function(){var e=this.props,t=(e.open_data,e.uinfo),a=e.uinfo2,n=a.id==t.id;if(this.props.rank_history_day&&n){var r=this.props.rank_history_day.cnt||0,i=0==this.props.uinfo.mem_st||this.props.uinfo.mem_id&&this.props.uinfo.mem_id<=2;return l.default.createElement("div",{className:"visitor_rank",onClick:this.rankCenter},l.default.createElement("div",{className:"p-x p-y-20"+(i?" border-bottom-e0":"")},l.default.createElement("div",{className:"media-left font-0 media-middle"},l.default.createElement("img",{className:"avatar-52",src:"/static/images/paihang2.png"})),l.default.createElement("div",{className:"media-body media-middle"},l.default.createElement("div",{className:"font-16"},"行业影响力 ",parseInt(this.props.mystatus.rank)),l.default.createElement("div",{className:"font-13 text-muted m-t-5"},"今日",l.default.createElement("span",{className:"text-orange-hl"},r),"个访客",r>0&&l.default.createElement("span",null,"，影响力",l.default.createElement("span",{className:"text-orange-hl"},"+",this.props.rank_history_day.rank.toFixed(2))))),l.default.createElement("div",{className:"media-right p-l-0 media-middle"},l.default.createElement("span",{className:"arrow_light"}))),i&&l.default.createElement("div",{className:"font-15 text-muted p-y-12 p-x",onClick:this.memberCenter},l.default.createElement("span",{className:"visitor_rank_btn fr"},"马上提升"),l.default.createElement("div",{className:"o-hidden"},l.default.createElement("span",{className:"visitor_gift_icon media-middle m-r-5"}),l.default.createElement("span",{className:"d-i-b media-middle"},"提升影响力，让你人气更旺!"))),l.default.createElement(v.default,{key:"vh_credi",icon_classname:"null",headClass:"p-b-5 p-t p-x gray-bg-f2f6f7 text-info"}))}}},{key:"render",value:function(){var e=this.props,t=e.open_data,a=e.uinfo,n=e.uinfo2,r=[],i=t?t[25200151]:{status:0,score:0},o=n.id==a.id,s=1==i.status,c=o?s?this.zhimaDetail:this.bindZhimaDetail:null;r.push(this.renderItem("芝麻信用",i.score,"/static/images/zhima.png",o,s,c));var u=t?t[25200252]:{status:0,score:0};s=1==u.status,c=o?s?this.jdxbDetail:this.bindJdxbDetail:null,r.push(this.renderItem("京东小白信用",u.score,"/static/images/jdxiaobai.png",o,s,c,1!=this.state.jdxb_clicked));var d=t?t[25200927]:{status:0,score:0};s=1==d.status,c=o?s?this.tianchengDetail:this.bindTianchengDetail:null,r.push(this.renderItem("甜橙信用",d.score,"/static/images/tianchen.png",o,s,c));var p=t?t[25200920]:{status:0,score:0};s=1==p.status,c=o?s?this.kaolaDetail:this.bindKaolaDetail:null,r.push(this.renderItem("考拉征信",p.score,"/static/images/kaola2.png",o,s,c));var m=t?t[25200801]:{status:0,score:0};return s=1==m.status,c=o?s?this.weipinDetail:this.bindWeipinDetail:null,r.push(this.renderItem("唯品信用",m.score,"/static/images/weipinhui.png",o,s,c)),l.default.createElement("div",null,this.renderRankHistory(),l.default.createElement(f.default,{title:"个人信用"}),r)}}]),t}(l.default.Component)}});