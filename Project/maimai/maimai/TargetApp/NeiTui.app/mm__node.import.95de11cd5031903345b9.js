webpackJsonp([185],{738:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),d=o(s),p=n(75),h=n(15),g=o(h),m=n(273),y=(o(m),n(165)),b=o(y),v=n(271),_=(o(v),n(981)),P=(n(50),n(46)),j=n(982),E=(n(63),n(990)),O=(n(17),n(116),n(983),n(1095),n(270));t.default=e.exports=(u=l=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,u=Array(l),f=0;f<l;f++)u[f]=arguments[f];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.loadMore=function(e){var t=o.context,n=(t.fconf,t.req,t.auth_info),r=o.props,a=r.cursor,i=(r.searchTokens,o.refs.loader);i&&i.bindRequest(function(){var e=20*o.nextPage,t="/search/uh_my_unfriend?"+g.default.stringify(c({limit:20,offset:e,jsononly:1},n));return fetch(t,{credentials:"same-origin"}).then(p.parse_online_json).then(function(e){a.select("requests").concat(e.data.requests),a.select("more").set(e.data.more),o.nextPage++})})},o.goUhChat=function(e,t){e.stopPropagation(),P("/uh_chat?"+g.default.stringify({u2:t,from:"unfriend"}),"极速联系","fetch")},i=n,a(o,i)}return i(t,e),f(t,[{key:"componentDidMount",value:function(){this.nextPage=1}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.requests,o=t.more,r=t.cursor,a=this.context;a.req,a.auth_info;return void 0===n?d.default.createElement("div",null):this.props.loading||this.props.failed?d.default.createElement(b.default,{ref:"loading",reload:this.onReload,failed:this.props.failed}):0==n.length?d.default.createElement("div",{className:"searchList",style:E.empty},"暂无数据"):d.default.createElement("div",null,d.default.createElement(_,{title:"极速联系"}),d.default.createElement(j,{loadMore:function(){e.loadMore(1)},hasMore:1==o,loader:d.default.createElement(b.default,{ref:"loader",reload:function(){e.loadMore(2)},cursor:r.select("loading_status")})},d.default.createElement("div",{className:"panel panel-default"},d.default.createElement("ul",{className:"list-group"},n.map(function(t,n){var o="";return o=d.default.createElement("div",{className:"fast_click_btn",style:w.noPaddingRight,onClick:function(n){e.goUhChat(n,t.uid2)}},"极速联系"),1==t.to_ucard.dist?"":d.default.createElement(O,{contact:t.to_ucard,hideDist:!0},o)})))))}}]),t}(d.default.Component),l.contextTypes={req:d.default.PropTypes.object,fconf:d.default.PropTypes.object,auth_info:d.default.PropTypes.object},u);var w={done:{marginTop:6,height:40,lineHeight:"40px",verticalAlign:"middle",backgroundColor:"#efefef"},buttons:{marginTop:6,height:40},button:{display:"inline-block",width:"50%",paddingLeft:4,paddingRight:4},noPaddingRight:{marginRight:"-10px",marginTop:"6px"}}}});