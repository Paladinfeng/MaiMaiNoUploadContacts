webpackJsonp([114],{1635:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var i=a(46),n=s(i),r=a(169),c=s(r),l=(a(17),a(1)),m=l.createClass({displayName:"HotAppLiveItem",contextTypes:{req:l.PropTypes.object,fconf:l.PropTypes.object,auth_info:l.PropTypes.object,wx_sdk:l.PropTypes.object},getInitialState:function(){return{show_percent:!1}},componentDidMount:function(){this.setState({show_percent:!0})},clickLive:function(e){(0,n.default)("/article/live2?uid="+e,"职播","fetch")},getPercentMaxWidth:function(){return(0,c.default)().width-197},render:function(){var e=this.getPercentMaxWidth(),t=this.props.data,a=t.winner_vote+t.loser_vote+.1,s=t.winner_vote/a,i=t.loser_vote/a;return l.createElement("div",{className:"moh_border m-x-10 p-x-5 p-y-10 m-y"},l.createElement("div",{className:"moh_orange_ff7422 m-b font-bold font-15"},t.group_name,"：",t.winner_name),l.createElement("div",null,l.createElement("div",{className:"m-b font-bold font-16"},t.live_title),l.createElement("div",{className:"media-body media-middle"},l.createElement("div",{className:"m-b-5"},t.live_time),l.createElement("div",null,t.user_company,l.createElement("br",null),t.user_title," ",t.user_name)),l.createElement("div",{className:"media-right media-middle"},l.createElement("div",{className:"moh_live_box",onClick:this.clickLive.bind(this,t.mmid)},l.createElement("img",{className:"moh_bgTranslate",src:t.user_avatar}),l.createElement("img",{className:"mo_img_cover",src:"/static/images/mo_img_cover.png"}),l.createElement("img",{className:"mo_play_icon white_play_icon",src:"/static/images/white_play_icon.png"})))),l.createElement("div",{className:"m-t-5"},l.createElement("div",{className:"media-left media-middle"},l.createElement("div",{className:"avatar-25 font-0 moh_border_solid radius-50"},l.createElement("img",{className:"mw-100",src:t.winner_logo}))),l.createElement("div",{className:"media-body media-middle"},l.createElement("div",{className:"d-i-b media-middle",style:{width:e*s}},l.createElement("div",{className:"moh_app_left_percent "+(this.state.show_percent?"d-i-b percent_move":"d-n")})),this.state.show_percent&&l.createElement("div",{className:"moh_app_ballots d-i-b p-l-10 media-middle"},l.createElement("span",{className:"font-13"},t.winner_name),l.createElement("span",{className:"small text-muted"}," ",t.winner_vote,"票")))),l.createElement("div",{className:"m-t-5"},l.createElement("div",{className:"media-left media-middle"},l.createElement("div",{className:"avatar-25 font-0 moh_border_solid radius-50"},l.createElement("img",{className:"mw-100",src:t.loser_logo}))),l.createElement("div",{className:"media-body media-middle"},l.createElement("div",{className:"d-i-b media-middle",style:{width:e*i}},l.createElement("div",{className:"moh_app_right_percent "+(this.state.show_percent?"d-i-b percent_move":"d-n")})),this.state.show_percent&&l.createElement("div",{className:"moh_app_ballots d-i-b p-l-10 media-middle"},l.createElement("span",{className:"font-13"},t.loser_name),l.createElement("span",{className:"small text-muted"}," ",t.loser_vote,"票")))))}});e.exports=m},929:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n=a(981),r=s(n),c=a(983),l=s(c),m=a(46),o=s(m),d=a(169),p=s(d),_=a(115),u=a(15),h=s(u),f=a(75),v=a(114),b=s(v),g=a(76),E=s(g),N=a(1635),w=s(N),y=a(17),x=a(1),k=x.createClass({displayName:"MeetingOnlineHotApp",contextTypes:{req:x.PropTypes.object,fconf:x.PropTypes.object,auth_info:x.PropTypes.object,wx_sdk:x.PropTypes.object},componentWillReceiveProps:function(e,t){if(!this.props.wx_sdk_inited&&e.wx_sdk_inited){var a={title:"这里有集齐了七大最火应用的直播",link:window.location.href,imgUrl:"https://maimai.cn/static/images/activity/hot_app/hot_share.png",desc:"约吗？",success:function(){},cancel:function(){}};t.wx_sdk.onMenuShareAppMessage(a),t.wx_sdk.onMenuShareTimeline(a),t.wx_sdk.onMenuShareQQ(a),t.wx_sdk.onMenuShareQZone(a)}},componentDidMount:function(){this.setState({show_percent:!0})},focusNumber:function(){var e=(0,p.default)().width,t=e-30;return parseInt(t/33)-1},clickLive:function(e){(0,o.default)("/article/live2?uid="+e,"职播","fetch")},clickSubAll:function(){var e=this;if(this.context.auth_info.u<0)return void(0,_.launch_webview)();if(!this.props.is_subbed){var t=this.context,a=(t.req,t.fconf),s=t.auth_info,n=this.props,r=n.lidList,c=n.fr;console.log("fconf.online_url"+a.online_url);var l=a.online_url+"user/v4/sub_lives?"+h.default.stringify(i({lids:r.toString(),fr:c},s)),m=fetch(l).then(f.parse_online_json).then(function(){(0,E.default)("已约！！！"),e.props.cursor.select("is_subbed").set(!0),e.props.cursor.select("subbed_count").set(e.props.cursor.select("subbed_count").get()+1);var t=e.props.cursor.select("subbed_users").get(),a=e.props.cursor.select("my_card").get(),s=[];s.push(a),y.map(t,function(e){s.push(e)}),e.props.cursor.select("subbed_users").set(s)}).catch(f.toast_error_handler);(0,b.default)("请稍候..",m)}},renderMoreItem:function(){var e={share_info:{title:"这里有集齐了七大最火应用的直播",icon_url:"https://maimai.cn/static/images/activity/hot_app/hot_share.png",desc:"约吗？"},more_items:[{title:"分享",callback:"MaiMai_Native.native_share(1)"}]};return x.createElement(l.default,{msg_to_app:e})},render:function(){var e=this.props,t=e.groups,a=e.subbed_count,s=e.is_subbed,i=this.props.subbed_users,n=this.focusNumber(),c=s?"已约！！！":"约！！！",l=["touzijie","sutuwangluo","pinwan","pintu","ITjuzi","yiou","aimeiwang","jinhuicaijing","xinya"];return x.createElement("div",null,x.createElement(r.default,{title:"脉脉职播“最火应用”"}),this.renderMoreItem(),x.createElement("div",{className:"hot_app_bg"},x.createElement("div",{className:"mo_wrap"},x.createElement("div",{className:"hot_app_header"},x.createElement("img",{className:"mw-100",src:"/static/images/hot_app_banner.png"})),x.createElement("div",{className:"hot_app_slogan"},"—— 脉脉职播嘉宾由你投票决定 ——"),x.createElement("div",{className:"moh_focus p-b m-x"},x.createElement("div",{className:"p-y-10 clearfix"},x.createElement("div",{className:"fl"},x.createElement("span",{className:"moh_focus_num"},a),x.createElement("span",{className:"text-orange-ff985a"},"人关注")),x.createElement("div",{className:"fr",style:{marginRight:"2px"},onClick:this.clickSubAll},x.createElement("span",{className:"moh_focus_btn text-center text-white"},c))),x.createElement("ul",{className:"list-unstyled clearfix moh_focus_list m-y"},i.map(function(e,t){return t<n?x.createElement("li",null,x.createElement("img",{src:e.avatar}),(e.judge=1)&&x.createElement("img",{className:"mo_addv",src:"/static/images/mo_v.png"})):t==n?x.createElement("li",{className:"moh_more"},"..."):""}))),x.createElement("div",{className:"clearfix p-x p-t-15 m-t-10"},x.createElement("div",{className:"fl"},x.createElement("img",{className:"moh_title",src:"/static/images/hot_app/moh_title.png"}))),t.map(function(e,t){return x.createElement(w.default,{data:e})}),x.createElement("div",{className:"font-12 p-x-10 p-y-10"},"主办方: "),x.createElement("div",{className:"p-x-10"},x.createElement("img",{className:"m-r-5 m-b-5",style:{height:25},src:"/static/images/hot_app/hot_app_partner_maimaizhibo.png"})),x.createElement("div",{className:"font-12 p-x-10 p-y-10"},"合作媒体: "),x.createElement("div",{className:"p-x-10"},l.map(function(e){return x.createElement("img",{className:"m-r-5 m-b-5",style:{height:25},src:"/static/images/hot_app/hot_app_partner_"+e+".png"})})))))}});e.exports=k}});