webpackJsonp([257],{751:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(1),c=n(i),r=a(981),s=n(r),o=a(270),d=n(o),u=a(15),f=n(u),p=(a(113),a(117)),m=a(75),_=a(76),v=n(_),h=a(114),b=n(h),N=a(115);e.exports=c.default.createClass({displayName:"exports",contextTypes:{auth_info:c.default.PropTypes.object,req:c.default.PropTypes.object,fconf:c.default.PropTypes.object},sendMessage:function(){window.MaiMai_Native.native_chat&&window.MaiMai_Native.native_chat(null,this.props.card.id),window.MaiMai_Native.close_native&&window.MaiMai_Native.close_native("",!0)},addFriend:function(){var e=this.props.card,t=this.context,a=t.req,n=t.auth_info,i=t.fconf;if(n.u>0){var c=i.online_url+"contact/v3/init_qrreq?"+f.default.stringify(l({u2:e.id,t:a.query.t,attach:"通过扫描二维码添加"},n)),r=fetch(c).then(m.parse_online_json).catch(m.toast_error_handler).then(function(e){(0,v.default)("加好友成功，等待对方通过请求"),window.MaiMai_Native.close_native&&window.MaiMai_Native.close_native("",!0)});(0,b.default)("请求中",r)}else(0,N.launch_webview)()},render:function(){var e,t=this.props,a=t.card,n=t.img,l=t.inapp_d1cnt;this.context.auth_info;return 0==a.dist?(a.dist1_count=l.total||a.dist1_count,e=c.default.createElement("div",null,c.default.createElement("p",{className:"text-center center-block",style:{height:250}},c.default.createElement("img",{className:"center-block",style:(0,p.square)(250),src:n.url})),c.default.createElement("p",{className:"text-center text-muted"},"用",c.default.createElement("span",{className:"text-info"},"脉脉"),"扫描二维码，加我好友"))):e=1==a.dist?c.default.createElement("p",{className:"p-x"},c.default.createElement("button",{onClick:this.sendMessage,className:"btn btn-lg btn-primary btn-block"},"发消息")):c.default.createElement("p",{className:"p-x"},c.default.createElement("button",{onClick:this.addFriend,className:"btn btn-lg btn-primary btn-block"},"加好友")),c.default.createElement("div",null,c.default.createElement(s.default,{title:"二维码名片"}),c.default.createElement("div",{className:"p-x m-t"},c.default.createElement("ul",{className:"list-group"},c.default.createElement(d.default,{contact:a})),e))}})}});