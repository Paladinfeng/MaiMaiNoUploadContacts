webpackJsonp([301],{955:function(e,t,a){"use strict";(function(l){function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var m,o,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),f=a(1),p=n(f),v=a(981),E=n(v),h=a(15),_=n(h),g=a(76),N=n(g),y=a(114),w=n(y),x=a(274),b=(n(x),a(75)),k=n(b),T=(o=m=function(e){function t(e){s(this,t);var a=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.goStepTwo=function(){if(a.props.isEnd)return void(0,N.default)("本次活动已结束。");a.props.cursor.select("step").set(2)},a.showInfo=function(e){var t=l(e.currentTarget);l(".J_info").hide(),t.find(".J_info").show()},a.getInfo=function(e){e.stopPropagation();var t=l(e.currentTarget).attr("name"),n=l(e.target).text();a.handleChange(t,n),l(".J_info").hide()},a.handleChange=function(e,t){e&&t?a.setState(i({},e,t)):a.setState({name:a.refs.name.value,phone:a.refs.phone.value,gender:l("input[name='gender']:checked").val()})},a.submitInfo=function(){var e=a.state,t=e.name,l=e.phone,n=e.gender,i=e.place,s=e.attendTime,c=e.source,r=/^1[3|4|5|7|8][0-9]\d{4,8}$/,m=a.props.isEnd,o=a.props.cursor;if(m)return void(0,N.default)("本次活动已结束。");if(!(t&&l&&n&&i&&s&&c))return void(0,N.default)("请填写完全部信息。");if(!r.test(l))return void(0,N.default)("请填写正确的手机号码。");var u=fetch("/sdk/activity/distortion_work?",{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:_.default.stringify(d({},a.state,{type:a.props.type}))}).then(k.default.parse_online_json).then(function(e){o.select("count").set(e.count),window.history.pushState("distortion","职场变型计","?actionid="+e.actionid),(0,N.default)("信息提交成功。",500),setTimeout(function(){o.select("step").set(3)},500)}).catch(k.default.toast_error_handler);(0,w.default)("提交中...",u)},a.share=function(){var e=a.context.auth_info,t=a.props.count;fetch("/sdk/activity/share_distortion?"+_.default.stringify({name:a.state.name,phone:a.state.phone}),{credentials:"same-origin"}).then(k.default.parse_online_json),e.u>-1&&window.MaiMai_Native.native_share_v2?window.MaiMai_Native.native_share_v2(1,JSON.stringify({icon_url:"https://maimai.cn/static/images/mailogo.jpg",title:"我是第"+t+"位#30小时职场变型计划#体验官",desc:"天真蓝职业照限时免费"})):a.props.cursor.select("out_side_share").set(!0)},a.hideShare=function(){a.props.cursor.select("out_side_share").set(!1)},a.play=function(e){e.stopPropagation();var t=document.getElementById("video");t.paused?(l("video").show(),t.setAttribute("webkit-playsinline",""),t.play(),l(e.currentTarget).find("img").hide()):t.pause()},a.state={name:"",gender:"",phone:"",place:"",attendTime:"",source:""},a}return r(t,e),u(t,[{key:"componentDidMount",value:function(){document.documentElement.scrollTop=document.body.scrollTop=l("#submit_btn").offset().top}},{key:"componentWillReceiveProps",value:function(e,t){var a=this.props.count;if(!this.props.wx_sdk_inited&&e.wx_sdk_inited){var l={title:"我是第"+a+"位#30小时职场变型计划#体验官",link:window.location.href,imgUrl:"https://maimai.cn/static/images/mailogo.jpg",desc:"天真蓝职业照限时免费",success:function(){},cancel:function(){}};t.wx_sdk.onMenuShareAppMessage(l),t.wx_sdk.onMenuShareTimeline(l),t.wx_sdk.onMenuShareQQ(l),t.wx_sdk.onMenuShareQZone(l)}}}]),u(t,[{key:"renderDistortionOne",value:function(){var e=this.props.type;return p.default.createElement("div",{className:"distortion_one"},p.default.createElement("div",{className:"distortion_video",onClick:this.play},p.default.createElement("img",{src:"/static/images/activity/activity_distortion/video.png",className:"mx-w-100"}),p.default.createElement("video",{id:"video",src:"https://f9.taou.com/maimai-30h-popup.mp4",playsInline:!0,controls:!0,poster:"/static/images/activity/activity_distortion/video.png"})),p.default.createElement("div",{className:"distortion_time"},p.default.createElement("img",{src:"/static/images/activity/activity_distortion/time.png",className:"img_time"}),p.default.createElement("img",{src:"/static/images/activity/activity_distortion/unit.png",className:"img_unit"})),p.default.createElement("div",{className:"media p-l-20 m-b-10"},p.default.createElement("div",{className:"media-left"},p.default.createElement("img",{src:"/static/images/activity/activity_distortion/plan.png",className:"img_plan"})),p.default.createElement("div",{className:"media-body text-white-fff l-h-18"},p.default.createElement("span",null,"快闪照相馆",p.default.createElement("br",null),e?"上海站":"北京站"))),p.default.createElement("div",{className:"for_free"},"职业照限时免费",p.default.createElement("span",{className:"distortion_price m-l"},"原价299")),p.default.createElement("div",{className:"clearfix p-x-25"},p.default.createElement("div",{className:"fl company_img"},p.default.createElement("img",{src:"/static/images/activity/activity_distortion/company"+(e?"5":"2")+".png",className:"mx-w-100"})),p.default.createElement("div",{className:"fr"},e?p.default.createElement("ul",null,p.default.createElement("li",{className:"place_time text-white-fff"},p.default.createElement("div",null,"9",p.default.createElement("span",{className:"small"},"月"),"21",p.default.createElement("span",{className:"small"},"日")),p.default.createElement("div",{className:"text-orange-ff7200 line"},"/"),p.default.createElement("div",null,"兴业太古汇")),p.default.createElement("li",{className:"place_time text-white-fff"},p.default.createElement("div",null,"9",p.default.createElement("span",{className:"small"},"月"),"22",p.default.createElement("span",{className:"small"},"日")),p.default.createElement("div",{className:"text-orange-ff7200 line"},"/"),p.default.createElement("div",null,"兴业太古汇")),p.default.createElement("li",{className:"place_time text-white-fff"},p.default.createElement("div",null,"9",p.default.createElement("span",{className:"small"},"月"),"23",p.default.createElement("span",{className:"small"},"日")),p.default.createElement("div",{className:"text-orange-ff7200 line"},"/"),p.default.createElement("div",null,"兴业太古汇"))):p.default.createElement("ul",null,p.default.createElement("li",{className:"place_time text-white-fff"},p.default.createElement("div",null,"9",p.default.createElement("span",{className:"small"},"月"),"14",p.default.createElement("span",{className:"small"},"日")),p.default.createElement("div",{className:"text-orange-ff7200 line"},"/"),p.default.createElement("div",null,"光华路SOHO")),p.default.createElement("li",{className:"place_time text-white-fff"},p.default.createElement("div",null,"9",p.default.createElement("span",{className:"small"},"月"),"15",p.default.createElement("span",{className:"small"},"日")),p.default.createElement("div",{className:"text-orange-ff7200 line"},"/"),p.default.createElement("div",null,"望京SOHO")),p.default.createElement("li",{className:"place_time text-white-fff"},p.default.createElement("div",null,"9",p.default.createElement("span",{className:"small"},"月"),"16",p.default.createElement("span",{className:"small"},"日")),p.default.createElement("div",{className:"text-orange-ff7200 line"},"/"),p.default.createElement("div",null,"银河SOHO"))))),p.default.createElement("a",{href:"javascript:;",className:"distortion_start",id:"submit_btn",onClick:this.goStepTwo},"我要变型"),p.default.createElement("div",{className:"distortion_des"},"报名截止至9月",e?"18":"11","日，系统将随机抽取免费职业照",p.default.createElement("br",null),"的拍摄名单，9月",e?"19":"12","日发送短信通知"))}},{key:"renderDistortionTwo",value:function(){var e=this,t=this.state,a=t.name,l=t.phone,n=t.gender,i=t.place,s=t.attendTime,c=t.source,r=!!(a&&l&&n&&i&&s&&c);return p.default.createElement("div",{className:"distortion_two"},p.default.createElement("div",{className:"clearfix m-b-10"},p.default.createElement("div",{className:"fl model_img"},p.default.createElement("img",{src:"/static/images/activity/activity_distortion/model3.jpg",className:"mx-w-100"})),p.default.createElement("div",{className:"fr model_img"},p.default.createElement("img",{src:"/static/images/activity/activity_distortion/model2.png",className:"mx-w-100"}))),p.default.createElement("div",{className:"font-17 text-white l-h-24 m-b-7"},"填写报名信息"),p.default.createElement("div",{className:"info_from"},p.default.createElement("div",{className:"clearfix"},p.default.createElement("div",{className:"from_group fl"},p.default.createElement("span",{className:"info_tit"},"姓名"),p.default.createElement("input",{type:"text",className:"from_com special",ref:"name",value:a,onChange:function(){e.handleChange()}})),p.default.createElement("div",{className:"fr",onClick:function(){e.handleChange()}},p.default.createElement("label",null,"男",p.default.createElement("input",{type:"radio",name:"gender",value:"1"}),p.default.createElement("i",{className:"checkbox_box "+(1==n?"checked_box":"")})),p.default.createElement("label",null,"女",p.default.createElement("input",{type:"radio",name:"gender",value:"2"}),p.default.createElement("i",{className:"checkbox_box "+(2==n?"checked_box":"")})))),p.default.createElement("div",{className:"from_group"},p.default.createElement("span",{className:"info_tit"},"电话"),p.default.createElement("input",{type:"text",className:"from_com",ref:"phone",value:l,onChange:function(){e.handleChange()}})),p.default.createElement("div",{className:"from_group clearfix",onClick:this.showInfo},p.default.createElement("span",{className:"info_tit fl"},"拍摄地点"),p.default.createElement("div",{className:"from_com fl"},i,p.default.createElement("ul",{className:"J_info",name:"place",onClick:this.getInfo},p.default.createElement("li",null,"9月21日 兴业太古汇3层"),p.default.createElement("li",null,"9月22日 兴业太古汇3层"),p.default.createElement("li",null,"9月23日兴业太古汇3层")))),p.default.createElement("div",{className:"from_group clearfix",onClick:this.showInfo},p.default.createElement("span",{className:"info_tit fl"},"拍摄时间"),p.default.createElement("div",{className:"from_com fl"},s,p.default.createElement("ul",{className:"J_info",name:"attendTime",onClick:this.getInfo},p.default.createElement("li",null,"10:00-11:00"),p.default.createElement("li",null,"11:00-12:00"),p.default.createElement("li",null,"13:00-14:00"),p.default.createElement("li",null,"14:00-15:00"),p.default.createElement("li",null,"15:00-16:00"),p.default.createElement("li",null,"16:00-17:00"),p.default.createElement("li",null,"17:00-18:00"),p.default.createElement("li",null,"18:00-19:00"),p.default.createElement("li",null,"19:00-20:00 ")))),p.default.createElement("div",{className:"from_group clearfix",onClick:this.showInfo},p.default.createElement("span",{className:"info_tit fl"},"您是从哪获取活动信息的"),p.default.createElement("div",{className:"from_com fl"},c,p.default.createElement("ul",{className:"J_info",name:"source",onClick:this.getInfo},p.default.createElement("li",null,"脉脉"),p.default.createElement("li",null,"天真蓝"),p.default.createElement("li",null,"其他"))))),p.default.createElement("a",{href:"javascript:;",className:"submit_info "+(r?"l-g-origin":""),onClick:this.submitInfo},"提交"))}},{key:"renderDistortionThree",value:function(){return p.default.createElement("div",{className:"distortion_three"},p.default.createElement("div",{className:"three_img_one"},p.default.createElement("img",{src:"/static/images/activity/activity_distortion/welcome.png",className:"mx-w-100"})),p.default.createElement("div",{className:"three_img_two"},p.default.createElement("img",{src:"/static/images/activity/activity_distortion/time.png",className:"mx-w-100"}),p.default.createElement("img",{src:"/static/images/activity/activity_distortion/unit.png",className:"mx-w-100"})),p.default.createElement("div",{className:"three_img_three"},p.default.createElement("img",{src:"/static/images/activity/activity_distortion/plan.png",className:"mx-w-100"})),p.default.createElement("div",{className:"font-18 text-white l-h-30"},"幸运用户将会收到短信通知哟~"),p.default.createElement("div",{className:"clearfix three_model"},p.default.createElement("img",{src:"/static/images/activity/activity_distortion/avatar1.png",className:"mx-w-100 avatar-56"}),p.default.createElement("img",{src:"/static/images/activity/activity_distortion/to.png",className:"mx-w-100 img_arrow"}),p.default.createElement("img",{src:"/static/images/activity/activity_distortion/avatar2.png",className:"mx-w-100 avatar-76"})),p.default.createElement("div",{className:"font-15 text-white l-h-22 text-center"},"据说职业照好看的人",p.default.createElement("br",null),"在脉脉上会收获更多offer哦！"),p.default.createElement("a",{href:"javascript:;",className:"share_btn",onClick:this.share},"分享福利"),p.default.createElement("div",{className:"three_img_company"},p.default.createElement("img",{src:"/static/images/activity/activity_distortion/company3.png",className:"mx-w-100"})))}},{key:"outSideShare",value:function(){return p.default.createElement("div",{className:"share_warp",onClick:this.hideShare},p.default.createElement("div",{className:"mask"},"点击这里",p.default.createElement("br",null),"即可分享"))}},{key:"render",value:function(){var e=this.props,t=e.step,a=e.out_side_share;return p.default.createElement("div",{className:"distortion_work "+(1==t?"special":"")},p.default.createElement(E.default,{title:"30小时职场变型计划"}),1==t&&this.renderDistortionOne(),2==t&&this.renderDistortionTwo(),3==t&&this.renderDistortionThree(),a&&this.outSideShare())}}]),t}(p.default.Component),m.contextTypes={auth_info:p.default.PropTypes.object,req:p.default.PropTypes.object,fconf:p.default.PropTypes.object,wx_sdk:p.default.PropTypes.object},o);T.isHideHeader=function(e,t){return!0},t.default=e.exports=T}).call(t,a(280))}});