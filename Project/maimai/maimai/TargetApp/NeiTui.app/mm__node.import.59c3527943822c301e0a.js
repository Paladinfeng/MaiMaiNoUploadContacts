webpackJsonp([98],{1565:function(e,t,n){"use strict";var o=n(1),r=n(41),l=(n(46),n(15),n(270)),a=(n(76),n(115)),i=(a.launch_webview,a.launch),c=o.createClass({displayName:"OutExcellentContactItemCard",mixins:[r],contextTypes:{fconf:o.PropTypes.object,auth_info:o.PropTypes.object,req:o.PropTypes.object},getInitialState:function(){return{is_check:0}},goDownload:function(e){e.stopPropagation(),i("openwebview","https://maimai.cn/jobs/excellent?fr=out_excellent_down","",!1)},goResume:function(e){e.stopPropagation()},nullFuc:function(e){e.stopPropagation()},render:function(){var e=this.props.contact,t=void 0;return e.large_comps.length>0&&(t=o.createElement("div",{className:"iSay"},o.createElement("p",null,o.createElement("nobr",null,"- 曾任职于: ",o.createElement("span",{style:{color:"#ff8d00"}},e.large_comps)),e.large_school&&e.large_school.length>0&&o.createElement("span",null,o.createElement("br",null),"- 曾就读于: ",o.createElement("span",{style:{color:"#ff8d00"}},e.large_school)),e.tags&&e.tags.length>0&&o.createElement("span",null,o.createElement("br",null),"- 技能标签: ",e.tags)))),o.createElement("div",{style:{paddingBottom:"10px",backgroundColor:"#efeff4"},onClick:this.goResume},o.createElement(l,{contact:e,hideDist:!0,custom_avatar_class:"contact_avatar_blur",onClick:function(){}},o.createElement("div",{className:"fast_click_btn",style:s.noPaddingRight,onClick:this.goDownload},e.show_invite_btn||"邀请投递")),t)}}),s={done:{marginTop:6,height:40,lineHeight:"40px",verticalAlign:"middle",backgroundColor:"#efefef"},buttons:{marginTop:6,height:40},button:{display:"inline-block",width:"50%",paddingLeft:4,paddingRight:4},noPaddingRight:{marginRight:"-10px",marginTop:"6px"}};e.exports=c},908:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,c,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(1),f=o(d),p=n(75),h=n(15),m=o(h),g=n(46),y=(o(g),n(165)),v=o(y),b=n(996),_=(o(b),n(283),n(1565)),E=o(_),x=(n(113),n(17)),w=(n(270),n(982)),P=n(63),C=n(990),j=n(1009);n(76);t.default=e.exports=(c=i=function(e){function t(){var e,n,o,a;r(this,t);for(var i=arguments.length,c=Array(i),s=0;s<i;s++)c[s]=arguments[s];return n=o=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={sel_cnt:0,is_batch:0,sel_uids:{}},o.cities=["北京","上海","广州","深圳","杭州"],o.getChildContext=function(){return P.getChildContext(o)},o.loadMore=function(){var e=o.props.cursor;o.refs.loader.bindRequest(function(){return t.loadFilteredData(o.context,o.nextPage,o.city).then(function(t){o.nextPage++;var n=t.data;e.select("userlist").concat(n.userlist),e.select("remain").set(n.remain)})})},o.toggleLocsFilter=function(){var e=o.props.cursor.select("locsFilter","close").get();o.props.cursor.select("locsFilter","close").set(!e)},o.onSelectLoc=function(e,t){e!=o.selectedLoc.city&&(o.selectedLoc.city=e,o.city=e>0?o.locs[e].name:"",o.filterContent())},o.onCancelSelectLoc=function(){o.props.cursor.select("locsFilter","parent").set(o.selectedLoc.city)},o.filterContent=x.throttle(function(){var e=this,n=this.props.cursor;return n.merge({loading:"loading",failed:!1,userlist:[],remain:0}),this.nextPage=0,t.loadFilteredData(this.context,this.nextPage,this.city).then(function(t){e.nextPage++,n.merge(x.extend(t.data,{loading:null}))}).catch(function(e){n.merge({failed:!0})})},1e3),o.renderFilter=function(){var e=o.city||"",t="whole highlight";return e||(e="全部城市",t+="whole "),f.default.createElement("div",null,f.default.createElement("div",{className:"searchFilter",style:{position:"relative!important"}},f.default.createElement("div",{className:t,onClick:o.toggleLocsFilter},f.default.createElement("span",null,e))),f.default.createElement(j,{cursor:o.props.cursor.select("locsFilter"),items:o.locs,onSelect:o.onSelectLoc,onCancel:o.onCancelSelectLoc,single:!0,customTop:97}))},o.renderHeadLoader=function(){return f.default.createElement("div",null,o.renderFilter(),f.default.createElement("div",{className:"searchList2",style:{top:"82px"}},f.default.createElement(v.default,{ref:"loading",reload:o.onReload,failed:o.props.failed})))},o.onReload=function(){o.filterContent()},o.renderEmptyResult=function(){return f.default.createElement("div",null,o.renderFilter(),f.default.createElement("div",{className:"searchList2",style:C.empty},"暂时没有推荐人才"))},a=n,l(o,a)}return a(t,e),u(t,[{key:"componentWillMount",value:function(){if("undefined"!=typeof window){this.locs=this.cities.map(function(e){return{name:e,items:[]}}),this.locs.unshift({name:"全部",items:[]});var e=this.context.req;this.city=e.query.city;var t=this.city&&x.findIndex(this.locs,{name:this.city});this.selectedLoc={city:t},this.props.cursor.merge({locsFilter:{parent:t,close:!0}})}}},{key:"componentDidMount",value:function(){this.nextPage=1}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.userlist,n=e.cursor,o=e.remain,r=this.context.req;return this.props.loading||this.props.failed?this.renderHeadLoader():0==t.length?this.renderEmptyResult():f.default.createElement("div",null,this.renderFilter(),f.default.createElement("div",{className:"searchList2"},f.default.createElement(w,{loadMore:this.loadMore,hasMore:o>0,loader:f.default.createElement(v.default,{ref:"loader",reload:this.loadMore,cursor:n.select("loading_status")})},f.default.createElement("div",{className:"panel panel-default"},f.default.createElement("ul",{className:"list-group"},t.map(function(e,t){return f.default.createElement(E.default,{contact:e,key:e.ouid,from:"webview#/search/fc_sss",fr:r.query.fr||"excellent",cursor:n.select("userlist",t)})}))))))}}],[{key:"loadData",value:function(e,n){return t.loadFilteredData(e,n,"")}},{key:"loadFilteredData",value:function(e,t,n){var o=e.req,r=s({page:t,jsononly:1},o.query);void 0!=n&&n.length>0&&(r.city=n);var l=o.pathname+"?"+m.default.stringify(r);return fetch(l,{credentials:"same-origin"}).then(p.parse_online_json)}}]),t}(f.default.Component),i.contextTypes={req:f.default.PropTypes.object,fconf:f.default.PropTypes.object,auth_info:f.default.PropTypes.object},i.childContextTypes=s({from:f.default.PropTypes.string},P.contentTypes),c)}});