webpackJsonp([17],{1043:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i=r(15),o=a(i),s=r(75),c=r(275),l=a(c),d=r(167),p=r(170),u=r(1),f=(r(50),r(166),r(117)),m=(f.square,f.rightTopIcon,r(41),r(90),r(993)),h=r(1004),_=r(1088),g=(r(46),r(78)),b=r(1014);e.exports=u.createClass({displayName:"exports",mixins:[l.default,_],contextTypes:{auth_info:u.PropTypes.object,fconf:u.PropTypes.object,req:u.PropTypes.object},getInitialState:function(){return{showInput:!1}},gotoDetail:function(e){e.stopPropagation();try{var t=this.props.cursor.select("jwt").get(),r=t?{bktoken:t}:null,a=this.props.cursor.select("u","encode_mmid").get()||this.props.cursor.select("u","mmid").get()||this.props.cursor.select("u","id").get();g(a,this.context,r)}catch(e){alert(e)}},onPrizeBtnClicked:function(e){e.stopPropagation();var t=this.context,r=t.auth_info,a=t.fconf;if(r.u>0){var i=this.props.cursor.select("mylike"),s=0==i.get()?1:0;i.set(s),1==s?this.props.cursor.select("likes").apply(function(e){return e+1}):this.props.cursor.select("likes").apply(function(e){return e-1});var c=a.online_url+"feed/v3/likecmt?"+o.default.stringify(n({cid:this.props.cursor.select("id").get(),like:s},r));fetch(c).then().then()}},onLongPress:function(e){this.props.onCommentCardLongPressed&&this.props.onCommentCardLongPressed(this.props.cursor.get())},onCardClicked:function(){this.props.onCommentCardClicked&&this.props.onCommentCardClicked(this.props.cursor.get())},onSendCmtClicked:function(e,t,r){var a=this,n=this.props.cursor.get();(0,p.sendComment)({context:this.context,mycard:this.props.mycard,reply_to:n.id,input:e,at:r,feedCursor:this.props.feedCursor,commentsTabCursor:this.props.commentsTabCursor}).then(function(e){a.replaceState({showInput:!1}),t.setValue(""),t.updateWordCount()}).catch(s.toast_error_handler)},onDeleteBtnClicked:function(){var e=this,t=this.props.cursor.get();t.u.mmid==this.props.mycard.mmid&&(0,d.showModalForConfirm)({title:"是否要删除您发布的此条评论?",ok_text:"删除",ok:function(){(0,p.deleteComment)({context:e.context,cmt_id:t.id,feedCursor:e.props.feedCursor,commentsTabCursor:e.props.commentsTabCursor}).catch(s.toast_error_handler)},cancel_text:"取消"})},renderReply:function(){var e=this;if(!(this.context.auth_info.u<=0)&&this.props.showReply&&this.props.mycard){var t=this.props.mycard.mmid==this.props.cursor.select("u","mmid").get(),r=t?this.onDeleteBtnClicked:function(){e.replaceState({showInput:!e.state.showInput})};return u.createElement("div",{onClick:r},u.createElement("span",{className:"text-primary"}," ",t?"删除":"回复"))}},renderInputPanel:function(){if(!this.props.showReply)return null;var e=this.props.cursor.get(),t="回复:"+e.u.name;return u.createElement("div",{className:this.state.showInput?"p-b":"hidden"},u.createElement(h,{users:this.props.users,placeHolder:t,onClickSend:this.onSendCmtClicked,maxWord:250}))},render:function(){var e=this.props.cursor.select("rt").get()||this.props.cursor.select("t").get(),t=this.props.cursor.get();t.ru&&(e="回复<dref t=1 v="+t.ru.id+" ev="+t.ru.encode_mmid+">"+t.ru.name+": </dref>"+e);var r=this.props.cursor.select("u","career").get();return r=r&&r.length>0?" · "+r:"",u.createElement("li",{className:"p-relative p-x-20 p-y list-unstyled "+(this.props.isLast?"":"border-bottom-e0"),onClick:this.onCardClicked,onTouchEnd:this.handleTouchEnd,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,key:this.props.key,id:this.props.archor?"comment_archor":""},u.createElement("div",{className:"media list-group-item-heading list-group-item-text"},u.createElement("div",{className:"media-left font-0"},u.createElement("img",{className:"media-object avatar-25 radius-50",src:this.props.cursor.select("u","avatar").get(),onClick:this.gotoDetail})),u.createElement("div",{className:"media-body m-r-md l-h-22"},u.createElement("p",{className:"text-muted m-b-10 lineClamp1"},u.createElement("span",{onClick:this.gotoDetail},this.props.cursor.select("u","name").get()),u.createElement("span",null,r,1==this.props.cursor.select("u","judge").get()&&u.createElement("span",{className:"add_v_img"}),1==this.props.cursor.select("u","mem_st").get()&&b.renderMember(this.props.cursor.select("u","mem_id").get()))),u.createElement(m,{text:e}),this.renderReply()),u.createElement("div",{className:"media-right text-right p-l-0 ",onClick:this.onPrizeBtnClicked},!1,u.createElement("span",{style:{minWidth:55},className:"p-r-20 d-i-b "+(1==this.props.cursor.select("mylike").get()?"red_heart_icon":"gray_heart_icon")},0==this.props.cursor.select("likes").get()?"":this.props.cursor.select("likes").get()))),this.renderInputPanel())}})},1058:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i=r(15),o=a(i),s=r(75),c=a(s),l=r(981),d=(a(l),r(270)),p=(a(d),r(1043)),u=(a(p),r(114)),f=(a(u),r(76)),m=a(f),h=r(1131),_=a(h),g=r(1132),b=a(g),v=r(115),y=r(275),w=a(y),x=r(170),C=r(287),k=(a(C),r(1089)),E=a(k),N=r(77),P=a(N),T=r(1),M=(r(47),r(982)),S=r(165),j=r(1090),A=j.showActionSheetDialog,I=j.selectActionSheetDialogCallback,O=j.check_actionsheet_support,B=r(1005),D=r(1006).tab_manager,J=r(1006).TabEnum,H=B.showInputPanel,z=B.showInputPanelAtBottom,R=B.clearInput,q=r(1004),F=r(986),Z={table:{width:"100%",tableLayout:"fixed",marginBottom:-1},table1:{width:"100%",tableLayout:"fixed",marginBottom:1},tr:{height:"35px"},kzpBtnsWrap:{width:"65%"},kzpBtnsBtn:{width:"20px",height:"20px",marginTop:"-2px"},show:{display:"block",marginTop:-1},hide:{display:"none"}};e.exports=T.createClass({displayName:"exports",mixins:[w.default],contextTypes:{auth_info:T.PropTypes.object,fconf:T.PropTypes.object,env:T.PropTypes.object},getInitialState:function(){return{showInput:!1}},componentDidMount:function(){var e=this.props.cursor.select("tab_manager").get();if(!e){e=D();var t=this.props.cursor.select("current_tabindex").get();e.current_tabindex=t||0,this.props.cursor.select("tab_manager").set(e)}var r=this.context.auth_info;window.onInputFinished=B.onInputFinished,window.selectActionSheetDialogCallback=I,window.onSpreadFeedCallback=this.onSpreadFeedCallback,this.current_replay_cmt_id=0,0==e.current_tabindex&&(r.u>0&&this.props.feed.main.u.id==r.u?this.props.cursor.select("tab_manager","current_tabindex").set(J.visit):this.props.cursor.select("tab_manager","current_tabindex").set(J.comment)),this.current_replay_cmt_id=0;var a=this.props.feed.id+"_"+this.current_replay_cmt_id;z("评论",a,this.sendComment,"评论",!0),this.props.cursor.select("scroll_tab")&&this.props.cursor.select("scroll_tab").get()&&!this.props.cursor.select("comment_id").get()&&setTimeout(function(){location.replace("#zkp_content")},500)},componentWillUnmount:function(){window.onInputFinished=null,window.onSpreadFeedCallback=null,window.selectActionSheetDialogCallback=null},isOutApp:function(){return this.context.auth_info.u<0},loadMore:function(){var e=this,t=this.context.auth_info,r=this.props.cursor.select("tab_manager"),a=r.select("current_tabindex").get(),i=r.select("tabs",a),s=this.getApiUrl(a),l=n({api:s,fid:this.props.feed.id,page:i.get().currentPage,count:(J.comment,20),article_uid:this.props.feed.main.u.id},t);this.refs.loader&&!this.props.cursor.select("tab_manager","tabs",a).get().requesting&&this.props.cursor.select("tab_manager","tabs",a).get().hasMore&&this.refs.loader.bindRequest(function(){var t="/sdk/article/get_tab?"+o.default.stringify(l);return i.select("requesting").set(!0),fetch(t,{credentials:"same-origin"}).then(c.default.parse_online_json).then(function(t){e.updateData(t,i,a);var r=a==J.comment?t.comments.more:t.more;i.select("hasMore").set(1==r),i.select("currentPage").apply(function(e){return e+1}),i.select("cursor_status").set(0),i.select("requesting").set(!1),e.props.cursor.select("tab_manager","tabs",a,"requesting").set(!1)}).catch(function(e){i.select("cursor_status").set("failed"),i.select("requesting").set(!1),c.default.toast_error_handler(e)})})},updateData:function(e,t,r){switch(r){case J.visit:case J.prize:case J.spread:e.contacts&&e.contacts.length>0&&(0==t.select("currentPage").get()?t.select("data","contacts").set(e.contacts):t.select("data","contacts").concat(e.contacts));break;case J.comment:e.comments&&(e.comments.lst&&e.comments.lst.length>0&&(0==t.select("currentPage").get()?t.select("data","comments").set(e.comments.lst):t.select("data","comments").concat(e.comments.lst)),e.comments.hot_comments&&e.comments.hot_comments.length>0&&t.select("data","hot_comments").set(e.comments.hot_comments))}},getApiUrl:function(e){var t;switch(e){case J.prize:t="feed/v3/get_like_list";break;case J.spread:t="feed/v3/get_spread_list";break;case J.comment:t="feed/v3/getcmts";break;case J.visit:t="/article/visit_history_contacts"}return t},onTabVisitClicked:function(){this.props.cursor.select("tab_manager","current_tabindex").set(J.visit)},onTabPrizeClicked:function(){this.props.cursor.select("tab_manager","current_tabindex").set(J.prize)},onTabSpreadClicked:function(){this.props.cursor.select("tab_manager","current_tabindex").set(J.spread)},onTabCommentClicked:function(){this.props.cursor.select("tab_manager","current_tabindex").set(J.comment)},onCommentBtnClicked:function(){if(!this.isOutApp()){if("pc"==this.props.cursor.select("from").get())return void this.onCommentBtnClickedFromPC();this.current_replay_cmt_id=0;var e=this.props.feed.id+"_"+this.current_replay_cmt_id;H("评论",e,this.sendComment,"评论")}},onCommentBtnClickedFromPC:function(){var e=!this.state.showInput;this.replaceState({showInput:e})},onSendCmtClicked:function(e,t,r){var a=this;(0,x.sendComment)({context:this.context,mycard:this.props.cursor.select("mycard").get(),input:e,at:r,feedCursor:this.props.cursor.select("feed"),commentsTabCursor:this.props.cursor.select("tab_manager","tabs",J.comment,"data")}).then(function(e){a.replaceState({showInput:!1}),t.setValue(""),t.updateWordCount(),R(cacheKey)}).catch(toast_error_handler)},sendComment:function(e,t){var r=this;if(!e)return void(0,m.default)("评论内容不能为空");(0,x.sendComment)({context:this.context,input:e,at:t,feedCursor:this.props.cursor.select("feed"),mycard:this.props.cursor.select("mycard").get(),commentsTabCursor:this.props.cursor.select("tab_manager","tabs",J.comment,"data"),reply_to:this.current_replay_cmt_id}).then(function(e){var t=r.props.feed.id+"_"+r.current_replay_cmt_id;R(t),r.current_replay_cmt_id=0}).catch(c.default.toast_error_handler)},onCommentCardClicked:function(e){var t=this.context.auth_info;if(!this.isOutApp())if(e.u.id==t.u)1==confirm("是否要删除您发布的此条评论？")&&this.removeComment(e.id);else{this.current_replay_cmt_id=e.id;var r=this.props.feed.id+"_"+this.current_replay_cmt_id;H("评论",r,this.sendComment,"回复 "+e.u.name)}},onCommentCardLongPressed:function(e){var t=this;if(!this.isOutApp()&&O()&&window.MaiMai_Native.native_copy_text&&window.MaiMai_Native.native_complain){var r=this.context.auth_info,a=["复制"],n=this.props.feed;(e.u.id==r.u||!n.src&&n.main.u&&r.u==n.main.u.mmid||n.src&&n.src.main&&n.src.main.u&&r.u==n.src.main.u.mmid)&&a.push("删除"),e.u.id!=r.u&&a.push("举报"),A("",JSON.stringify(a),function(r){if("复制"===a[r]){var n=e.rt||e.t;window.MaiMai_Native.native_copy_text(n)}else"删除"===a[r]?t.removeComment(e.id):"举报"===a[r]&&window.MaiMai_Native.native_complain(6,e.id,"")},!1)}},removeComment:function(e){(0,x.deleteComment)({context:this.context,feedCursor:this.props.cursor.select("feed"),commentsTabCursor:this.props.cursor.select("tab_manager","tabs",J.comment,"data"),cmt_id:e}).catch(c.default.toast_error_handler)},onPrizeBtnClicked:function(){this.isOutApp()||(0,x.toggleLike)({context:this.context,feedCursor:this.props.cursor.select("feed"),mycard:this.props.cursor.select("mycard").get(),likesTabCursor:this.props.cursor.select("tab_manager","tabs",J.prize,"data")}).catch(c.default.toast_error_handler)},onSpreadFeedCallback:function(e){if(!this.isOutApp()){var t=null!=e?JSON.parse(e):null;(0,x.spreadToFeed)({context:this.context,content:t,mycard:this.props.cursor.select("mycard").get(),feedCursor:this.props.cursor.select("feed"),spreadsTabCursor:this.props.cursor.select("tab_manager","tabs",J.spread,"data")}).catch(c.default.toast_error_handler)}},cancelSpread:function(){(0,x.cancelSpread)({context:this.context,feedCursor:this.props.cursor.select("feed"),mycard:this.props.cursor.select("mycard").get(),spreadsTabCursor:this.props.cursor.select("tab_manager","tabs",J.spread,"data")}).catch(c.default.toast_error_handler)},spreadArticleToFeed:function(){if(this.props.cursor.select("feed","spreads","me").get())this.cancelSpread();else{if(this.props.cursor.select("feed","main","u","id").get()==this.props.cursor.select("mycard","id").get())return void(0,m.default)("好友已经看到，无需分享哦");window.MaiMai_Native.native_show_spread_feed_dialog?MaiMai_Native.native_show_spread_feed_dialog(JSON.stringify(this.props.cursor.select("feed").get()),"onSpreadFeedCallback"):this.onSpreadFeedCallback()}},onSpreadBtnClicked:function(){var e=this.context.env;this.isOutApp()||(e.from_pc?this.onSpreadBtnClickedFromPC():MaiMai_Native.native_share(1))},onSpreadBtnClickedFromPC:function(){var e=this;if(1==this.props.feed.spreads.me)(0,x.cancelSpread)({context:this.context,feedCursor:this.props.cursor.select("feed"),mycard:this.props.cursor.select("mycard").get(),spreadsTabCursor:this.props.cursor.select("tab_manager","tabs",J.spread,"data")}).catch(c.default.toast_error_handler);else{if(this.props.feed.main.u.mmid==this.props.cursor.select("mycard").get().mmid)return void(0,m.default)("好友已经看到，无需分享哦");var t=function(t,r,a){P.default.dismiss(),(0,x.spreadToFeed)({context:e.context,content:{text:t,atUserJsonStr:a},mycard:e.props.cursor.select("mycard").get(),feedCursor:e.props.cursor.select("feed"),spreadsTabCursor:e.props.cursor.select("tab_manager","tabs",J.spread,"data")}).catch(c.default.toast_error_handler)};P.default.popup(T.createElement(E.default,{feed:this.props.feed,onSpread:t,cancel:P.default.dismiss}))}},renderPCInput:function(){return T.createElement("div",{className:"panel-body m-t-md "+(this.state.showInput?"show":"hidden")},T.createElement(q,{users:this.props.users,onClickSend:this.onSendCmtClicked,maxWord:250}))},onDeleteArticle:function(){if(1==confirm("确认删除此文章?")){var e=this.context,t=e.fconf,r=e.auth_info,a=this.props.feed,i=t.online_url+"feed/v3/del?"+o.default.stringify(n({fid:a.id},r));fetch(i).then(c.default.parse_online_json).then(function(){window.MaiMai_Native.close_native?window.MaiMai_Native.close_native(null,!0):(0,m.default)("专栏删除成功")}).catch(c.default.toast_error_handler)}},renderZKPBtns:function(){if(!(this.context.auth_info.u<0)){var e=this.props.feed;return T.createElement("table",{className:"text-center clearfix pull-right m-b-0",style:Z.kzpBtnsWrap},T.createElement("tbody",null,T.createElement("tr",{style:Z.tr},1==e.del&&T.createElement("td",{className:"text-light",onClick:this.onDeleteArticle},T.createElement("span",{className:"text-primary m-r"},"删除")),T.createElement("td",{className:"text-light",onClick:this.onPrizeBtnClicked},T.createElement("span",null,T.createElement("img",{src:1==this.props.feed.likes.me?"/static/images/dingY.png":"/static/images/ding.png",style:Z.kzpBtnsBtn})," "," "+this.props.feed.likes.n>0?this.props.feed.likes.n:"赞")),T.createElement("td",{className:"text-light",onClick:this.onSpreadBtnClicked},T.createElement("span",null,T.createElement("img",{src:1==this.props.feed.spreads.me?"/static/images/kuoY.png":"/static/images/kuo.png",style:Z.kzpBtnsBtn})," "," "+this.props.feed.spreads.n>0?this.props.feed.spreads.n:"分享")),T.createElement("td",{className:"text-light",onClick:this.onCommentBtnClicked},T.createElement("span",null,T.createElement("img",{src:"/static/images/ping.png",style:Z.kzpBtnsBtn})," "," "+this.props.feed.comments.n>0?this.props.feed.comments.n:"评论")))))}},render:function(){var e=this.context.auth_info,t=this.props.cursor.select("tab_manager").get();if(!t)return null;var r,a=t.tabs[t.current_tabindex],n=t.current_tabindex,i=this.props.cursor.select("tab_manager","tabs",n,"cursor_status"),o="pc"==this.props.cursor.select("from").get(),s=[],c=a.hasMore;return n!=J.comment&&(s=t.tabs[n].data.contacts||[],this.props.wrap&&s.length>5&&(s=s.slice(0,5),c=!1,r=T.createElement(F,{title:"查看更多 >>",onClick:function(){return(0,v.launch_webview)()}}))),T.createElement("div",null,this.renderZKPBtns(),T.createElement("div",{className:"clearfix"},this.renderPCInput(),T.createElement("table",{className:"table-bordered text-center",ref:"tabs",style:n==J.visit?Z.table1:Z.table},T.createElement("tbody",null,T.createElement("tr",{style:Z.tr},T.createElement("td",{className:n==J.visit?"text-info":"text-light",onClick:this.onTabVisitClicked},"谁看过"),T.createElement("td",{className:n==J.prize?"text-info":"text-light",onClick:this.onTabPrizeClicked},"赞 ",this.props.feed.likes.n>0?this.props.feed.likes.n:""),T.createElement("td",{className:n==J.spread?"text-info":"text-light",onClick:this.onTabSpreadClicked},"分享 ",this.props.feed.spreads.n>0?this.props.feed.spreads.n:""),T.createElement("td",{className:n==J.comment?"text-info":"text-light",onClick:this.onTabCommentClicked},"评论 ",this.props.feed.comments.n>0?this.props.feed.comments.n:"")))),T.createElement(M,{loadMore:this.loadMore,hasMore:c,loader:T.createElement(S,{ref:"loader",reload:this.loadMore,cursor:i})},T.createElement("div",{className:"panel panel-default",id:"zkp_content",style:{marginBottom:"0"}},T.createElement("ul",{className:"list-group",key:"1",style:n==J.visit?Z.show:Z.hide},T.createElement(_.default,{key:"1",contacts:s}),r),T.createElement("ul",{className:"list-group",key:"2",style:n==J.prize?Z.show:Z.hide},T.createElement(_.default,{key:"2",contacts:s}),r),T.createElement("ul",{className:"list-group",key:"3",style:n==J.spread?Z.show:Z.hide},T.createElement(_.default,{key:"3",contacts:s}),r),T.createElement("ul",{className:"list-group",key:"4",style:n==J.comment?Z.show:Z.hide},T.createElement(b.default,{key:"4",wrap:this.props.wrap,auth_info:e,onCommentCardClicked:o?null:this.onCommentCardClicked,onCommentCardLongPressed:o?null:this.onCommentCardLongPressed,scroll_to_id:this.props.cursor.select("comment_id"),comments:this.props.cursor.select("tab_manager","tabs",J.comment,"data","comments"),hot_comments:this.props.cursor.select("tab_manager","tabs",J.comment,"data","hot_comments"),expanded:this.props.cursor.select("tab_manager","tabs",J.comment,"expanded"),from:this.props.cursor.select("from").get(),mycard:this.props.cursor.select("mycard").get(),feedCursor:this.props.cursor.select("feed"),commentsTabCursor:this.props.cursor.select("tab_manager","tabs",J.comment,"data"),hasMore:this.props.cursor.select("tab_manager","tabs",J.comment,"hasMore").get()}))))))}})},1129:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i=r(1),o=a(i),s=r(17),c=a(s),l=r(15),d=a(l),p=r(76),u=a(p),f=r(75),m=a(f),h=r(281),_=a(h),g=r(114),b=a(g),v=r(115);e.exports=o.default.createClass({displayName:"exports",contextTypes:{auth_info:o.default.PropTypes.object,fconf:o.default.PropTypes.object},propsTypes:{card:o.default.PropTypes.object,cursor:o.default.PropTypes.object,no_icon:o.default.PropTypes.bool},sub:c.default.debounce(function(e){var t=this.props,r=t.card,a=t.cursor,i=this.context,o=i.auth_info,s=i.fconf,c=a.get(),l=c.sub_data,p=c.sub_number;if(o.u<0)return(0,v.launch_webview)(),void e.stopPropagation();var f=l.is_subbed?"sub_remove?":"sub_add?",h=l.is_subbed?"取消订阅成功":"订阅成功",_=s.online_url+"feed/v3/"+f+d.default.stringify(n({sub_id:r.id},o)),g=fetch(_).then(m.default.parse_online_json).then(function(e){(0,u.default)(h);var t=!l.is_subbed,r=p.count+(t?1:-1);a.select("sub_data","is_subbed").set(t),a.select("sub_number","count").set(r)}).catch(m.default.toast_error_handler);(0,b.default)("请求中",g),e.stopPropagation()},1e3,!0),build_ta:function(){var e=this.props.card,t=this.context.auth_info;return(0,_.default)(e,t.u)},render:function(){var e=this.props,t=e.card,r=e.cursor,a=e.no_icon,n=(this.context.auth_info,r.get()),i=n.sub_data;return 0==t.dist?o.default.createElement("span",null):i&&i.is_subbed?o.default.createElement("button",{className:"order_btn",onClick:this.sub},!a&&o.default.createElement("span",{className:"glyphicon glyphicon-minus"}),"取消"):o.default.createElement("button",{className:"order_btn",onClick:this.sub},!a&&o.default.createElement("span",{className:"glyphicon glyphicon-plus"}),"订阅")}})},1130:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,c,l=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(1),p=a(d),u=r(47),f=a(u),m=r(115),h=(c=s=function(e){function t(){var e,r,a,o;n(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return r=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.gotoRegister=function(){var e=(a.context.env,a.context.req.query.regfr||"");(0,m.launch_webview)("regfr="+e+"&article_bottom")},o=r,i(a,o)}return o(t,e),l(t,[{key:"componentDidMount",value:function(){var e=(window.screen.height,f.default.findDOMNode(this.refs.articleBottom));window.onscroll=function(){document.body.scrollTop>=50&&(e.style.display="block")}}},{key:"render",value:function(){var e=this.props,t=e.avatar,r=e.likes,a=e.shareComponent,n=a||p.default.createElement("div",{className:"media-body media-middle"},"我还有遍布18999公司",p.default.createElement("br",null),"的人脉想跟你共享");return p.default.createElement("div",{style:{minHeight:76}},p.default.createElement("div",{ref:"articleBottom",className:"articleBottomWrap",onClick:this.gotoRegister},p.default.createElement("div",{className:"p-relative articleBottomBox"},p.default.createElement("div",{className:"articleBottom p-absolute text-white"},p.default.createElement("div",{className:"media-left p-r-10"},p.default.createElement("div",{className:"articleBottomAvatar"},p.default.createElement("img",{className:"w-100 radius-45",src:t}))),n,p.default.createElement("div",{className:"media-right media-middle"},p.default.createElement("div",{className:"download_btn_white small"},"马上学习")))),p.default.createElement("div",{className:"articleBottomDis text-center small clearfix"},p.default.createElement("div",{className:"fl w-60 white-bg l-h-22 border-radius-3 border-gray-1"},"我有话想说"),p.default.createElement("div",{className:"fl w-20 m-x-10 l-h-24"},p.default.createElement("span",{className:"d-i-b article_ding_icon"},r)),p.default.createElement("div",{className:"fl text-blue l-h-24"},"下一篇"))))}}]),t}(p.default.Component),s.contextTypes={auth_info:p.default.PropTypes.object,req:p.default.PropTypes.object,fconf:p.default.PropTypes.object,wx_sdk:p.default.PropTypes.object,env:p.default.PropTypes.object},c);t.default=e.exports=h},1131:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(270),s=a(o),c=r(41);e.exports=i.default.createClass({displayName:"exports",mixins:[c],render:function(){return!this.props.contacts||this.props.contacts.length<=0?null:i.default.createElement("div",null,this.props.contacts.map(function(e){return i.default.createElement(s.default,{key:e.mmid,contact:e})}))}})},1132:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),i=a(n),o=r(1043),s=a(o),c=r(275),l=a(c),d=r(986),p=a(d),u=r(115);r(984);e.exports=i.default.createClass({displayName:"exports",mixins:[l.default],componentDidMount:function(){this.props.scroll_to_id&&this.props.scroll_to_id.get()&&setTimeout(function(){location.replace("#comment_archor")},500)},onExpand:function(){this.props.expanded.set(!0)},renderEmpty:function(){return i.default.createElement("div",{style:{marginTop:50,height:80},className:"text-primary text-center"},"还没有人评论,快来抢沙发")},render:function(){if(!(this.props.hasMore||this.props.comments&&this.props.comments.get()&&0!=this.props.comments.get().length))return this.renderEmpty();var e,t="pc"==this.props.from,r=!0;if(this.props.hot_comments&&this.props.hot_comments.get()&&this.props.hot_comments.get().length>0){e=[],e.push(i.default.createElement("div",{className:"text-left"},i.default.createElement("p",{className:"p-t-20 p-x-20 font-16 font-bold"},"热门评论")));var a=this.props.expanded.get(),n=this.props.hot_comments.get().length;a||(n=Math.min(5,this.props.hot_comments.get().length));for(var o=0;o<n;o++){var c=this.props.hot_comments.select(o),l=o==n-1;e.push(i.default.createElement(s.default,{key:c.id,users:this.props.users,cursor:c,onCommentCardClicked:this.props.onCommentCardClicked,onCommentCardLongPressed:this.props.onCommentCardLongPressed,mycard:this.props.mycard,showReply:t,feedCursor:this.props.feedCursor,isLast:l,commentsTabCursor:this.props.commentsTabCursor}))}this.props.wrap&&this.props.hot_comments.get().length>5?(e.push(i.default.createElement(p.default,{title:"查看更多热门评论 >>",onClick:function(){return(0,u.launch_webview)()}})),r=!1):0==a&&this.props.hot_comments.get().length>5&&e.push(i.default.createElement(p.default,{title:"更多热门评论",onClick:this.onExpand}))}var d=[];if(r){n=this.props.comments.get().length,this.props.wrap&&(n=Math.min(5-this.props.hot_comments.get().length,this.props.comments.get().length)),d.push(i.default.createElement("div",{key:"separator",className:"text-left m-t-10"},i.default.createElement("p",{className:"p-t-20 p-x-20 font-16 font-bold"},"全部",this.props.comments&&this.props.comments.get()&&this.props.comments.get().length,"评论")));for(var o=0;o<n;o++){var c=this.props.comments.select(o),f=c.get().id==this.props.scroll_to_id.get(),l=o==n-1;d.push(i.default.createElement(s.default,{key:c.id,users:this.props.users,cursor:c,onCommentCardClicked:this.props.onCommentCardClicked,onCommentCardLongPressed:this.props.onCommentCardLongPressed,mycard:this.props.mycard,showReply:t,feedCursor:this.props.feedCursor,commentsTabCursor:this.props.commentsTabCursor,isLast:l,archor:f}))}this.props.wrap&&this.props.comments.get().length>5&&d.push(i.default.createElement(p.default,{title:"查看更多评论 >>",onClick:function(){return(0,u.launch_webview)()}}))}return i.default.createElement("div",{key:"comments",className:"PCFeedWarp"},i.default.createElement("div",{key:"hot_cells",className:"gray-bg-f9"},e),i.default.createElement("div",{key:"cells m-t",className:"gray-bg-f9"},d))}})},1133:function(e,t,r){"use strict";var a=r(1),n=r(46),i=r(15),o=r(1002).types,s=a.createClass({displayName:"ArticleServiceCard",toList:function(){var e=this.props,t=(e.card,e.services);try{n("/service/list?"+i.stringify({uid:t[0].uid}),"全部服务","fetch")}catch(e){alert(e)}},toDetail:function(e){var t=this.props,r=(t.card,t.services);try{n("/service/detail?"+i.stringify({id:r[e]._id,from:"article"}),"服务详情","fetch")}catch(e){alert(e)}},render:function(){for(var e=this.props,t=e.card,r=e.services,n=[],i=this,s="",l=0;l<3&&l<r.length;l++)!function(e){s=" 元/";var t=r[e];t.time?s+=""+t.time+o[t.type]:s+=""+o[t.type];var l=t.title;n.push(a.createElement("div",{className:"ascBox borderBottom",onClick:function(){i.toDetail(e)}},a.createElement("div",{className:"ascInfo"},t.paynum>0&&a.createElement("div",{className:"servicePrice"},"共",t.paynum,"人购买"),0==t.paynum&&a.createElement("div",{className:"servicePrice"},"限时优惠"),t.call>0&&a.createElement("img",{src:"/static/images/icon_newdianhua.png",style:c.dianhua}),a.createElement("div",{className:"line1",style:{marginTop:"4px"}},l))))}(l);return a.createElement("div",{className:"ascContainer"},a.createElement("div",{className:"ascTit borderBottom"},t.name,"提供的服务"),n,r.length>3&&a.createElement("div",{className:"ascMore text-muted",onClick:this.toList},"全部服务(",r.length,")>>"))}}),c={dianhua:{padding:"6px",float:"left",width:"34px",height:"34px",marginTop:"-2px",marginLeft:"-5px"}};e.exports=s},1134:function(e,t,r){"use strict";var a=r(1),n=a.createClass({displayName:"FloatButton",render:function(){return a.createElement("div",{style:i.floatContainer,onClick:this.props.onClick},a.createElement("span",{style:i.floatBtn},a.createElement("em",{style:i.btnFinger},this.props.btnTitle)))}});e.exports=n;var i={floatContainer:{background:"#ffffff",position:"fixed",left:"0",right:"0",zIndex:"10",bottom:"0",width:"100%",paddingBottom:"20px"},floatBtn:{display:"block",height:"40px",lineHeight:"40px",background:"#008be6",boxShadow:"0 4px 0 #0b72b5",color:"#fff",fontSize:"16px",textAlign:"center",cursor:"pointer",margin:"0 10px",borderRadius:"3px"},btnFinger:{display:"inline-block",background:"url(/static/images/finger2.png) no-repeat right center",backgroundSize:"22px 22px",paddingRight:"28px",fontStyle:"normal"}}},1136:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),c=r(1),l=a(c),d=r(1137),p=a(d),u=r(17),f=function(e){function t(){var e,r,a,o;n(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return r=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.onSelected=function(){a.forceUpdate()},o=r,i(a,o)}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.feed,a=t.cursor,n=t.from_error,i=u.find(a.select("feed","unwill").get(),function(e){return e.selected}),o="btn-secondary";n&&!i&&(o="btn-gray-dd");var s="确定";return n||i||(s="不感兴趣"),l.default.createElement("div",{className:"p-x"},l.default.createElement("div",{className:"white-bg border-radius-3 p-t-18 p-b-10"},l.default.createElement("div",{className:"p-x m-b clearfix"},l.default.createElement("div",{className:"fl text-gray-7d p-y-5"},this.props.text||"可选屏蔽理由,推荐更精准"),l.default.createElement("div",{className:"fr"},l.default.createElement("div",{className:"btn font-13 btn-radius-20 p-y-5 p-x-10 text-white "+o,onClick:this.props.onClick},s))),l.default.createElement("div",{className:"p-x-10 clearfix text-center l-h-24"},r.feed.unwill.map(function(t,r){return l.default.createElement(p.default,{cursor:a.select("feed","unwill",r),onClick:e.onSelected})}))))}}]),t}(l.default.Component);t.default=e.exports=f},1137:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(1),c=function(e){return e&&e.__esModule?e:{default:e}}(s),l=r(984),d=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.select=function(e){var t=r.props.cursor.select("selected").get();r.props.cursor.select("selected").set(!t),e.stopPropagation()},r}return i(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props.cursor.select("text").get(),r=this.props.cursor.select("selected").get();return c.default.createElement("div",{className:"halfWidth p-x-5 m-b-15 fl"},c.default.createElement("div",{className:"l-h-2 p-x-5 btn-radius-20 "+(r?"btn-secondary":"border-f2-1 text-black-3"),style:(0,l.textOverflow)(1),onClick:function(t){e.props.onClick&&e.props.onClick(t),e.select(t)}},t))}}]),t}(c.default.Component);t.default=e.exports=d},1248:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i=r(1),o=a(i),s=r(17),c=a(s),l=r(15),d=a(l),p=r(76),u=a(p),f=r(75),m=a(f),h=r(281),_=a(h),g=r(114),b=a(g),v=r(115);e.exports=o.default.createClass({displayName:"exports",contextTypes:{auth_info:o.default.PropTypes.object,fconf:o.default.PropTypes.object},propsTypes:{card:o.default.PropTypes.object,cursor:o.default.PropTypes.object,no_icon:o.default.PropTypes.bool},sub:c.default.debounce(function(e){var t=this.props,r=t.card,a=t.cursor,i=this.context,o=i.auth_info,s=i.fconf,c=a.get(),l=c.sub_data,p=c.sub_number;if(o.u<0)return(0,v.launch_webview)(),void e.stopPropagation();var f=l.is_subbed?"sub_remove?":"sub_add?",h=l.is_subbed?"取消订阅成功":"订阅成功",_=s.online_url+"feed/v3/"+f+d.default.stringify(n({sub_id:r.id},o)),g=fetch(_).then(m.default.parse_online_json).then(function(e){(0,u.default)(h);var t=!l.is_subbed,r=p.count+(t?1:-1);a.select("sub_data","is_subbed").set(t),a.select("sub_number","count").set(r)}).catch(m.default.toast_error_handler);(0,b.default)("请求中",g),e.stopPropagation()},1e3,!0),build_ta:function(){var e=this.props.card,t=this.context.auth_info;return(0,_.default)(e,t.u)},render:function(){var e=this.props,t=e.card,r=e.cursor,a=e.no_icon,n=(this.context.auth_info,r.get()),i=n.sub_data;return 0==t.dist?o.default.createElement("span",null):i&&i.is_subbed?o.default.createElement("button",{className:"order_btn_detail_gray",onClick:this.sub},!a&&o.default.createElement("span",{className:"glyphicon glyphicon-minus"}),"取消订阅"):o.default.createElement("button",{className:"order_btn_detail",onClick:this.sub},!a&&o.default.createElement("span",{className:"glyphicon glyphicon-plus"}),"订阅TA的专栏")}})},1249:function(e,t,r){"use strict";(function(t){e.exports=function e(r,a,n){if(!(n<0)){var i=a-t(window).scrollTop(),o=i/n*10;setTimeout(function(){isNaN(parseInt(o,10))||(window.scrollTo(0,t(window).scrollTop()+o),e(r,a,n-10))}.bind(this),10)}}}).call(t,r(280))},1392:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i=r(115),o=r(116),s=(a(o),r(168)),c=a(s),l=r(167),d=r(287),p=a(d),u=r(17),f=a(u),m=r(1130),h=a(m),_=r(170),g=r(76),b=r(50),v=r(75),y=r(114),w=r(113),x=r(15),C=(r(117),r(90),r(1)),k=r(981),E=r(1058),N=r(993),P=(r(991),r(983)),T=(r(1133),r(1248)),M=r(1044),S=r(988),j=r(998),A=r(166),I=(r(46),r(78)),O=(r(985)("app"),r(1134),r(1017)),B=r(986),D=r(1403),J=r(1005),H=(r(1006).tab_manager,r(1006).TabEnum),z=J.showInputPanel,R=J.showInputPanelAtBottom,q=J.clearInput,F=(r(1004),r(1014)),Z=C.createClass({displayName:"App",contextTypes:{auth_info:C.PropTypes.object,req:C.PropTypes.object,fconf:C.PropTypes.object,wx_sdk:C.PropTypes.object,env:C.PropTypes.object},componentWillReceiveProps:function(e,t){if(!this.props.wx_sdk_inited&&e.wx_sdk_inited){var r={title:this.shareTitle(),desc:"分享一条"+this.props.feed.main.u.name+"的工作动态",link:window.location.href,imgUrl:this.props.feed.main.u.avatar,success:function(){},cancel:function(){}};t.wx_sdk.onMenuShareAppMessage(r),t.wx_sdk.onMenuShareTimeline(r),t.wx_sdk.onMenuShareQQ(r),t.wx_sdk.onMenuShareQZone(r)}},collection:function(){var e=this,t=this.context.auth_info,r="/sdk/collection/add?"+x.stringify(n({target:this.props.feed.id,type:"feed"},t)),a=fetch(r,{credentials:"same-origin"}).then(v.parse_online_json).then(function(t){g("收藏成功"),e.props.cursor.select("collected").set(!0)}).catch(v.toast_error_handler);y("收藏中...",a)},uncollection:function(){var e=this,t=this.context.auth_info,r="/sdk/collection/remove?"+x.stringify(n({target:this.props.feed.id,type:"feed"},t)),a=fetch(r,{credentials:"same-origin"}).then(v.parse_online_json).then(function(t){g("移出收藏成功"),e.props.cursor.select("collected").set(!1)}).catch(v.toast_error_handler);y("移出收藏中...",a)},deleteArticle:function(){if(1==confirm("确认删除此文章?")){var e=this.context,t=e.fconf,r=e.auth_info,a=this.props.feed,i=t.online_url+"feed/v3/del?"+x.stringify(n({fid:a.id},r));fetch(i).then(v.parse_online_json).then(function(){window.MaiMai_Native.close_native?window.MaiMai_Native.close_native(null,!0):g("专栏删除成功")}).catch(v.toast_error_handler)}},complain:function(){window.MaiMai_Native.native_complain(3,this.props.feed.id,"")},onSpreadFeedCallback:function(e){if(!(this.context.auth_info.u<0)){var t=null!=e?JSON.parse(e):null;(0,_.spreadToFeed)({context:this.context,content:t,mycard:this.props.cursor.select("mycard").get(),feedCursor:this.props.cursor.select("feed")}).catch(v.toast_error_handler)}},cancelSpread:function(){(0,_.cancelSpread)({context:this.context,feedCursor:this.props.cursor.select("feed"),mycard:this.props.cursor.select("mycard").get()}).catch(v.toast_error_handler)},spread:function(){if(this.props.cursor.select("feed","spreads","me").get())this.cancelSpread();else{if(this.props.cursor.select("feed","main","u","id").get()==this.props.cursor.select("mycard","id").get())return void g("好友已经看到，无需分享哦");window.MaiMai_Native.native_show_spread_feed_dialog?MaiMai_Native.native_show_spread_feed_dialog(JSON.stringify(this.props.cursor.select("feed").get()),"onSpreadFeedCallback"):this.onSpreadFeedCallback()}},unspread:function(){if(this.props.cursor.select("feed","spreads","me").get())this.cancelSpread();else{if(this.props.cursor.select("feed","main","u","id").get()==this.props.cursor.select("mycard","id").get())return void g("好友已经看到，无需分享哦");window.MaiMai_Native.native_show_spread_feed_dialog?MaiMai_Native.native_show_spread_feed_dialog(JSON.stringify(this.props.cursor.select("feed").get()),"onSpreadFeedCallback"):this.onSpreadFeedCallback()}},getInitialState:function(){return{reward_cards:{}}},componentDidMount:function(){var e=this;if(w.bindBroadcast("broadcast_web_pay_suc",this.paySuc),this.props.reward_cards&&this.setState({reward_cards:this.props.reward_cards,reward_count:this.props.reward_count}),this.reload_extra_data(!1),window.collection=this.collection,window.uncollection=this.uncollection,window.complain=this.complain,window.spread=this.spread,window.unspread=this.unspread,window.deleteArticle=this.deleteArticle,window.native_image_data=j,new p.default(window.navigator.userAgent).mobile()||this.props.cursor.select("from").set("pc"),this.context.auth_info.u<=0&&this.context.fconf.ab_conf.article_show_hot_topic){var t="/sdk/article/topic?"+x.stringify(n({id:this.props.feed.id},this.context.auth_info));fetch(t,{credentials:"same-origin"}).then(v.parse_online_json).then(function(t){e.props.cursor.select("hot").set(t.data.hot)}).catch(alert)}window.onSpreadFeedCallback=this.onSpreadFeedCallback,window.onInputFinished=J.onInputFinished,this.current_replay_cmt_id=0;var r=this.props.feed.id+"_"+this.current_replay_cmt_id;R("评论",r,this.sendComment,"评论",!0)},isOutApp:function(){return this.context.auth_info.u<0},onCommentBtnClicked:function(){if(!this.isOutApp()){if("pc"==this.props.cursor.select("from").get())return void this.onCommentBtnClickedFromPC();this.current_replay_cmt_id=0;var e=this.props.feed.id+"_"+this.current_replay_cmt_id;z("评论",e,this.sendComment,"评论")}},onCommentCardClicked:function(e){var t=this.context.auth_info;if(!this.isOutApp())if(e.u.id==t.u)1==confirm("是否要删除您发布的此条评论？")&&this.removeComment(e.id);else{this.current_replay_cmt_id=e.id;var r=this.props.feed.id+"_"+this.current_replay_cmt_id;z("评论",r,this.sendComment,"回复 "+e.u.name)}},removeComment:function(e){(0,_.deleteComment)({context:this.context,feedCursor:this.props.cursor.select("feed"),commentsTabCursor:this.props.cursor.select("tab_manager","tabs",H.comment,"data"),cmt_id:e}).catch(v.toast_error_handler)},onSendCmtClicked:function(e,t,r){var a=this;(0,_.sendComment)({context:this.context,mycard:this.props.cursor.select("mycard").get(),input:e,at:r,feedCursor:this.props.cursor.select("feed"),commentsTabCursor:this.props.cursor.select("tab_manager","tabs",H.comment,"data")}).then(function(e){a.replaceState({showInput:!1}),t.setValue(""),t.updateWordCount(),q(cacheKey)}).catch(toast_error_handler)},sendComment:function(e,t){var r=this;if(!e)return void g("评论内容不能为空");(0,_.sendComment)({context:this.context,input:e,at:t,feedCursor:this.props.cursor.select("feed"),mycard:this.props.cursor.select("mycard").get(),commentsTabCursor:this.props.cursor.select("tab_manager","tabs",H.comment,"data"),reply_to:this.current_replay_cmt_id}).then(function(e){var t=r.props.feed.id+"_"+r.current_replay_cmt_id;q(t),r.current_replay_cmt_id=0}).catch(v.toast_error_handler)},componentWillUnmount:function(){window.collection=null,window.uncollection=null,window.spread=null,window.unspread=null,window.deleteArticle=null,window.complain=null,window.onSpreadFeedCallback=null,window.onInputFinished=null},paySuc:function(e){var t=this;setTimeout(function(){t.reload_extra_data()},500)},reload_extra_data:function(e){var t=this,r=this.context.auth_info,a="/sdk/article/extra_info?"+x.stringify(n({fid:this.props.feed.id,fuid:this.props.feed.main.u.mmid,need_feed:e},r));fetch(a,{credentials:"same-origin"}).then(v.parse_online_json).then(function(e){t.props.cursor.select("mycard").set(e.mycard),t.props.cursor.select("sub_number").set(e.sub_number),t.props.cursor.select("sub_data").set(e.sub_data),e.reward_cards&&t.setState({reward_cards:e.reward_cards,reward_count:e.reward_count}),e.feed&&t.props.cursor.select("feed").set(e.feed),t.props.cursor.select("services").set(e.services)}).catch(v.toast_error_handler)},goReward:function(){var e=this.context.auth_info;if("-1"!=e.u)if(this.props.feed.main.u.id==e.u)g("自己不能给自己打赏哦~");else{var t="/article/reward?"+x.stringify({feedid:this.props.feed.id});b(t,"赞赏")}else(0,i.launch_webview)()},gotoContactDetail:function(e){e.stopPropagation();this.context.auth_info;I(this.props.feed.main.u.encode_mmid||this.props.feed.main.u.id,this.context)},showTipsDialog:function(){(0,l.showModalForConfirm)({title:"访问脉脉网页版：打开电脑，在浏览器中输入 http://maimai.cn，点击右上角登录按钮。用脉脉网页版编辑专栏文章，可获得更好的体验。",ok_text:"知道了"})},renderHotTopic:function(){if(this.props.hot&&this.props.hot.length>0)return[C.createElement("div",{key:"hot-1",className:"panel-heading"},C.createElement("span",null," "),C.createElement("span",{className:"text-muted pull-left"},"热门话题")),C.createElement("ul",{key:"hot-2",className:"list-group"},this.props.hot.map(function(e){return C.createElement(O,{key:e.id,topic:e,hideTime:!0,hideTag:!0,onClick:function(){(0,i.launch_webview)()}})}),C.createElement(B,{title:"更多热门话题 >>",onClick:function(){return(0,i.launch_webview)()}}))]},renderHeaderUserCard:function(){var e=this.context,t=e.auth_info,r=e.env,a=e.req,n=this.props.feed.main.u,i=this.props.feed.ftype,o=this.props.feed.main.source_url,s=this.props.feed.main.source_name;this.props.feed.main.source_debug&&(s+=this.props.feed.main.source_debug);var l=void 0;if(t.u>0)l=C.createElement("div",{style:{display:this.props.sub_number?"block":"none"}},C.createElement("div",null,C.createElement(T,{card:this.props.feed.main.u,cursor:this.props.cursor,no_icon:!0})),!1);else if(r.wechat&&!a.query.hide_btn){var d=function(){window.location="/article/sub_page"};l=C.createElement("div",null,C.createElement("div",null,C.createElement("button",{className:"order_btn font-13",onClick:d},"关注")))}return C.createElement("div",{style:{paddingTop:this.props.feed.main.title?"0px":"35px"}},33!=i&&C.createElement("div",{className:"text-center"},C.createElement("div",{className:"d-i-b media-middle"},C.createElement(c.default,{ref:"avatar",customClass:"avatar-25 radius-50",card:n,image_id:"user_avatar"})),C.createElement("div",{className:"d-i-b media-middle text-left text-primary o-hidden ",style:{maxWidth:"90%",height:"26px",lineHeight:"26px"}},C.createElement("div",{className:"media-middle widthEllipsis "+(1==n.judge?"add_v_img2":""),style:{paddingRight:"14px",maxWidth:"100%"}},C.createElement("span",{className:"small text-gray-7d p-l-5",onClick:this.gotoContactDetail},n.name)),1==n.mem_st&&F.renderMember_middle(n.mem_id)),C.createElement("div",{className:"m-t m-b-20"},l)),33==i&&s&&o&&C.createElement("div",{className:"mai-article-content"},"来自 ",C.createElement("a",{href:o},s)),33==i&&s&&!o&&C.createElement("div",{className:"mai-article-content"},"来自 ",s))},renderContent:function(){var e=this.props.feed.main.html;return C.createElement("div",null,!e&&C.createElement("div",{className:"p-t-10"},C.createElement(M,{images:this.props.feed.main.pics,first_image_id:"feed_first_image"})),C.createElement("div",{className:"mai-article-content "+(0==this.props.feed.main.u.dist?"selectable":"")},!e&&C.createElement(N,{text:this.props.feed.main.rtext||this.props.feed.main.text}),e&&C.createElement("div",{dangerouslySetInnerHTML:{__html:e}})))},renderReward:function(){var e,t=this.context.auth_info,r=this.props.feed.ftype;this.state.reward_count&&this.state.reward_count>0&&(e=C.createElement("span",{className:"reward_num"},this.state.reward_count,"人已赞赏"));var a=[];for(var n in this.state.reward_cards){var i=[],o=!0,s=!1,c=void 0;try{for(var l,d=this.state.reward_cards[n][Symbol.iterator]();!(o=(l=d.next()).done);o=!0){var p=l.value;i.push(C.createElement(L,{uid:p.encode_mmid||p.mmid,avatar:p.avatar}))}}catch(e){s=!0,c=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw c}}a.push(C.createElement("li",{style:W.reward_list_li},i))}return C.createElement("div",{className:"text-center m-t"},33!=r&&C.createElement("div",null,t.u>0&&C.createElement("div",{className:"text-center font-13 text-muted p-y-10"},"如果文章对您有用，请随意打赏。"),t.u>0&&C.createElement("div",{className:"reward_btn",onClick:this.goReward},"赞赏",e),C.createElement("ul",{style:W.reward_list},a)))},renderZKInfo:function(){return C.createElement("div",{className:"p-x-20 p-y clearfix"},C.createElement("div",{className:"fr text-gray-7d"},C.createElement("span",{className:"d-i-b"},"阅读 ",this.props.feed.views>0?this.props.feed.views:""),C.createElement("span",{className:"d-i-b m-l-10"},"喜欢 ",this.props.feed.likes.n>0?this.props.feed.likes.n:""),C.createElement("span",{className:"d-i-b m-l-10"},"分享 ",this.props.feed.spreads.n>0?this.props.feed.spreads.n:"")))},renderComments:function(){var e=this,t=this.props,r=t.cursor,a=t.tab_manager,r=t.cursor;if(a){var n=a.tabs[a.current_tabindex].data.comments;return n&&0!=n.length?C.createElement("div",{className:"gray-bg-f9 p-t-15 text-break"},C.createElement("div",{className:"m-x-20 text-black-3 font-16 p-y-10 font-bold"},"全部",n.length,"条观点"),C.createElement("ul",{className:"list-group m-b-0"},n.map(function(t,n){return C.createElement(D,{feed:t,key:t.id,cursor:r.select("tab_manager","tabs",a.current_tabindex,"data","comments",n),onCommentCardClicked:e.onCommentCardClicked})}))):C.createElement("div",null)}},renderZKP:function(){this.context.auth_info;return C.createElement(E,{feed:this.props.feed,cursor:this.props.cursor,ref:"articleZKP",wrap:!1})},renderClientMsg:function(){var e=this.props.feed,t=[];t.push({title:"分享文章",callback:"MaiMai_Native.native_share(1)"}),1==e.del&&t.push({title:"删除文章",callback:"deleteArticle()"}),this.props.collected?t.push({title:"移出收藏",callback:"uncollection()"}):t.push({title:"收藏",callback:"collection()"}),t.push({title:"举报",callback:"complain()"});var r={};r.more_items=t,r.keep_default_items=4;var a=this.shareTitle(),n="工作圈实名动态";if(this.props.feed.pcpm&&(n+=this.props.feed.pcpm.join(" ")),33==this.props.feed.ftype){var i=f.default.extend({},this.props.feed);i.main.text=i.main.title}else var i=this.props.feed;r.share_info={title:a,name:"文章",desc:n,native_object_data:{type:"feed",data:i},icon_callback:'native_image_data("feed_first_image", "user_avatar")',icon_type:"1"};try{if(window){var o=window.location.origin+window.location.pathname+"?fid="+this.context.req.query.fid;r.url=o}}catch(e){console.log(e)}return 0==this.props.feed.spreads.me?(r.share_info.share_to_feed_callback="spread",r.share_info.share_to_feed_status="0"):(r.share_info.share_to_feed_callback="unspread",r.share_info.share_to_feed_status="1"),C.createElement(P,{msg_to_app:r})},renderBottomBtn:function(){var e=this.context.auth_info;return C.createElement("div",null,e.u<0&&C.createElement(S,{btns:["查看更多职场干货"],actions:[function(){(0,i.launch_webview)()}]}))},shareTitle:function(){var e=this.props.feed.main.title||this.props.feed.main.text;return e&&e.length>30&&(e=e.substr(0,30)+"..."),e},renderMoreArticle:function(){var e=this.props.preArticle;if(e){var t=function(){b("/article/detail?fid="+e.id,e.title)};return C.createElement("div",{className:"m-x",onClick:t},C.createElement("div",{className:"text-muted"},"前一篇专栏:"),C.createElement("div",{className:"font-16 m-t-10 m-b"},e.title))}},renderBottomBar:function(){var e=this.context,t=e.auth_info,r=e.env,a=e.req,n=this.props.feed.ftype;if(-1==t.u&&r.mobile&&!a.query.hide_btn)return C.createElement(h.default,{avatar:33==n?"http://i9.taou.com/maimai/images/hangye_jujiao_avatar.png":this.props.feed.main.u.avatar,likes:this.props.feed.likes.n,textA:this.props.feed.id%2==0,cshow_url:this.props.cshow_url})},render:function(){var e=this.props.feed.main.title;return C.createElement("div",{className:"panel-default"},C.createElement(k,{title:this.shareTitle()}),this.renderClientMsg(),e&&C.createElement("div",{className:"article-title"},e),this.renderHeaderUserCard(),this.renderContent(),this.renderReward(),this.renderZKInfo(),this.renderComments(),this.renderBottomBtn(),this.renderBottomBar())}}),L=C.createClass({displayName:"ImageItem",contextTypes:{auth_info:C.PropTypes.object,req:C.PropTypes.object},gotoContactDetail:function(e){e.stopPropagation(),I(this.props.uid,this.context)},render:function(){return C.createElement("img",{style:W.rewardCard,src:this.props.avatar,onClick:this.gotoContactDetail})}}),W={reward_list:{width:"300px",margin:"22px auto"},reward_list_li:{width:"220px",fontSize:0,listStyleType:"none",textAlign:"center"},rewardCard:{width:"30px",height:"30px",border:"0px solid #ffa34a",margin:"0 5px 5px"},subBtn:{position:"absolute",height:"100px",right:"0px",top:"0px"},subCount:{marginRight:"5px"},carouselIndicators:{marginLeft:"5px"}};Z.isHideHeader=function(e,t){return!!e.req.query.hide_btn},e.exports=A(Z)},1403:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,c,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},d=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),p=r(1),u=a(p),f=r(78),m=a(f),h=(r(984),r(17)),_=a(h),g=(r(115).launch_webview,r(15)),b=(r(75),r(90)),v=(r(999),r(46),c=s=function(e){function t(){var e,r,a,o;n(this,t);for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];return r=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.like=function(e){e.stopPropagation();var t=a.context,r=t.auth_info,n=t.fconf;if(r.u>0){var i=a.props.cursor.select("mylike"),o=0==i.get()?1:0;i.set(o),1==o?a.props.cursor.select("likes").apply(function(e){return e+1}):a.props.cursor.select("likes").apply(function(e){return e-1});var s=n.online_url+"feed/v3/likecmt?"+g.stringify(l({cid:a.props.cursor.select("id").get(),like:o},r));fetch(s).then().then()}},a.gotoContactDetail=_.default.debounce(function(e){e.stopPropagation();var t=this.props.feed,r=t.u.mmid||t.u.id;82==r||t.u.is_anony||(0,m.default)(t.u.encode_mmid||r,this.context)},1e3,!0),a.onCardClicked=function(e){e.stopPropagation(),a.props.onCommentCardClicked&&a.props.onCommentCardClicked(a.props.cursor.get())},o=r,i(a,o)}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=(e.cursor,e.feed);return u.default.createElement("div",null,u.default.createElement("div",{className:"border-bottom-e0 m-x-20 p-y",onClick:this.onCardClicked},u.default.createElement("div",{className:"fl m-r-10"},u.default.createElement("div",{className:"font-0"},u.default.createElement("img",{className:"avatar-25 radius-50",src:t.u.avatar,onClick:this.gotoContactDetail.bind(this)}))),u.default.createElement("div",{className:"o-hidden"},u.default.createElement("div",{className:"m-b-5"},u.default.createElement("div",{className:"fr media-top text-right"},u.default.createElement("div",{className:"l-h-16 p-r-20 "+(t.mylike?"red_heart_icon":"gray_heart_icon"),style:{minWidth:60},onClick:this.like},t.likes>0&&t.likes)),u.default.createElement("div",{className:"o-hidden"},u.default.createElement("div",{className:"l-h-16 mw-100 widthEllipsis text-gray-7d"},u.default.createElement("span",null,t.u.name),u.default.createElement("span",{className:t.u.judge?"add_v_img_hl":""}),1==t.u.mem_st&&this.renderMember()))),u.default.createElement("div",{className:"text-black-3"},u.default.createElement(b,{ref:"content",text:t.rt||(t.ru&&t.ru.name?"回复"+t.ru.name+":"+t.t:t.t),support_dref:!0})))))}},{key:"renderMember",value:function(){return 1==this.props.feed.u.mem_id||2==this.props.feed.u.mem_id?u.default.createElement("span",{className:"add_huiyuan_img1"}):3==this.props.feed.u.mem_id||5==this.props.feed.u.mem_id||6==this.props.feed.u.mem_id?u.default.createElement("span",{className:"add_huiyuan_img2"}):4==this.props.feed.u.mem_id?u.default.createElement("span",{className:"add_huiyuan_img3"}):u.default.createElement("span",{className:"add_huiyuan_img"})}}]),t}(u.default.Component),s.contextTypes={auth_info:u.default.PropTypes.object,fconf:u.default.PropTypes.object,req:u.default.PropTypes.object,from:u.default.PropTypes.string},c);t.default=e.exports=v},1404:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i=r(115),o=r(116),s=a(o),c=r(168),l=a(c),d=r(167),p=r(287),u=a(p),f=r(17),m=a(f),h=r(1130),_=a(h),g=r(76),b=r(50),v=r(75),y=r(114),w=r(113),x=r(15),C=(r(117),r(90),r(1)),k=r(981),E=r(1058),N=r(993),P=(r(991),r(983)),T=(r(1133),r(1129)),M=r(1044),S=r(988),j=r(998),A=r(166),I=(r(46),r(78)),O=(r(985)("app"),r(1134),r(1017)),B=r(986),D=C.createClass({displayName:"App",contextTypes:{auth_info:C.PropTypes.object,req:C.PropTypes.object,fconf:C.PropTypes.object,wx_sdk:C.PropTypes.object,env:C.PropTypes.object},componentWillReceiveProps:function(e,t){if(!this.props.wx_sdk_inited&&e.wx_sdk_inited){var r={title:this.shareTitle(),desc:"分享一条"+this.props.feed.main.u.name+"的工作动态",link:window.location.href,imgUrl:this.props.feed.main.u.avatar,success:function(){},cancel:function(){}};t.wx_sdk.onMenuShareAppMessage(r),t.wx_sdk.onMenuShareTimeline(r),t.wx_sdk.onMenuShareQQ(r),t.wx_sdk.onMenuShareQZone(r)}},collection:function(){var e=this,t=this.context.auth_info,r="/sdk/collection/add?"+x.stringify(n({target:this.props.feed.id,type:"feed"},t)),a=fetch(r,{credentials:"same-origin"}).then(v.parse_online_json).then(function(t){g("收藏成功"),e.props.cursor.select("collected").set(!0)}).catch(v.toast_error_handler);y("收藏中...",a)},uncollection:function(){var e=this,t=this.context.auth_info,r="/sdk/collection/remove?"+x.stringify(n({target:this.props.feed.id,type:"feed"},t)),a=fetch(r,{credentials:"same-origin"}).then(v.parse_online_json).then(function(t){g("移出收藏成功"),e.props.cursor.select("collected").set(!1)}).catch(v.toast_error_handler);y("移出收藏中...",a)},deleteArticle:function(){this.refs.articleZKP.onDeleteArticle()},complain:function(){window.MaiMai_Native.native_complain(3,this.props.feed.id,"")},spread:function(){this.refs.articleZKP.spreadArticleToFeed()},unspread:function(){this.refs.articleZKP.spreadArticleToFeed()},getInitialState:function(){return{reward_cards:{}}},componentDidMount:function(){var e=this;if(w.bindBroadcast("broadcast_web_pay_suc",this.paySuc),this.props.reward_cards&&this.setState({reward_cards:this.props.reward_cards,reward_count:this.props.reward_count}),this.reload_extra_data(!0),window.collection=this.collection,window.uncollection=this.uncollection,window.complain=this.complain,window.spread=this.spread,window.unspread=this.unspread,window.deleteArticle=this.deleteArticle,window.native_image_data=j,new u.default(window.navigator.userAgent).mobile()||this.props.cursor.select("from").set("pc"),this.context.auth_info.u<=0&&this.context.fconf.ab_conf.article_show_hot_topic){var t="/sdk/article/topic?"+x.stringify(n({id:this.props.feed.id},this.context.auth_info));fetch(t,{credentials:"same-origin"}).then(v.parse_online_json).then(function(t){e.props.cursor.select("hot").set(t.data.hot)}).catch(alert)}},componentWillUnmount:function(){window.collection=null,window.uncollection=null,window.spread=null,window.unspread=null,window.deleteArticle=null,window.complain=null},paySuc:function(e){var t=this;setTimeout(function(){t.reload_extra_data()},500)},reload_extra_data:function(e){var t=this,r=this.context.auth_info,a="/sdk/article/extra_info?"+x.stringify(n({fid:this.props.feed.id,fuid:this.props.feed.main.u.mmid,need_feed:e},r));fetch(a,{credentials:"same-origin"}).then(v.parse_online_json).then(function(e){t.props.cursor.select("mycard").set(e.mycard),t.props.cursor.select("sub_number").set(e.sub_number),t.props.cursor.select("sub_data").set(e.sub_data),e.reward_cards&&t.setState({reward_cards:e.reward_cards,reward_count:e.reward_count}),e.feed&&t.props.cursor.select("feed").set(e.feed),t.props.cursor.select("services").set(e.services)}).catch(v.toast_error_handler)},goReward:function(){var e=this.context.auth_info;if("-1"!=e.u)if(this.props.feed.main.u.id==e.u)g("自己不能给自己打赏哦~");else{var t="/article/reward?"+x.stringify({feedid:this.props.feed.id});b(t,"赞赏")}else(0,i.launch_webview)()},gotoContactDetail:function(e){e.stopPropagation();this.context.auth_info;I(this.props.feed.main.u.encode_mmid||this.props.feed.main.u.id,this.context)},showTipsDialog:function(){(0,d.showModalForConfirm)({title:"访问脉脉网页版：打开电脑，在浏览器中输入 http://maimai.cn，点击右上角登录按钮。用脉脉网页版编辑专栏文章，可获得更好的体验。",ok_text:"知道了"})},renderHotTopic:function(){if(this.props.hot&&this.props.hot.length>0)return[C.createElement("div",{key:"hot-1",className:"panel-heading"},C.createElement("span",null," "),C.createElement("span",{className:"text-muted pull-left"},"热门话题")),C.createElement("ul",{key:"hot-2",className:"list-group"},this.props.hot.map(function(e){return C.createElement(O,{key:e.id,topic:e,hideTime:!0,hideTag:!0,onClick:function(){(0,i.launch_webview)()}})}),C.createElement(B,{title:"更多热门话题 >>",onClick:function(){return(0,i.launch_webview)()}}))]},renderHeaderUserCard:function(){var e=this.context,t=e.auth_info,r=e.env,a=e.req,n=this.props.feed.main.u,i=this.props.feed.ftype,o=this.props.feed.main.source_url,c=this.props.feed.main.source_name;this.props.feed.main.source_debug&&(c+=this.props.feed.main.source_debug);var d=void 0;if(t.u>0)d=C.createElement("div",{className:"text-right fr order_width",style:{display:this.props.sub_number?"block":"none"}},C.createElement("div",{className:"fr",style:{marginTop:"2px"}},C.createElement(T,{card:this.props.feed.main.u,cursor:this.props.cursor,no_icon:!0})),C.createElement("span",{className:"small text-muted",style:{display:"inline-block",paddingTop:"6px"}},this.props.sub_number?this.props.sub_number.subbed_count:0,"人订阅"));else if(r.wechat&&!a.query.hide_btn){var p=function(){window.location="/article/sub_page"};d=C.createElement("div",{className:"text-right fr order_width"},C.createElement("div",{className:"fr",style:{marginTop:"2px"}},C.createElement("button",{className:"order_btn",onClick:p},"关注")))}return C.createElement("div",{style:{paddingTop:this.props.feed.main.title?"0px":"35px"}},33!=i&&C.createElement("div",{className:"topicSummary p-x p-b-0"},C.createElement("div",{className:"clearfix"},d,C.createElement("div",{className:"fl",style:{padding:"7px 5px 7px 0"}},C.createElement(l.default,{ref:"avatar",customClass:"avatar-16",card:n,image_id:"user_avatar"})),C.createElement("div",{className:"text-primary",style:{overflow:"hidden",lineHeight:"30px"}},C.createElement("div",{className:"widthEllipsis fl "+(1==n.judge?"add_v_img2":""),style:{paddingRight:"14px",maxWidth:"100%"}},C.createElement("span",{onClick:this.gotoContactDetail},n.name),C.createElement("span",{className:"text-muted small"},"  |  ",s.default.getCareer(n,"")))))),33==i&&c&&o&&C.createElement("div",{className:"harticle-from"},"来自 ",C.createElement("a",{href:o},c)),33==i&&c&&!o&&C.createElement("div",{className:"harticle-from"},"来自 ",c))},renderContent:function(){var e=this.props.feed.main.html;return C.createElement("div",null,!e&&C.createElement("div",null,C.createElement(M,{images:this.props.feed.main.pics,first_image_id:"feed_first_image"})),C.createElement("div",{className:"mai-harticle-content "+(0==this.props.feed.main.u.dist?"selectable":"")},!e&&C.createElement(N,{text:this.props.feed.main.rtext||this.props.feed.main.text}),e&&C.createElement("div",{dangerouslySetInnerHTML:{__html:e}})))},renderReward:function(){var e,t=this.context.auth_info,r=this.props.feed.ftype;this.state.reward_count&&this.state.reward_count>0&&(e=C.createElement("span",{className:"reward_num"},this.state.reward_count,"人已赞赏"));var a=[];for(var n in this.state.reward_cards){var i=[],o=!0,s=!1,c=void 0;try{for(var l,d=this.state.reward_cards[n][Symbol.iterator]();!(o=(l=d.next()).done);o=!0){var p=l.value;i.push(C.createElement(J,{uid:p.encode_mmid||p.mmid,avatar:p.avatar}))}}catch(e){s=!0,c=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw c}}a.push(C.createElement("li",{style:H.reward_list_li},i))}return C.createElement("div",{className:"text-center m-t"},33!=r&&C.createElement("div",null,t.u>0&&C.createElement("div",{className:"text-center font-13 text-muted p-y-10"},"如果文章对您有用，请随意打赏。"),t.u>0&&C.createElement("div",{className:"reward_btn",onClick:this.goReward},"赞赏",e),C.createElement("ul",{style:H.reward_list},a)))},renderZKP:function(){this.context.auth_info;return C.createElement(E,{feed:this.props.feed,cursor:this.props.cursor,ref:"articleZKP",wrap:!1})},renderClientMsg:function(){var e=this.props.feed,t=[];t.push({title:"分享文章",callback:"MaiMai_Native.native_share(1)"}),1==e.del&&t.push({title:"删除文章",callback:"deleteArticle()"}),this.props.collected?t.push({title:"移出收藏",callback:"uncollection()"}):t.push({title:"收藏",callback:"collection()"}),t.push({title:"举报",callback:"complain()"});var r={};r.more_items=t,r.keep_default_items=4;var a=this.shareTitle(),n="工作圈实名动态";if(this.props.feed.pcpm&&(n+=this.props.feed.pcpm.join(" ")),33==this.props.feed.ftype){var i=m.default.extend({},this.props.feed);i.main.text=i.main.title}else var i=this.props.feed;r.share_info={title:a,name:"文章",desc:n,native_object_data:{type:"feed",data:i},icon_callback:'native_image_data("feed_first_image", "user_avatar")',icon_type:"1"};try{if(window){var o=window.location.origin+window.location.pathname+"?fid="+this.context.req.query.fid;r.url=o}}catch(e){console.log(e)}return 0==this.props.feed.spreads.me?(r.share_info.share_to_feed_callback="spread",r.share_info.share_to_feed_status="0"):(r.share_info.share_to_feed_callback="unspread",r.share_info.share_to_feed_status="1"),C.createElement(P,{msg_to_app:r})},renderBottomBtn:function(){var e=this.context.auth_info;return C.createElement("div",null,e.u<0&&C.createElement(S,{btns:["查看更多职场干货"],actions:[function(){(0,i.launch_webview)()}]}))},shareTitle:function(){var e=this.props.feed.main.title||this.props.feed.main.text;return e&&e.length>30&&(e=e.substr(0,30)+"..."),e},renderMoreArticle:function(){var e=this.props.preArticle;if(e){var t=function(){b("/article/detail?fid="+e.id,e.title)};return C.createElement("div",{className:"m-x",onClick:t},C.createElement("div",{className:"text-muted"},"前一篇专栏:"),C.createElement("div",{className:"font-16 m-t-10 m-b"},e.title))}},renderBottomBar:function(){var e=this.context,t=e.auth_info,r=e.env,a=e.req,n=this.props.feed.ftype;if(-1==t.u&&r.mobile&&!a.query.hide_btn)return C.createElement(_.default,{avatar:33==n?"http://i9.taou.com/maimai/images/hangye_jujiao_avatar.png":this.props.feed.main.u.avatar,likes:this.props.feed.likes.n,textA:this.props.feed.id%2==0,cshow_url:this.props.cshow_url})},render:function(){var e=this.props.feed.main.title;return C.createElement("div",{className:"panel-default"},C.createElement(k,{title:this.shareTitle()}),this.renderClientMsg(),e&&C.createElement("div",{className:"harticle-title"},e),this.renderHeaderUserCard(),this.renderContent(),this.renderReward(),this.renderMoreArticle(),this.renderZKP(),this.renderBottomBtn(),this.renderBottomBar())}}),J=C.createClass({displayName:"ImageItem",contextTypes:{auth_info:C.PropTypes.object,req:C.PropTypes.object},gotoContactDetail:function(e){e.stopPropagation(),I(this.props.uid,this.context)},render:function(){return C.createElement("img",{style:H.rewardCard,src:this.props.avatar,onClick:this.gotoContactDetail})}}),H={reward_list:{width:"300px",margin:"22px auto"},reward_list_li:{width:"220px",fontSize:0,listStyleType:"none",textAlign:"center"},rewardCard:{width:"30px",height:"30px",border:"0px solid #ffa34a",margin:"0 5px 5px"},subBtn:{position:"absolute",height:"100px",right:"0px",top:"0px"},subCount:{marginRight:"5px"},carouselIndicators:{marginLeft:"5px"}};D.isHideHeader=function(e,t){return!!e.req.query.hide_btn},e.exports=A(D)},1405:function(e,t,r){"use strict";(function(t){function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s=r(115),c=r(165),l=a(c),d=r(116),p=a(d),u=r(168),f=a(u),m=r(167),h=r(287),_=a(h),g=r(17),b=a(g),v=r(1130),y=a(v),w=r(170),x=a(w),C=r(77),k=a(C),E=r(1089),N=a(E),P=r(276),T=a(P),M=r(1123),S=a(M),j=r(1406),A=a(j),I=r(1135),O=a(I),B=r(1407),D=r(1408),J=a(D),H=r(169),z=a(H),R=r(1409),q=a(R),F=r(1249),Z=a(F),L=r(1410),W=a(L),U=r(277),G=r(76),Q=r(50),Y=r(75),K=r(114),V=r(113),X=r(15),$=(r(117),r(90),r(1)),ee=r(981),te=r(1058),re=r(993),ae=(r(991),r(983)),ne=(r(1133),r(1248)),ie=r(1044),oe=r(988),se=r(998),ce=r(166),le=r(46),de=r(78),pe=(r(985)("app"),r(1134),r(1017)),ue=r(982),fe=r(1411),me=r(1412),he=r(986),_e=r(1005),ge=(_e.showInputPanel,_e.showInputPanelAtBottom,_e.clearInput),be=(r(1413),r(47)),ve=$.createClass((i={displayName:"App",contextTypes:{auth_info:$.PropTypes.object,req:$.PropTypes.object,fconf:$.PropTypes.object,wx_sdk:$.PropTypes.object,env:$.PropTypes.object},getInitialState:function(){return{out_overflow:!1,out_expand:!1}},componentWillReceiveProps:function(e,t){if(!this.props.wx_sdk_inited&&e.wx_sdk_inited){var r=this.props.feed,a=r.main.pics&&r.main.pics.length>0?r.main.pics[0].turl:"https://maimai.cn/static/images/mailogo.jpg",n={title:this.shareTitle(),desc:"工作圈实名动态",link:window.location.origin+window.location.pathname+"?fid="+this.context.req.query.fid,imgUrl:a,success:function(){},cancel:function(){}};t.wx_sdk.onMenuShareAppMessage(n),t.wx_sdk.onMenuShareTimeline(n),t.wx_sdk.onMenuShareQQ(n),t.wx_sdk.onMenuShareQZone(n)}},collection:function(){var e=this,t=this.context.auth_info,r="/sdk/collection/add?"+X.stringify(o({target:this.props.feed.id,type:"feed"},t)),a=fetch(r,{credentials:"same-origin"}).then(Y.parse_online_json).then(function(t){G("收藏成功"),e.props.cursor.select("collected").set(!0)}).catch(Y.toast_error_handler);K("收藏中...",a)},uncollection:function(){var e=this,t=this.context.auth_info,r="/sdk/collection/remove?"+X.stringify(o({target:this.props.feed.id,type:"feed"},t)),a=fetch(r,{credentials:"same-origin"}).then(Y.parse_online_json).then(function(t){G("移出收藏成功"),e.props.cursor.select("collected").set(!1)}).catch(Y.toast_error_handler);K("移出收藏中...",a)},deleteArticle:function(){if(1==confirm("确认删除此文章?")){var e=this.context,t=e.fconf,r=e.auth_info,a=this.props.feed,n=t.online_url+"feed/v3/del?"+X.stringify(o({fid:a.id},r));fetch(n).then(Y.parse_online_json).then(function(){window.MaiMai_Native.close_native?window.MaiMai_Native.close_native(null,!0):G("专栏删除成功")}).catch(Y.toast_error_handler)}},complain:function(){window.MaiMai_Native.native_complain(3,this.props.feed.id,"")},onSpreadFeedCallback:function(e){if(!(this.context.auth_info.u<0)){var t=null!=e?JSON.parse(e):null;x.default.spreadToFeed({context:this.context,content:t,mycard:this.props.cursor.select("mycard").get(),feedCursor:this.props.cursor.select("feed")}).catch(Y.toast_error_handler)}},cancelSpread:function(){x.default.cancelSpread({context:this.context,feedCursor:this.props.cursor.select("feed"),mycard:this.props.cursor.select("mycard").get()}).catch(Y.toast_error_handler)},spread:function(){if(this.props.cursor.select("feed","spreads","me").get())this.cancelSpread();else{if(this.props.cursor.select("feed","main","u","id").get()==this.props.cursor.select("mycard","id").get())return void G("好友已经看到，无需分享哦");window.MaiMai_Native.native_show_spread_feed_dialog?MaiMai_Native.native_show_spread_feed_dialog(JSON.stringify(this.props.cursor.select("feed").get()),"onSpreadFeedCallback"):this.onSpreadFeedCallback()}},unspread:function(){if(this.props.cursor.select("feed","spreads","me").get())this.cancelSpread();else{if(this.props.cursor.select("feed","main","u","id").get()==this.props.cursor.select("mycard","id").get())return void G("好友已经看到，无需分享哦");window.MaiMai_Native.native_show_spread_feed_dialog?MaiMai_Native.native_show_spread_feed_dialog(JSON.stringify(this.props.cursor.select("feed").get()),"onSpreadFeedCallback"):this.onSpreadFeedCallback()}}},n(i,"getInitialState",function(){return{topic_card_fixed:!1,reward_cards:{}}}),n(i,"componentWillMount",function(){this.holders=["与他人分享你此刻的观点","花3秒把观点发表出来","发表观点,提升行业影响力","每个观点平均影响3同行","想提升关注9%,发观点吧","每次发观点,都会吸引同类"],33!=this.props.feed.ftype||this.props.feed.join_article_feeds&&0!=this.props.feed.join_article_feeds.length?this.textHolder="写评论提升知名度...":this.textHolder="抢沙发可得影响力奖励...","undefined"!=typeof window&&2==this.props.feed.main.source_type&&r(1414);var e=this.context.auth_info;this.canReplyComment=T.default.gte(e.version,"4.14.0"),this.setState({show_ad:!0,canSendPinback:!0})}),n(i,"componentDidMount",function(){var e=this;this.props.outapp&&t(".mai-harticle-content").height()>440&&this.setState({out_overflow:!0});var r=this.context.req;if(window.MaiMai_Native&&r.query.back_lst){var a=o({from:"push"},r.query);delete a.back_lst,window.history.replaceState({page:0},"行业头条","/article/headline"),window.history.pushState({page:1},"","?"+X.stringify(o({},a))),window.onpopstate=function(){window.MaiMai_Native.native_refresh()}}else if(window.MaiMai_Native&&r.query.update_hlbanner){var n=r.query;delete n.update_hlbanner,window.history.pushState({page:0},"","?"+X.stringify(o({},n))),setTimeout(function(){window.onpopstate=function(){V.sendWebViewBroadcast("HLBannerUpdated"),window.MaiMai_Native.close_native&&window.MaiMai_Native.close_native(null,!0)}},3e3)}if(this.nextPage=1,V.bindBroadcast("broadcast_web_pay_suc",this.paySuc),this.props.reward_cards&&this.setState({reward_cards:this.props.reward_cards,reward_count:this.props.reward_count}),this.reload_extra_data(),window.collection=this.collection,window.uncollection=this.uncollection,window.complain=this.complain,window.spread=this.spread,window.unspread=this.unspread,window.deleteArticle=this.deleteArticle,window.native_image_data=se,new _.default(window.navigator.userAgent).mobile()||this.props.cursor.select("from").set("pc"),this.context.auth_info.u<=0&&this.context.fconf.ab_conf.article_show_hot_topic){var i="/sdk/article/topic?"+X.stringify(o({id:this.props.feed.id},this.context.auth_info));fetch(i,{credentials:"same-origin"}).then(Y.parse_online_json).then(function(t){e.props.cursor.select("hot").set(t.data.hot)}).catch(alert)}window.onSpreadFeedCallback=this.onSpreadFeedCallback,V.bindBroadcast("pub_feed",this.reloadData),V.bindBroadcast("native_publish_success",this.native_publish_success),this.props.scroll_to_id>0&&setTimeout(function(){location.replace("#join_article_anchor")},500),V.bindBroadcast("keyboard_on_show",this.keyboardOnShow),window.like_callback=this.like_callback,(0,S.default)("#detail2-read-through-pingback").once("enter",function(){e.readThroughPingback()}),window.scroll_to_top=A.default,window.scroll_to_cmt=this.scroll_to_cmt,this.reloadQuotes(),r.query.quote_id?setTimeout(function(){return e.scroll_to_quote(parseInt(r.query.quote_id))},1e3):this.scroll_to_last_position();var s=this.props.ad.current,c=this.state.canSendPinback;(0,S.default)("#detail_billing").once("enter",function(){s&&c&&(e.pingbackAd(1),e.setState({canSendPinback:!1}))})}),n(i,"scroll_to_last_position",function(){if(localStorage){var e=localStorage.getItem(location.href);e&&window.scrollTo(0,e),localStorage.length>100&&localStorage.clear(),window.addEventListener("scroll",function(e){localStorage.setItem(location.href,window.scrollY)})}}),n(i,"scroll_to_cmt",function(){if(0!=this.props.feed.feeds.feeds.length){var e=t("html body"),r=t("#comment_area").offset().top,a=e.scrollTop();this.props.feed.feeds.feeds.length>0&&(r==a||a+(0,z.default)().height>=document.body.scrollHeight)?(0,A.default)():(0,Z.default)(e,r,400)}}),n(i,"scroll_to_quote",function(e){var r=t(".mm_article_underline"),a=this.props.feed;if(r&&r.length>0&&a.quote_list&&a.quote_list.length>0){var n=a.quote_list.map(function(e){return[e.id].concat(e.merged.map(function(e){return e.id}))}),i=b.default.find(r,function(t){var r=t.getAttribute("cmt");return!!b.default.find(n,function(t){return t[0]==r&&b.default.contains(t,e)})});i&&(i=t(i),(0,Z.default)(t("html body"),i.offset().top-100,400))}}),n(i,"componentWillUnmount",function(){window.collection=null,window.uncollection=null,window.spread=null,window.unspread=null,window.deleteArticle=null,window.complain=null,window.onSpreadFeedCallback=null,V.unbindBroadcast("pub_feed"),V.unbindBroadcast("native_publish_success"),V.unbindBroadcast("keyboard_on_show"),window.like_callback=null,window.scroll_to_top=null}),n(i,"paySuc",function(e){var t=this;setTimeout(function(){t.reload_extra_data()},500)}),n(i,"keyboardOnShow",function(e){e&&JSON.parse(e)&&!JSON.parse(e).show&&this.props.cursor.select("show_bottom_panel").set(!0)}),n(i,"loadMoreComments",function(){var e=this,t=this.context,r=t.auth_info,a=t.req,n=this.props,i=n.cursor;n.feed;this.refs.loader.bindRequest(function(){var t=10*(e.nextPage||0),n="/sdk/article/get_comments?"+X.stringify(o({fid:a.query.fid,limit:10,offset:t},r));return fetch(n,{credentials:"same-origin"}).then(Y.parse_online_json).then(function(t){e.nextPage++,0==t.feeds.feeds.length&&(t.feeds.feeds_stat.total=e.props.feed.feeds.feeds.length),i.select("feed","feeds","feeds").concat(t.feeds.feeds),i.select("feed","feeds","total").set(t.feeds.feeds_stat.total),i.select("feed","feeds","likes").set(t.feeds.feeds_stat.likes),i.select("feed","feeds","spreads").set(t.feeds.feeds_stat.spreads)}).catch(function(e){Y.toast_error_handler(e)})})}),n(i,"readThroughPingback",function(){var e=this.props,t=e.cursor,r=e.feed,a=this.context,n=a.auth_info,i=a.fconf;if(!this.props.feed.pingbacked){var s=i.online_url+"other/v4/pingback_art_read_through?"+X.stringify(o({fid:r.id},n));console.log(s),fetch(s).then(function(){console.log("pingback ok!")}).catch(function(){return console.log("pingback err!")}),t.select("feed","pingbacked").set(!0)}}),n(i,"reload_detail",function(){var e=this,t=this.context,r=t.auth_info,a=t.req,n="/sdk/article/reload_detail?"+X.stringify(o({fid:this.props.feed.id,fuid:this.props.feed.main.u.mmid,trim_method:a.query.trim_method},r));fetch(n,{credentials:"same-origin"}).then(Y.parse_online_json).then(function(t){if(t.feed){var r=e.props.cursor.select("feed","feeds").get(),a=e.props.cursor.select("feed","pingbacked").get(),n=e.props.cursor.select("feed","feed","unwill").get();t.feed.feeds=r,t.feed.pingbacked=a,t.feed.feed={unwill:n},e.props.cursor.select("feed").set(t.feed),setTimeout(function(){return e.reloadQuotes()},500)}}).catch(Y.toast_error_handler)}),n(i,"reload_extra_data",function(e){var t=this,r=this.context,a=r.auth_info,n=r.req,i="/sdk/article/extra_info?"+X.stringify(o({fid:this.props.feed.id,fuid:this.props.feed.main.u.mmid,need_feed:e,trim_method:n.query.trim_method},a));fetch(i,{credentials:"same-origin"}).then(Y.parse_online_json).then(function(e){if(t.props.cursor.select("mycard").set(e.mycard),t.props.cursor.select("sub_number").set(e.sub_number),t.props.cursor.select("sub_data").set(e.sub_data),e.reward_cards&&t.setState({reward_cards:e.reward_cards,reward_count:e.reward_count}),e.feed){var r=t.props.cursor.select("feed","feeds").get(),a=t.props.cursor.select("feed","pingbacked").get(),n=t.props.cursor.select("feed","feed","unwill").get();e.feed.feeds=r,e.feed.pingbacked=a,e.feed.feed={unwill:n},t.props.cursor.select("feed").set(e.feed)}t.props.cursor.select("services").set(e.services)}).catch(Y.toast_error_handler);setTimeout(function(){t.props.feed.readyToRenderBarrage||t.props.feed.barrageCounter||(t.props.cursor.select("feed","readyToRenderBarrage").set(!0),t.props.cursor.select("feed","barrageCounter").set(0))},3e3)}),n(i,"goReward",function(){var e=this.context.auth_info;if("-1"!=e.u)if(this.props.feed.main.u.id==e.u)G("自己不能给自己打赏哦~");else{var t="/article/reward?"+X.stringify({feedid:this.props.feed.id});Q(t,"赞赏")}else(0,s.launch_webview)()}),n(i,"gotoContactDetail",function(e){e.stopPropagation();this.context.auth_info;de(this.props.feed.main.u.encode_mmid||this.props.feed.main.u.mmid||this.props.feed.main.u.id,this.context)}),n(i,"goToAddComment",function(e){e.stopPropagation();var t=this.context,r=t.req;if(t.auth_info.u>0){if(window.MaiMai_Native.native_publish){var a=r.query.fr?r.query.fr:"",n={target:"article_add_feed_"+r.query.fid,title:"发表观点",right_button_text:"发布",text_holder:this.textHolder||"我来说几句",extra_infomation:JSON.stringify({hash:x.default.generateFeedHash(),join_article:r.query.fid,fr:a})};return void window.MaiMai_Native.native_publish(JSON.stringify(n))}Q("/article/pub_feed_pc?"+X.stringify({join_article:r.query.fid}),"发表观点")}else(0,s.launch_webview)()}),n(i,"addHLComment",function(e){e.stopPropagation();var t=this.context,r=t.req,a=t.auth_info;if(!T.default.lt(a.version,"4.15.0"))if(a.u>0){if(window.MaiMai_Native.native_publish){var n=r.query.fr?r.query.fr:"",i={target:"article_add_feed_"+r.query.fid,title:"发表观点",right_button_text:"发布",text_holder:this.textHolder||"我来说几句",ui_tag:16,extra_infomation:JSON.stringify({hash:x.default.generateFeedHash(),join_article:r.query.fid,fr:n}),pop:!0};return void window.MaiMai_Native.native_publish(JSON.stringify(i))}Q("/article/pub_feed_pc?"+X.stringify({join_article:r.query.fid}),"发表观点")}else(0,s.launch_webview)()}),n(i,"gotoRelatedArticleDetail",b.default.debounce(function(e){e.stopPropagation(),e.preventDefault();var t=this.props.cursor,r=this.context,a=r.auth_info,n=r.fconf,i=r.req,s=parseInt(e.target.getAttribute("data-index"));t.select("related_articles",s,"viewed").set(1);var c=t.select("related_articles",s).get();console.log(c),le("/article/detail?fid="+c.fid+"&from="+i.query.from+"&from1=article_detail_related","查看全文","fetch");var l=n.online_url+"feed/v3/view_feed?"+X.stringify(o({fid:c.fid,source:"article_detail_related"},a));fetch(l).catch(alert),l=n.online_url+"other/v4/pingback_art_read_related?"+X.stringify(o({fid:c.fid},a)),fetch(l).catch(alert)},1e3,!0)),n(i,"sendComment",function(e,t){var r=this;if(!e)return void G("评论内容不能为空");var a=this.context,n=(a.req,a.fconf),i=a.auth_info,s=o({text:e||"",data_str:"join_article",data_id:this.props.feed.fid,at_user_info:t||""},i),c=n.online_url+"feed/v3/add";return fetch(c,{credentials:"same-origin",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:X.stringify(s)}).then(Y.parse_online_json).then(function(e){G("发布成功"),broadcast.sendWebViewBroadcast("pub_feed",e.feed);var t=r.props.feed.id+"_"+r.current_replay_cmt_id;ge(t),r.current_replay_cmt_id=0})}),n(i,"native_publish_success",function(e){var t=JSON.parse(e).publish_return_data;t.target&&0==t.target.indexOf("article_add_feed")&&(this.reloadData(t.feed),this.reload_detail())}),n(i,"reloadQuotes",function(){if(this.props.feed.quote_list){var e=(0,B.renderQuotes)(this.props.feed.quote_list);this.props.cursor.select("feed","quote_merged_list").set(e)}this.checkVideos()}),n(i,"checkVideos",function(){var e=t(".tt-video-box"),r=this.context.auth_info;e&&e.length>0&&b.default.forEach(e,function(e){var a=t(e).attr("tt-videoid"),n="/sdk/article/get_ttvideo_url?"+X.stringify(o({videoid:a},r));fetch(n,{credentials:"same-origin"}).then(Y.parse_online_json).then(function(r){t(e).find("video")[0].src=r.video_url}).catch(function(e){})})}),n(i,"reloadData",function(e){var t=this.props.cursor;try{var r={fid:e.id,feed:e};t.select("feed","feeds","feeds").unshift(r),t.select("feed","feeds","total").apply(function(e){return e+1}),1==t.select("feed","feeds","total").get()&&33==this.props.feed.ftype&&(this.textHolder=this.holders[Math.floor(Math.random()*this.holders.length)])}catch(e){alert(e)}}),n(i,"showTipsDialog",function(){(0,m.showModalForConfirm)({title:"访问脉脉网页版：打开电脑，在浏览器中输入 http://maimai.cn，点击右上角登录按钮。用脉脉网页版编辑专栏文章，可获得更好的体验。",ok_text:"知道了"})}),n(i,"renderHotTopic",function(){if(this.props.hot&&this.props.hot.length>0)return[$.createElement("div",{key:"hot-1",className:"panel-heading"},$.createElement("span",null," "),$.createElement("span",{className:"text-muted pull-left"},"热门话题")),$.createElement("ul",{key:"hot-2",className:"list-group"},this.props.hot.map(function(e){return $.createElement(pe,{key:e.id,topic:e,hideTime:!0,hideTag:!0,onClick:function(){(0,s.launch_webview)()}})}),$.createElement(he,{title:"更多热门话题 >>",onClick:function(){return(0,s.launch_webview)()}}))]}),n(i,"renderHeaderUserCard",function(){var e=this.context,t=e.auth_info,r=e.env,a=e.req,n=this.props.feed.main.u,i=this.props.feed.ftype,o=this.props.feed.main.source_url,s=this.props.feed.main.source_name;this.props.feed.main.source_debug&&(s+=this.props.feed.main.source_debug);var c=void 0;if(t.u>0)c=$.createElement("div",{style:{display:this.props.sub_number?"block":"none"}},$.createElement("div",null,$.createElement(ne,{card:this.props.feed.main.u,cursor:this.props.cursor,no_icon:!0})),!1);else if(r.wechat&&!a.query.hide_btn){var l=function(){window.location="/article/sub_page"};c=$.createElement("div",null,$.createElement("div",null,$.createElement("button",{className:"order_btn font-13",onClick:l},"关注")))}return $.createElement("div",{style:{paddingTop:this.props.feed.main.title?"0px":"35px"}},33!=i&&$.createElement("div",{className:"text-center"},$.createElement("div",{className:"d-i-b media-middle"},$.createElement(f.default,{ref:"avatar",customClass:"avatar-25 radius-50",card:n,image_id:"user_avatar"})),$.createElement("div",{className:"d-i-b media-middle text-left text-primary o-hidden ",style:{maxWidth:"90%",height:"26px",lineHeight:"26px"}},$.createElement("div",{className:"widthEllipsis "+(1==n.judge?"add_v_img2":""),style:{paddingRight:"14px",maxWidth:"100%"}},$.createElement("span",{className:"small text-gray-7d p-l-5",onClick:this.gotoContactDetail},n.name),$.createElement("span",{className:"small text-gray-7d"}," • ",p.default.getCareer(n,"")))),$.createElement("div",{className:"m-y"},c)),33==i&&0==this.props.feed.join_article_feeds.length&&s&&$.createElement("div",{className:"harticle-from cursor-pointer",onClick:o?function(){return window.location.href=o}:function(){}},this.props.feed.main.logo?$.createElement("img",{className:"avatar-25 radius-50",src:this.props.feed.main.logo}):$.createElement("div",{className:"circle_btn"},s.slice(0,1)),$.createElement("span",null,"   •   ",s)))}),n(i,"onCmtBtnClick",function(){var e=this.makeBottomPanelMsg();(0,O.default)(JSON.stringify(o({pop:!0},e.publish_params)))}),n(i,"scroll",function(){var e=be.findDOMNode(this.refs.hl_relative_topic),t=void 0,r=this;if(e.offsetParent){var a=e.offsetParent;t=a.offsetTop+e.offsetTop}else t=e.offsetTop;window.addEventListener("scroll",function(){r.scrollListener(t)},!1)}),n(i,"scrollListener",function(e){var t=document.body.scrollTop;this.setState({topic_card_fixed:t>=e})}),n(i,"renderRecommendComments",function(){var e=this.props.cursor,t=this.props.feed.join_article_feeds,r=function(){Q("/static/html/to_head_line.html","我要上头条")};return $.createElement("div",null,$.createElement("div",{className:"recommend_bottom_border"},$.createElement("div",{className:"recommend_comment_wrap"},$.createElement("div",{className:this.props.question.text?"hl_title_img_1":"hl_title_img"}),this.props.question.text&&$.createElement("div",{className:"m-b-20"},$.createElement("div",{className:"recommend_null "+(this.state.topic_card_fixed?"hl_topic_fixed":""),ref:"hl_relative_topic",style:{marginBottom:0}},$.createElement("div",{className:"media-left media-middle font-0"},$.createElement("span",{className:"hl_news_icon1"})),$.createElement("div",{className:"media-body media-middle"},$.createElement("div",{className:"text-black-3"},this.props.question.text))),0==t.length&&$.createElement("div",{className:"text-blue-1c4781 text-right p-y-10 m-x"},$.createElement("div",{className:"d-i-b",onClick:this.onCmtBtnClick},$.createElement("span",{className:"p-r-5"},"发表首条评论")))),!this.props.question.text&&0==t.length&&$.createElement("div",{className:"recommend_null",onClick:this.addHLComment},$.createElement("div",{className:"media-left media-middle font-0"},$.createElement("span",{className:"hl_news_icon"})),$.createElement("div",{className:"media-body media-middle"},$.createElement("div",{className:"text-blue-1c4781"},"头条评论悬赏：影响力+1"),$.createElement("div",{className:"text-black-3"},"沙发空缺，抢到沙发即可直接上头条"))),t&&t.map(function(r,a){return $.createElement(me,{total:t.length,key:r.id,feed:r,feedCursor:e.select("feed","join_article_feeds",a),staffListCursor:e.select("staff_feeds"),cmtListCursor:e.select("feed","feeds","feeds")})}))),t.length>0&&$.createElement("div",{className:"text-blue-1c4781 small text-right p-y-10 m-x"},$.createElement("div",{className:"d-i-b",onClick:r},$.createElement("span",{className:"p-r-5"},"我要上头条"),$.createElement("span",{className:"hl_question_icon m-l-5 media-middle"}))))}),n(i,"onContentClicked",function(e){e&&e.stopPropagation(),e.target&&("span"!=e.target.tagName.toLowerCase()||"mm_article_underline"!=e.target.className&&"mm_article_bage"!=e.target.className?"img"==e.target.tagName.toLowerCase()&&this.onImageClicked(e.target.src):this.onQuoteClicked(e.target.attributes.cmt.nodeValue))}),n(i,"onQuoteClicked",function(e){var t=this,r=this.context,a=r.auth_info,n=r.fconf;if(!(a.u<0)){var i=this.props.feed,s=b.default.find(i.quote_merged_list,function(t){return t.id==e});if(s){var c=[s.id];c=c.concat(s.merged.map(function(e){return e.id}));var l=n.online_url+"feed/v3/gets?"+X.stringify(o({fids:c.join(","),page:0,count:100},a)),d=(0,z.default)().width-40,p=void 0;window.MaiMai_Native.close_native&&(window.MaiMai_Native.native_set_selected_text||T.default.gte(a.version,"4.15.20"))&&(p=b.default.debounce(function(){if(k.default.dismiss(),T.default.gte(a.version,"4.15.20")){var e=t.makeBottomPanelMsg();e.publish_params.quote_text=s.extras,e.publish_params.article_title=t.shareTitle(),e.publish_params.ui_tag=0,(0,O.default)(JSON.stringify(o({pop:!0},e.publish_params)))}else window.MaiMai_Native.native_set_selected_text(s.extras)},1e3,!0));var u=fetch(l,{credentials:"same-origin"}).then(Y.parse_online_json).then(function(e){t.props.cursor.select("show_bottom_panel").set(!1),k.default.popup($.createElement(J.default,{cancel:k.default.dismiss,feeds:e.feeds,extras:s.extras,context:t.context,pop_width:d,pub:p})).then(function(){return t.props.cursor.select("show_bottom_panel").set(!0)}).catch(function(){return t.props.cursor.select("show_bottom_panel").set(!0)})}).catch(Y.toast_error_handler);K("加载中..",u)}}}),n(i,"onImageClicked",function(e){var t=document.getElementById("article_content").getElementsByTagName("img");if(t=b.default.filter(t,function(e){return"hidden"!=e.className}),this.context.wx_sdk)this.context.wx_sdk.previewImage({current:e,urls:b.default.map(t,function(e){return e.src})});else if(MaiMai_Native.native_show_large_images){var r=b.default.map(t,function(e){return{url:e.src}}),a=b.default.findIndex(r,function(t){return t.url==e});MaiMai_Native.native_show_large_images(JSON.stringify(r),a)}}),n(i,"getHtmlKey",function(){var e=this.props.feed,t="html_key_";return e.quote_list&&(t+=e.quote_list.map(function(e){return e.id}).join(",")),t}),n(i,"readArrowA",function(){(0,U.pingback)("read_all","read_all_arrow_a","click"),this.setState({out_expand:!0})}),n(i,"readArrowB",function(){(0,U.pingback)("read_all","read_all_arrow_b","click"),this.setState({out_expand:!0})}),n(i,"openApp",function(){(0,U.pingback)("read_all","read_open_app_a","click"),(0,s.launch_webview)("regfr=out_article_read_more")}),n(i,"renderOutMore",function(){return 0==this.context.fconf.ab_conf.ip_tail_int%2?$.createElement("div",null,this.state.out_overflow&&$.createElement("div",{className:"read_all_wrap"},!this.state.out_expand&&$.createElement("div",{className:"read_all_top"}),$.createElement("div",{className:"read_all_a_bottom"},!this.state.out_expand&&$.createElement("div",{className:"text-center"},$.createElement("span",{className:"article_arrow_down_a",onClick:this.readArrowA})),$.createElement("div",{className:"article_read_btn_a m-t",onClick:this.openApp},"打开APP阅读更多文章")))):$.createElement("div",null,this.state.out_overflow&&!this.state.out_expand&&$.createElement("div",{className:"read_all_wrap"},$.createElement("div",{className:"read_all_top"}),$.createElement("div",{className:"read_all_b_bottom"},$.createElement("div",{className:"d-i-b",onClick:this.readArrowB},$.createElement("span",{className:"article_arrow_down_b m-r-10"}),$.createElement("span",{className:"d-i-b media-middle"},"阅读全文")))))}),n(i,"renderContent",function(){var e=this.props.feed,t=e.main.html,r={overflow:"hidden",maxHeight:"440px"};return $.createElement("div",{onClick:this.onContentClicked,id:"article_content"},e.main.pics&&e.main.pics.length>0&&$.createElement("img",{src:e.main.pics[0].turl,id:"feed_first_image",className:"hidden"}),!t&&$.createElement("div",null,$.createElement(ie,{images:this.props.feed.main.pics,first_image_id:"feed_first_image"})),2!=this.props.feed.main.source_type&&$.createElement("div",{className:"mai-harticle-content "+(0==this.props.feed.main.u.dist?"selectable":""),style:this.state.out_overflow&&!this.state.out_expand?r:{}},!t&&$.createElement(re,{text:this.props.feed.main.rtext||this.props.feed.main.text}),t&&$.createElement("div",{dangerouslySetInnerHTML:{__html:t},key:this.getHtmlKey()})),t&&2==this.props.feed.main.source_type&&$.createElement("div",{className:"rich_media_inner"},$.createElement("div",{className:"page-content"},$.createElement("div",{className:"rich_media_area_primary",dangerouslySetInnerHTML:{__html:t}}))),this.props.outapp&&this.renderOutMore(),!this.props.feed.pingbacked&&!this.props.scroll_to_id&&!this.props.outapp&&$.createElement("div",{id:"detail2-read-through-pingback"}))}),n(i,"onReportSubmitClicked",function(){k.default.dismiss();var e=this.props,t=e.feed_unwill,r=e.feed,a=this.context,n=a.auth_info,i=a.fconf,s=b.default.filter(t.r1,function(e){return e.selected});if(s=s.concat(b.default.filter(t.r2,function(e){return e.selected})),0!=s.length){var c=i.online_url+"feed/v3/unwill?"+X.stringify(o({fid:r.id,reason:JSON.stringify(s)},n)),l=fetch(c,{credentials:"same-origin"}).then(Y.parse_online_json).then(function(e){G("提交成功"),console.log("complain succeed!")}).catch(Y.toast_error_handler);K("提交中...",l)}}),n(i,"onReportClicked",function(e){var t=this;this.props.feed_unwill&&(k.default.dismiss(),k.default.popup2({content:$.createElement(q.default,{feed_unwill:this.props.feed_unwill,cursor:this.props.cursor.select("feed_unwill"),level:e,goToPage:function(e){t.onReportClicked(e)},onSubmit:function(){t.onReportSubmitClicked()}}),contentPosition:"fixed_bottom_content"}))}),n(i,"goToAdDetail",function(){var e=this.props.ad.current;e.url&&(this.pingbackAd(3),le(e.url,e.title,"fetch"))}),n(i,"closeAd",function(e){e.stopPropagation(),this.setState({show_ad:!1}),this.pingbackAd(2)}),n(i,"pingbackAd",function(e){var t=this.props.ad.current,r=this.context.auth_info;if(t){var a="/sdk/article/pingback_ad?"+X.stringify(o({fid:this.props.feed.id,ad_id:t.id,action:e||0},r));fetch(a,{credentials:"same-origin"}).then(Y.parse_online_json)}}),n(i,"renderReportError",function(){if(33!=this.props.feed.ftype)return $.createElement("div",null);var e=(this.props.feed.main.source_url,this.props.feed.main.source_name);this.props.feed.main.source_debug&&(e+=this.props.feed.main.source_debug),e=e?"从"+e:"";var t=this.props.feed.main.source_share;return $.createElement("div",{className:"font-14 text-gray-bc p-x-20"},t,"人",e,"分享到脉脉。在未重新编辑原始内容的情况下， 脉脉对版式做了优化以提升阅读体验。")}),n(i,"renderReward",function(){var e,t=this.context.auth_info,r=this.props.feed.ftype;this.state.reward_count&&this.state.reward_count>0&&(e=$.createElement("span",{className:"reward_num"},this.state.reward_count,"人已赞赏"));var a=[];for(var n in this.state.reward_cards){var i=[],o=!0,s=!1,c=void 0;try{for(var l,d=this.state.reward_cards[n][Symbol.iterator]();!(o=(l=d.next()).done);o=!0){var p=l.value;i.push($.createElement(ye,{uid:p.encode_mmid||p.mmid,avatar:p.avatar}))}}catch(e){s=!0,c=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw c}}a.push($.createElement("li",{style:we.reward_list_li},i))}if(!(t.u<=0&&0==a.length))return $.createElement("div",{className:"text-center m-t"},33!=r&&$.createElement("div",null,t.u>0&&$.createElement("div",{className:"text-center font-13 text-muted p-y-10"},"如果文章对您有用，请随意打赏。"),t.u>0&&$.createElement("div",{className:"reward_btn",onClick:this.goReward},"赞赏",e),$.createElement("ul",{style:we.reward_list},a)))}),n(i,"onOpenOriginClicked",function(){Q(this.props.feed.hash,this.shareTitle())}),n(i,"renderZKInfo",function(){var e=this.props.feed.likes.n+this.props.feed.feeds.likes,t=this.props.feed.spreads.n+this.props.feed.feeds.spreads,r=Math.max(this.props.feed.views+this.props.feed.dviews,e);return $.createElement("div",{className:"p-x-20 p-y clearfix"},33==this.props.feed.ftype&&$.createElement("div",{className:"fl text-primary",onClick:this.onOpenOriginClicked},$.createElement("span",{className:"text-link"},"查看原文")),$.createElement("div",{className:"fr text-gray-7d"},$.createElement("span",{className:"d-i-b"},"阅读 ",r>0?r:""),33!=this.props.feed.ftype&&$.createElement("span",{className:"d-i-b m-l-10"},"分享 ",t>0?t:"")))}),n(i,"renderLikeReport",function(){var e=this;if(33!=this.props.feed.ftype||this.props.outapp)return $.createElement("div",null);var t=this.props.feed.likes.n+this.props.feed.feeds.likes;return $.createElement("div",{className:"text-center text-gray-7d"+(this.props.topic?" m-b-10":" m-b-20")},$.createElement("div",{className:"hl_like_btn",onClick:this.onLikeBtnClicked},$.createElement("span",{className:"p-l-20 "+(1!=this.props.feed.likes.me?"gray_heart_icon_left":"red_heart_icon_left")},t>0?t:"喜欢")),$.createElement("div",{className:"hl_report_btn",onClick:function(){return e.onReportClicked(0)}},$.createElement("span",{className:"gray_trash_can_left p-l-20"},"不喜欢")))}),n(i,"renderAd",function(){var e=this.props.ad.current,t=this.state.show_ad;if(e&&t)return $.createElement("div",{className:"m-y-20 p-x-20",ref:"ad",id:"detail_billing",onClick:this.goToAdDetail},$.createElement("div",{className:"detail_billing"},$.createElement("div",{className:"w-100 font-0 p-relative"},0!=e.close&&$.createElement("div",{className:"close_billing_btn",onClick:this.closeAd},"x"),0!=e.admark&&$.createElement("div",{className:"sign_billing"},"广告"),$.createElement("img",{src:e.img,className:"mx-w-100"})),$.createElement("div",{className:"p-x p-y-10 clearfix"},$.createElement("div",{className:"fl"},$.createElement("div",{className:"font-15 text-black-393D40 l-h-16 m-b-5"},e.title),$.createElement("div",{className:"font-12 text-gray-909DA3 l-h-12"},e.subtitle)),$.createElement("div",{className:"fr go_detail_billing"},e.button?e.button:"去看看"))))}),n(i,"renderRelatedTopic",function(){if(this.props.topic){var e=this.props.topic;return $.createElement(W.default,{topic:e})}}),n(i,"renderRelatedArticle",function(){var e=this;if(!this.props.topic){var t=this.props,r=(t.cursor,t.related_articles);return $.createElement("div",{className:"gray-bg-f9 p-x m-x-20 m-t-10 m-b-30 font-14 l-h-42"},r.map(function(t,a){return a!=r.length-1?$.createElement("div",{style:{height:42},className:"border-bottom-e0 o-hidden "+(1==t.viewed?"text-gray-7d ":""),"data-index":a,onClick:e.gotoRelatedArticleDetail},$.createElement("span",{className:"lineClamp1","data-index":a},t.title)):$.createElement("div",{style:{height:42},className:"o-hidden "+(1==t.viewed?"text-gray-7d ":""),"data-index":a,onClick:e.gotoRelatedArticleDetail},$.createElement("span",{className:"lineClamp1","data-index":a},t.title))}))}}),n(i,"renderStaffComments",function(){var e=this,t=this.props,r=t.cursor,a=t.staff_feeds,n=t.mycard,i=t.scroll_to_id;if(0!=a.length)return $.createElement("div",{className:"gray-bg-f9 p-t-15 text-break disable-touch-callout",style:{paddingBottom:"iphoneX"==this.context.env.device?34:0}},$.createElement("div",{className:"m-x-20 text-black-3 font-16 p-y-10 font-bold"},a.length,"条相关员工评论"),$.createElement("ul",{className:"list-group m-b-0"},a.map(function(t,a){return $.createElement(fe,{feed:t,key:t.fid,cursor:r.select("staff_feeds",a),parentCursor:r,mycard:n,scroll_to_id:i,canReplyComment:e.canReplyComment,orange_name:!0})})))}),n(i,"renderComments",function(){var e=this,t=this.props,r=t.cursor,a=t.feed,n=t.mycard,i=t.scroll_to_id,o=!0;return a.feeds&&a.feeds.feeds&&void 0!=a.feeds.total&&a.feeds.feeds.length>=a.feeds.total&&(o=!1),0===a.feeds.total||34==a.ftype?$.createElement("div",null):$.createElement("div",{className:"gray-bg-f9 p-t-15 text-break disable-touch-callout",style:{paddingBottom:"iphoneX"==this.context.env.device?34:0}},void 0!=a.feeds.total&&a.feeds.total>0&&$.createElement("div",{className:"m-x-20 text-black-3 font-16 p-y-10 font-bold"},"全部",a.feeds.total,"条评论"),$.createElement(ue,{loadMore:this.loadMoreComments,hasMore:o,threshold:30,loader:$.createElement(l.default,{ref:"loader",reload:this.loadMoreComments,cursor:r.select("feed","feeds","loading_status")})},$.createElement("ul",{className:"list-group m-b-0"},a.feeds.feeds.map(function(t,a){return $.createElement(fe,{feed:t,key:t.fid,cursor:r.select("feed","feeds","feeds",a),parentCursor:r,mycard:n,scroll_to_id:i,ftype:e.props.feed.ftype,canReplyComment:e.canReplyComment})}))))}),n(i,"renderZKP",function(){this.context.auth_info;return $.createElement(te,{feed:this.props.feed,cursor:this.props.cursor,ref:"articleZKP",wrap:!1})}),n(i,"makeBottomPanelMsg",function(){var e=this.context.req,t=e.query.fid,r=e.query.fr?e.query.fr:"",a={};return a.publish_params={target:"article_add_feed_"+t,title:"发表观点",right_button_text:"发布",text_holder:this.textHolder||"我来说几句",ui_tag:T.default.gte(this.context.auth_info.version,"4.15.0")?16:0,extra_infomation:JSON.stringify({hash:x.default.generateFeedHash(),join_article:t,fr:r})},a.fid=t,a.has_like=this.props.feed.likes.me,a.text_holder=this.textHolder,a.like_callback="like_callback",a.show_cmt=1,a.cmt_count=this.props.feed.feeds.total,a.cmt_callback="scroll_to_cmt",a}),n(i,"makePublishMenuMsg",function(){var e=this.context.req,t=e.query.fid,r=e.query.fr?e.query.fr:"",a={};return a.publish_params={target:"article_add_feed_menu_"+t,title:"发表观点",right_button_text:"发布",text_holder:this.textHolder||"我来说几句",ui_tag:0,extra_infomation:JSON.stringify({hash:x.default.generateFeedHash(),join_article:t,fr:r})},a.title=this.shareTitle(),a.fid=t,a.open_menu=!0,a}),n(i,"like_callback",function(e){var t=this.props,r=t.feed,a=t.mycard,n=parseInt(e),i=[],o=0,s=0;-1==n?(i=r.likes.us.filter(function(e){return e.mmid!=a.mmid}),o=r.likes.n-1,s=0):1==n&&(i=[a].concat(r.likes.us),o=r.likes.n+1,s=1),this.props.cursor.select("feed","likes","us").set(i),this.props.cursor.select("feed","likes","n").set(o),this.props.cursor.select("feed","likes","me").set(s)}),n(i,"renderClientMsg",function(){var e=this.props,t=e.feed,r=e.mycard,a=[];a.push({title:"分享文章",callback:"MaiMai_Native.native_share(1)"}),1==t.del&&a.push({title:"删除文章",callback:"deleteArticle()"}),this.props.collected?a.push({title:"移出收藏",callback:"uncollection()"}):a.push({title:"收藏",callback:"collection()"}),a.push({title:"举报",callback:"complain()"});var n={};!1!==this.props.cursor.select("show_bottom_panel").get()&&(n.bottom_panel=this.makeBottomPanelMsg()),n.more_items=a,n.keep_default_items=4;var i="工作圈实名动态";if(this.props.feed.pcpm&&(i+=this.props.feed.pcpm.join(" ")),33==this.props.feed.ftype){var o=b.default.extend({},this.props.feed);o.main.text=o.main.title}else var o=this.props.feed;n.share_info={title:this.shareTitle(),name:"文章",desc:i,icon_callback:'native_image_data("feed_first_image", "user_avatar")',icon_type:"1"};try{if(window)if(33==t.ftype){var s=window.location.href+(window.location.search?"&":"?")+X.stringify({share_user:r?r.avatar:""});n.share_info.url=s.replace("?jsononly=1&","?").replace("&jsononly=1","").replace("jsononly=1&","")}else n.share_info.url=window.location.href}catch(e){console.log(e)}return 0==this.props.feed.spreads.me?(n.share_info.share_to_feed_callback="spread",n.share_info.share_to_feed_status="0"):(n.share_info.share_to_feed_callback="unspread",n.share_info.share_to_feed_status="1"),n.publish_menu=this.makePublishMenuMsg(),$.createElement("div",null,$.createElement(ae,{msg_to_app:n}))}),n(i,"renderBottomBtn",function(){var e=this.context.auth_info;return $.createElement("div",null,e.u<0&&$.createElement(oe,{btns:["查看更多职场干货"],actions:[function(){(0,s.launch_webview)()}]}))}),n(i,"shareTitle",function(){var e=this.props.feed.main.title||this.props.feed.main.text;return e&&e.length>30&&(e=e.substr(0,30)+"..."),e}),n(i,"renderMoreArticle",function(){var e=this.props.preArticle;if(e){var t=function(){Q("/article/detail?fid="+e.id,e.title)};return $.createElement("div",{className:"m-x",onClick:t},$.createElement("div",{className:"text-muted"},"前一篇专栏:"),$.createElement("div",{className:"font-16 m-t-10 m-b"},e.title))}}),n(i,"renderBottomBar",function(){var e=this.context,t=e.auth_info,r=e.env,a=e.req;if(-1==t.u&&r.mobile&&!a.query.hide_btn){var n=a.query.share_user?a.query.share_user:33==this.props.feed.ftype?"/static/images/toutiao4.png":this.props.feed.main.u.avatar,i="脉脉专栏里有更多深度和内幕";33==this.props.feed.ftype&&(i=a.query.share_user?"我觉得脉脉上有挺多不错的专栏，邀你共读":"想知道同行精英们都在读什么？来脉脉吧");var o=$.createElement("div",{className:"media-body media-middle"},i);return $.createElement(y.default,{avatar:n,likes:this.props.feed.likes.n,shareComponent:o,cshow_url:this.props.cshow_url})}}),n(i,"onLikeBtnClicked",function(e){this.context.auth_info.u<0||(e.stopPropagation(),x.default.toggleLike({context:this.context,feedCursor:this.props.cursor.select("feed"),mycard:this.props.cursor.select("mycard").get()}).catch(Y.toast_error_handler))}),n(i,"onSpreadBtnClickedFromPC",function(){var e=this;if(1==this.props.feed.spreads.me)x.default.cancelSpread({context:this.context,feedCursor:this.props.cursor.select("feed"),mycard:this.props.cursor.select("mycard").get()}).catch(Y.toast_error_handler);else{if(this.props.feed.main.u.mmid==this.props.cursor.select("mycard").get().mmid)return void G("好友已经看到，无需分享哦");var t=function(t,r,a){k.default.dismiss(),x.default.spreadToFeed({context:e.context,content:{text:t,atUserJsonStr:a},mycard:e.props.cursor.select("mycard").get(),feedCursor:e.props.cursor.select("feed")}).catch(Y.toast_error_handler)};k.default.popup($.createElement(N.default,{feed:this.props.feed,onSpread:t,cancel:k.default.dismiss}))}}),n(i,"onSpreadBtnClicked",function(e){var t=this.context,r=t.auth_info,a=t.env;r.u<0||(e.stopPropagation(),a.from_pc?this.onSpreadBtnClickedFromPC():MaiMai_Native.native_share(1))}),n(i,"renderWebInputPanel",function(){var e=this.props.feed;return this.canReplyComment?0==this.props.cursor.select("show_bottom_panel").get()?$.createElement("div",null):$.createElement("div",{className:"gray-bg-f9",style:{height:52}}):$.createElement("div",{className:"gray-bg-f9",style:{height:52}},$.createElement("div",{className:"hl_discuss_bar font-15",onClick:this.goToAddComment},$.createElement("div",{className:"fr font-0"},$.createElement("div",{className:"d-i-b "+(1!=e.likes.me?"gray_heart_icon_22":"red_heart_icon_22"),onClick:this.onLikeBtnClicked}),$.createElement("div",{className:"d-i-b gray_share_icon_22",onClick:this.onSpreadBtnClicked})),$.createElement("div",{className:"p-y p-l-20 o-hidden text-gray-bc"},$.createElement("span",{className:"gray_edit_pen d-i-b m-r-5 media-top",style:{marginTop:"2px"}}),this.textHolder)))}),n(i,"render",function(){var e=this.props,t=e.feed,r=(e.mycard,t.main.title);return $.createElement("div",{className:"white-bg"},$.createElement(ee,{title:this.shareTitle()}),this.renderClientMsg(),r&&$.createElement("div",{className:"harticle-title"},r),this.renderHeaderUserCard(),this.renderRecommendComments(),this.renderContent(),this.renderReward(),this.renderReportError(),this.renderZKInfo(),this.renderLikeReport(),this.renderAd(),this.renderRelatedTopic(),this.renderRelatedArticle(),$.createElement("div",{id:"comment_area"}),this.renderStaffComments(),this.renderComments(),this.renderBottomBtn(),this.renderBottomBar(),this.renderWebInputPanel())}),i)),ye=$.createClass({displayName:"ImageItem",contextTypes:{auth_info:$.PropTypes.object,req:$.PropTypes.object},gotoContactDetail:function(e){e.stopPropagation(),de(this.props.uid,this.context)},render:function(){return $.createElement("img",{style:we.rewardCard,src:this.props.avatar,onClick:this.gotoContactDetail})}}),we={reward_list:{width:"300px",margin:"22px auto"},reward_list_li:{width:"220px",fontSize:0,listStyleType:"none",textAlign:"center"},rewardCard:{width:"30px",height:"30px",border:"0px solid #ffa34a",margin:"0 5px 5px"},subBtn:{position:"absolute",height:"100px",right:"0px",top:"0px"},subCount:{marginRight:"5px"},carouselIndicators:{marginLeft:"5px"}};ve.isHideHeader=function(e,t){return!!e.req.query.hide_btn},e.exports=ce(ve)}).call(t,r(280))},1406:function(e,t,r){"use strict";(function(t){var a=r(1249),n=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports=function(){(0,n.default)(t("html, body"),0,400)}}).call(t,r(280))},1407:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(t.renderQuotes=function(e){if(e&&0!=e.length){var t=document.getElementById("article_content");t.innerHTML=t.innerHTML.replace(new RegExp("&nbsp;","g")," ");var r=n(t,e);return a(t,r),r}},function(e,t){t.forEach(function(t){var r=e.innerHTML,a=r.indexOf(t.extras);if(a>-1){var n=r.substr(0,a),i='<span class="mm_article_underline" id=mm_article_underline_'+t.id+" cmt="+t.id+">"+t.extras+'\n<span class="mm_article_bage" id=mm_article_bage_'+t.id+" cmt="+t.id+">"+(t.merged.length+1)+"条观点</span>\n</span>",o=r.substr(a+t.extras.length,r.length);e.innerHTML=n+i+o;document.getElementById("mm_article_underline_"+t.id).offsetTop<30&&(document.getElementById("mm_article_bage_"+t.id).style.top="12px")}})}),n=function(e,t){var r=e.innerHTML,a=[];t.forEach(function(e){var t=r.indexOf(e.extras);t>-1&&(e.startOffset=t,e.endOffset=t+e.extras.length-1,e.merged=[],a.push(e))});var n=function(e,t){var r=e.slice(0,t),a=e[t],n=e.slice(t+1,e.length);return r.push(a),n.forEach(function(e){e.startOffset<=a.endOffset&&e.endOffset>=a.startOffset?a.merged.push(e):r.push(e)}),r};return function e(t,r){if(r>=t.length-1)return t;var a=n(t,r);return r=a.length==t.length?r+1:r,e(a,r)}(a,0)}},1408:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),c=r(1),l=a(c),d=r(90),p=a(d),u=r(78),f=a(u),m=r(17),h=a(m),_=r(77),g=a(_),b=r(999),v=a(b),y=function(e){function t(){var e,r,a,o;n(this,t);for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];return r=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.gotoContactDetail=h.default.debounce(function(e){(0,f.default)(e.main.u.encode_mmid||e.main.u.id,a.props.context)},1e3,!0),a.gotoDetail=h.default.debounce(function(e){(0,v.default)(e)},1e3,!0),a.pub=h.default.debounce(function(){g.default.dismiss(),window.MaiMai_Native.native_set_selected_text(a.props.extras)},1e3,!0),a.isOutApp=function(){return a.props.context.auth_info.u<0},a.renderItemCell=function(e){return l.default.createElement("div",{className:"border-bottom-e0 p-y",key:e.id,onClick:function(){return a.gotoDetail(e.id)}},l.default.createElement("div",{className:"media-left font-0 media-middle"},l.default.createElement("img",{className:"avatar-25 radius-50",src:e.main.u.avatar,onClick:function(t){t.stopPropagation(),a.gotoContactDetail(e)}})),l.default.createElement("div",{className:"media-body media-middle"},l.default.createElement("div",{className:"l-h-16 text-gray-7d lineClamp1"},l.default.createElement("span",{onClick:function(t){t.stopPropagation(),a.gotoContactDetail(e)}},e.main.u.name),e.main.u.compos&&l.default.createElement("span",{className:"text-gray-7d p-x-5"},"•"),1!=e.main.u.is_anony&&l.default.createElement("span",{className:1==e.main.u.judge?"add_v_img_hl":"",onClick:function(t){t.stopPropagation(),a.gotoContactDetail(e)}},e.main.u.compos))),l.default.createElement("div",{className:"media-right"},l.default.createElement("span",{className:"arrow_light media-middle"})),l.default.createElement("div",{className:"text-black-3 font-15 lineClamp2 m-t-10"},l.default.createElement(p.default,{ref:"content",text:e.main.richtext||e.main.text,support_dref:!0})))},o=r,i(a,o)}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.pop_width?this.props.pop_width:"auto";return l.default.createElement("div",{className:"border-radius-8 p-t-30 white-bg",style:{width:t}},l.default.createElement("div",{className:"clearfix p-x-20"},l.default.createElement("div",{className:"fl"},this.props.feeds.length,"条观点"),!!this.props.pub&&l.default.createElement("div",{className:"fr font-16 text-blue-33b0ff",onClick:this.props.pub},l.default.createElement("span",{className:"blue_edit_icon m-r-10"}),"发观点")),l.default.createElement("div",{className:"p-x-20",style:{maxHeight:317,overflowY:"scroll"}},l.default.createElement("div",null,this.props.feeds.map(function(t){return e.renderItemCell(t)}))))}}]),t}(l.default.Component);t.default=e.exports=y},1409:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=r(1),c=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){var e,r,i,o;a(this,t);for(var s=arguments.length,l=Array(s),d=0;d<s;d++)l[d]=arguments[d];return r=i=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.renderCell=function(e,t){var r=function(){var r=e.selected?0:1;t.select("selected").set(r),i.forceUpdate()};return c.default.createElement("div",{className:"p-relative border-bottom-e0 m-x-30",onClick:r,key:e.text},c.default.createElement("div",{className:"p-y-12 "+(e.selected?"text-gray-bc":"")},e.text),1==e.selected&&c.default.createElement("div",{className:"pop_cancel_select"},"撤销"))},o=r,n(i,o)}return i(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.level,a=t.cursor,n=t.goToPage,i=t.onSubmit,o=a.get(),s=0==r?o.r1:o.r2,l=a.select(0==r?"r1":"r2");return c.default.createElement("div",{className:"gray-bg-f9 font-15"},c.default.createElement("div",{className:"text-center p-relative m-t m-x-30"},r>0&&c.default.createElement("div",{className:"pop_back ",onClick:function(){return n(0)}},"< 返回"),c.default.createElement("div",{className:"p-y-10",style:{visibility:r>0?"hidden":"visible"}},"不喜欢")),s.map(function(t,r){return e.renderCell(t,l.select(r))}),0==r&&c.default.createElement("div",{className:"p-relative p-y-12 m-x-30",onClick:function(){return n(1)}},"举报文章问题 >"),c.default.createElement("div",{className:"p-y-10 white-bg border-top-e0 font-17 text-center",onClick:i},"完成"),c.default.createElement("div",{className:"pop_bottom_border"}))}}]),t}(c.default.Component);t.default=e.exports=l},1410:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),c=r(1),l=a(c),d=r(46),p=a(d),u=function(e){function t(){var e,r,a,o;n(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return r=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.goTopic=function(){var e=a.props.topic;(0,p.default)("/article/topic?id="+e.topicid+"&from=headline","话题","fetch")},o=r,i(a,o)}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.topic,t=!!e.author_card,r=t?e.author_card.avatar:"";return l.default.createElement("div",{className:"p-x-10 p-y-10 border-gray-e6 gray-bg-f9 m-x-20 m-b",onClick:this.goTopic},l.default.createElement("div",{className:"media-left media-middle"+(t?"":" p-r-0")},l.default.createElement("div",{className:"font-0",style:{minHeight:50}},t&&l.default.createElement("img",{className:" avatar-50",src:r}))),l.default.createElement("div",{className:"media-body media-middle"},l.default.createElement("div",null,l.default.createElement("div",{className:"font-15 l-h-1-6 lineClamp2"},e.tag_datas.title))))}}]),t}(l.default.Component);t.default=e.exports=u},1411:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,c,l=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(1),p=a(d),u=r(78),f=a(u),m=(r(984),r(17)),h=a(m),_=r(170),g=r(284),b=a(g),v=(r(115).launch_webview,r(15),r(75)),y=r(90),w=(r(999),r(46),r(1005)),x=(r(1006).tab_manager,r(1006).TabEnum,w.showInputPanel),C=(w.showInputPanelAtBottom,w.clearInput),k=(r(1004),r(1090)),E=k.showActionSheetDialog,N=k.selectActionSheetDialogCallback,P=k.check_actionsheet_support,T=(r(113),r(1014)),M=(c=s=function(e){function t(){var e,r,a,o;n(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return r=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.isOutApp=function(){return a.context.auth_info.u<0},a.onCommentBtnClicked=function(){if(!a.isOutApp()){a.current_replay_cmt_id=0;var e=a.props.feed.id+"_"+a.current_replay_cmt_id;x("评论",e,a.sendComment,"评论")}},a.onClick=h.default.debounce(function(e){if(e.stopPropagation(),!this.isOutApp()&&0!=this.props.parentCursor.select("show_bottom_panel").get()){this.props.parentCursor.select("show_bottom_panel").set(!1),this.current_replay_cmt_id=0;var t=this.props.feed.feed.id+"_"+this.current_replay_cmt_id;x("评论",t,this.sendComment,"评论 ")}},1e3,!0),a.onCommentClicked=h.default.debounce(function(e,t){e.stopPropagation();var r=this.context.auth_info;if(!this.isOutApp())if(t.u.id==r.u)1==confirm("是否要删除您发布的此条评论？")&&this.removeComment(t.id);else{if(0==this.props.parentCursor.select("show_bottom_panel").get())return;this.props.parentCursor.select("show_bottom_panel").set(!1),this.current_replay_cmt_id=t.id;var a=this.props.feed.feed.id+"_"+this.current_replay_cmt_id;x("评论",a,this.sendComment,"回复 "+t.u.name)}},1e3,!0),a.removeComment=function(e){(0,_.deleteComment)({context:a.context,feedCursor:a.props.cursor.select("feed"),cmt_id:e}).catch(v.toast_error_handler)},a.sendComment=function(e,t){if(!e)return void toast("评论内容不能为空");(0,_.sendComment)({context:a.context,input:e,at:t,feedCursor:a.props.cursor.select("feed"),mycard:a.props.cursor.select("mycard").get(),reply_to:a.current_replay_cmt_id}).then(function(e){var t=a.props.feed.feed.id+"_"+a.current_replay_cmt_id;C(t),a.current_replay_cmt_id=0,a.props.parentCursor.select("show_bottom_panel").set(!0)}).catch(v.toast_error_handler)},a.like=function(e){e.stopPropagation();var t=a.props,r=(t.feed,t.cursor),n=t.parentCursor,i=a.context,o=i.auth_info;i.fconf;if(r&&o.u>0)(0,_.toggleLike)({context:a.context,feedCursor:a.props.cursor.select("feed"),mycard:a.props.mycard,recommendCursorList:n.select("feed","join_article_feeds")}).catch(v.toast_error_handler);else if(o.u<0)return},a.gotoContactDetail=h.default.debounce(function(e){e.stopPropagation();var t=this.props.feed,r=t.feed.main.u.mmid||t.feed.main.u.id;if(82!=r){var a={};a.ftype=this.props.ftype,(0,f.default)(t.feed.main.u.encode_mmid||r,this.context,a)}},1e3,!0),a.gotoFeedDetail=h.default.debounce(function(e){e.stopPropagation();var t=this.props.feed;this.context.auth_info.u>0&&window.MaiMai_Native.native_feed_detail?window.MaiMai_Native.native_feed_detail(""+t.fid):location.href="/web/feed_detail?fid="+t.fid},1e3,!0),a.onPress=function(e){var t=this;if(!this.isOutApp()&&P()&&window.MaiMai_Native.native_copy_text&&window.MaiMai_Native.native_complain){e.stopPropagation();var r=this.props,a=r.feed,n=r.parentCursor,i=n.select("feed").get(),o=this.context.auth_info,s=["复制"];a.feed.main.u.id!=o.u&&i.main.u.id!=o.u||s.push("删除"),a.feed.main.u.id!=o.u&&s.push("举报"),E("",JSON.stringify(s),function(e){if("复制"===s[e]){var r=a.feed.main.spread_text||a.feed.main.rtext||a.feed.main.text;window.MaiMai_Native.native_copy_text(r)}else"删除"===s[e]?(0,_.deleteFeed)({context:t.context,feed:a.feed,toastText:"观点"}).then(function(e){var t=i.feeds.feeds.filter(function(e){return e.fid!=a.fid});n.select("feed","feeds","feeds").set(t),n.select("feed","feeds","total").apply(function(e){return e-1})}).catch(v.toast_error_handler):"举报"===s[e]&&window.MaiMai_Native.native_complain(3,a.fid,"")},!1)}},a.onImageClicked=function(e){var t=a.props.feed;MaiMai_Native.native_show_large_images&&MaiMai_Native.native_show_large_images(JSON.stringify(t.feed.main.pics),e)},a.renderForFuture=function(){return p.default.createElement("div",{className:"border-bottom-e0 m-x-20 p-y"},p.default.createElement("div",{className:"fl"},p.default.createElement("div",{className:"font-0"},p.default.createElement("img",{className:"avatar-25 radius-50",src:"/static/images/img.jpg"}))),p.default.createElement("div",{className:"o-hidden"},p.default.createElement("div",{className:"m-b-5"},p.default.createElement("div",{className:"fr media-top text-right"},p.default.createElement("div",{className:"l-h-16 p-r-20 red_heart_icon",style:{minWidth:60}},"56")),p.default.createElement("div",{className:"o-hidden"},p.default.createElement("div",{className:"l-h-16 mw-100 widthEllipsis text-orange-ff7200"},p.default.createElement("span",null,"郭明辉"),p.default.createElement("span",{className:"text-gray-7d p-x-5"},"•"),p.default.createElement("span",{className:"add_v_img_hl"},"脉脉测试工程师")))),p.default.createElement("div",{className:"text-black-3"},"10月13日，阿里云栖大会2015在杭州云栖小镇举行，阿里巴巴集团董事局主席马云昨天在深圳双创周见完李克强后，风尘仆仆连夜赶回杭州，本届云栖大会有4万人参加，较去年翻了一番，本次大会的主题为“飞天｀进化”。"),p.default.createElement("div",{className:"hl_detail_summary"},"不过随后，他逐渐进入了战斗模式，越说越铿锵有力，双臂配合着言辞似乎像更加强调他的力度，在他瘦小的身体里埋藏着洪荒之力。"),p.default.createElement("div",{className:"hl_discuss_detail"},p.default.createElement("div",{className:"clearfix"},p.default.createElement("div",{className:"fl gray_heart_icon_10 m-r-5",style:{marginTop:3}}),p.default.createElement("div",null,"好友",p.default.createElement("span",{className:"text-primary"},"黄华平"),"，",p.default.createElement("span",{className:"text-primary"},"王欢"),"等6个人赞过")),p.default.createElement("div",{className:"clearfix"},p.default.createElement("div",{className:"fl gray_share_icon_10 m-r-5",style:{marginTop:3}}),p.default.createElement("div",null,"好友",p.default.createElement("span",{className:"text-primary"},"黄华平"),"，",p.default.createElement("span",{className:"text-primary"},"王欢"),"已分享")),p.default.createElement("div",null,p.default.createElement("span",{className:"text-primary"},"陆逊"),"：说的很有道理,很对!!!!"))))},o=r,i(a,o)}return o(t,e),l(t,[{key:"componentDidMount",value:function(){window.onInputFinished=w.onInputFinished,this.current_replay_cmt_id=0;this.props.feed.feed.id,this.current_replay_cmt_id;window.selectActionSheetDialogCallback=N}},{key:"componentWillUnmount",value:function(){window.onInputFinished=null,window.selectActionSheetDialogCallback=null}},{key:"render",value:function(){var e=this,t=this.props,r=(t.cursor,t.feed),a=t.scroll_to_id,n=t.orange_name;return p.default.createElement("div",{className:"border-bottom-e0 m-x-20 p-y",onClick:this.props.canReplyComment?this.onClick.bind(this):this.gotoFeedDetail.bind(this),id:a==r.feed.id?"join_article_anchor":""},p.default.createElement("div",{className:"fl m-r-10"},p.default.createElement("div",{className:"font-0"},p.default.createElement("img",{className:"avatar-25 radius-50",src:r.feed.main.u.avatar,onClick:this.gotoContactDetail.bind(this)}))),p.default.createElement("div",{className:"o-hidden"},p.default.createElement("div",{className:"m-b-5"},p.default.createElement("div",{className:"fr media-top text-right",onClick:this.like},p.default.createElement("div",{className:"l-h-16 p-r-20 "+(r.feed.likes.me?"red_heart_icon":"gray_heart_icon"),style:{minWidth:60}},r.feed.likes.n>0&&r.feed.likes.n)),p.default.createElement("div",{className:"o-hidden"},p.default.createElement("div",{className:"l-h-16 mw-100 widthEllipsis "+(n?"text-orange-ff7200":"text-gray-7d")},p.default.createElement("span",null,r.feed.main.u.name),r.feed.main.u.compos&&1==r.feed.likes.me&&p.default.createElement("span",{className:"text-gray-7d p-x-5"},"•"),(r.feed.main.u.compos||r.feed.main.u.is_anony)&&p.default.createElement("span",{className:r.feed.main.u.judge?"add_v_img_hl":""},r.feed.likes.me?r.feed.main.u.compos:""),1==r.feed.main.u.mem_st&&T.renderMember(r.feed.main.u.mem_id)))),p.default.createElement(b.default,{component:"li",onPress:this.onPress.bind(this),pressDelay:800},p.default.createElement("div",{className:"text-black-3"},p.default.createElement(y,{ref:"content",text:r.feed.main.spread_text||r.feed.main.richtext||r.feed.main.text,support_dref:!0})),!!r.feed.main.quote&&p.default.createElement("div",{className:"hl_detail_summary"},r.feed.main.quote)),r.feed.main.pics&&p.default.createElement("div",{className:"m-t-10 o-hidden clearfix",style:{maxHeight:"95px"}},r.feed.main.pics.length>=1&&p.default.createElement("div",{className:"fl w-33 p-r-5 h-100"},p.default.createElement("div",{className:"border-a-1 h-100 o-hidden"},p.default.createElement("img",{className:"mw-100",src:r.feed.main.pics[0].turl,onClick:function(t){t.stopPropagation(),e.onImageClicked(0)}}))),r.feed.main.pics.length>=2&&p.default.createElement("div",{className:"fl w-33 p-r-5 h-100"},p.default.createElement("div",{className:"border-a-1 h-100 o-hidden"},p.default.createElement("img",{className:"mw-100",src:r.feed.main.pics[1].turl,onClick:function(t){t.stopPropagation(),e.onImageClicked(1)}}))),r.feed.main.pics.length>=3&&p.default.createElement("div",{className:"fl w-33 p-r-5 h-100"},p.default.createElement("div",{className:"border-a-1 h-100 o-hidden"},p.default.createElement("img",{className:"mw-100",src:r.feed.main.pics[2].turl,onClick:function(t){t.stopPropagation(),e.onImageClicked(2)}})))),(r.feed.like_str||r.feed.spread_str||r.feed.comments.lst&&r.feed.comments.lst.length>0)&&p.default.createElement("div",{className:"hl_discuss_detail",onClick:this.gotoFeedDetail.bind(this)},r.feed.like_str&&p.default.createElement("div",{className:"clearfix"},p.default.createElement("div",{className:"fl gray_heart_icon_10 m-r-5",style:{marginTop:3}}),p.default.createElement("div",null,p.default.createElement(y,{text:r.feed.like_str,support_dref:!0}))),r.feed.spread_str&&p.default.createElement("div",{className:"clearfix"},p.default.createElement("div",{className:"fl gray_share_icon_10 m-r-5",style:{marginTop:3}}),p.default.createElement("div",null,p.default.createElement(y,{text:r.feed.spread_str,support_dref:!0}))),r.feed.comments.lst&&r.feed.comments.lst.map(function(e,t){var r="<dref t=1 v="+e.u.id+" ev="+e.u.encode_mmid+" j="+e.u.judge+">"+e.u.name+"</dref>",a=e.ru?"回复<dref t=1 v="+e.ru.id+" ev="+e.ru.encode_mmid+" j="+e.ru.judge+">"+e.ru.name+"</dref>":"",n=r+a+": "+e.t;return p.default.createElement("p",null,p.default.createElement(y,{ref:"content",text:n,support_dref:!0}))}),1==r.feed.comments.more&&p.default.createElement("p",null,p.default.createElement("span",{className:"text-primary"},"查看全部"+r.feed.comments.n+"条评论...")))))}}]),t}(p.default.Component),s.contextTypes={auth_info:p.default.PropTypes.object,fconf:p.default.PropTypes.object,req:p.default.PropTypes.object,from:p.default.PropTypes.string},c);t.default=e.exports=M},1412:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,c,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},d=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),p=r(1),u=a(p),f=r(90),m=a(f),h=(r(984),r(77)),_=(a(h),r(168)),g=(a(_),r(1136)),b=(a(g),r(15)),v=a(b),y=r(75),w=a(y),x=r(17),C=r(78),k=(c=s=function(e){function t(){var e,r,a,o;n(this,t);for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];return r=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.gotoContactDetail=x.debounce(function(e){e.stopPropagation(),C(this.props.feed.encode_mmid||this.props.feed.uid,this.context)},1e3,!0),a.gotoFeedDetail=x.debounce(function(e){e.stopPropagation();var t=this.props.feed;this.context.auth_info.u>0&&window.MaiMai_Native.native_feed_detail?window.MaiMai_Native.native_feed_detail(t.fid):location.href="/web/feed_detail?fid="+t.fid},1e3,!0),a.onLikeClicked=function(){var e=a.context,t=e.auth_info,r=e.fconf,n=a.props,i=n.feedCursor,o=n.feed,s=n.staffListCursor,c=n.cmtListCursor;if(t&&t.access_token){var d=o.mylike,p=o.likes,u=1==d?0:1,f=u?o.likes+1:o.likes-1;i.select("mylike").set(u),i.select("likes").set(f);var m=r.online_url+"feed/v3/like?"+v.default.stringify(l({fid:o.fid,like:u},t));fetch(m,{credentials:"same-origin"}).then(w.default.parse_online_json).then(function(e){a.updateFeedCursorLike(s,o.fid,u,f),a.updateFeedCursorLike(c,o.fid,u,f)}).catch(function(e){i.select("mylike").set(d),i.select("likes").set(p)})}},a.updateFeedCursorLike=function(e,t,r,a){if(e&&e.get()){var n=x.findIndex(e.get(),function(e){return e.fid==t});if(n>-1){var i=e.select(n);i.select("feed","likes","me").set(r),i.select("feed","likes","n").set(a)}}},o=r,i(a,o)}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.feed,r=e.total,a="热门";t.reason.dalao||t.reason.zhuanjia?a="专家":t.reason.top1&&(a="首条");var n=t.company+t.position;return n&&(n="·"+n),u.default.createElement("div",{className:"p-l-20 recommend_box p-t-10"},u.default.createElement("div",{className:"hl_comment_type"},u.default.createElement("span",{className:"hl_comment_type_text"},a),">"),u.default.createElement("div",{className:(r>1?"lineClamp3":"lineClamp6")+" text-break-word font-16 text-blue-1c4781 l-h-1-6 m-b-5",onClick:this.gotoFeedDetail.bind(this)},u.default.createElement(m.default,{text:t.text,support_dref:!0})),u.default.createElement("div",{className:"clearfix"},u.default.createElement("div",{className:"fr p-r-15 l-h-1",onClick:this.onLikeClicked},u.default.createElement("span",{className:"p-r-20 small "+(t.mylike?"red_heart_icon":"black_heart_icon")},t.likes)),u.default.createElement("div",{className:"o-hidden"},u.default.createElement("div",{className:"lineClamp1 small text-black-3 m-t-5 l-h-1"},u.default.createElement("span",{onClick:this.gotoContactDetail.bind(this)},u.default.createElement("span",{className:t.reason.dalao||t.reason.zhuanjia?"hl_boss_icon media-middle m-r-5":""}),t.realname,u.default.createElement("span",{className:1==t.judge?"add_v_img_hl":""}))))))}}]),t}(u.default.Component),s.contextTypes={req:u.default.PropTypes.object,fconf:u.default.PropTypes.object,auth_info:u.default.PropTypes.object},c);t.default=e.exports=k},1413:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,c,l=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(1),p=a(d),u=r(78),f=a(u),m=r(17),h=a(m),_=(c=s=function(e){function t(){var e,r,a,o;n(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return r=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.gotoDetail=h.default.debounce(function(e,t){if(82==t)return void e.stopPropagation();(0,f.default)(t,this.context),e.stopPropagation()},1e3,!0),o=r,i(a,o)}return o(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.barrage,r=t.name;return t.compos&&r.length<11&&(r+="·"+t.compos),r.length>13&&(r=r.substring(0,12)+"..."),p.default.createElement("div",{className:"HLDanMu_wrap"},p.default.createElement("div",{ref:"barrage",className:"HLDanMu_row "+(0==this.props.index?"danmu_show":"danmu_fade")},p.default.createElement("div",{className:"HLDanMu_item HLDanMu_item_blue"},p.default.createElement("div",{className:"HLDanMu_avatar font-0 p-r-5",onClick:function(r){e.gotoDetail(r,t.uid)}},p.default.createElement("img",{className:"avatar-24 radius-50",src:t.avatar})),p.default.createElement("div",{className:"o-hidden"},r,"开始阅读"))))}}]),t}(p.default.Component),s.contextTypes={req:p.default.PropTypes.object,fconf:p.default.PropTypes.object,auth_info:p.default.PropTypes.object},c);t.default=e.exports=_},1414:function(e,t,r){var a=r(1415);"string"==typeof a&&(a=[[e.i,a,""]]);r(1417)(a,{});a.locals&&(e.exports=a.locals)},1415:function(e,t,r){t=e.exports=r(1416)(void 0),t.push([e.i,'html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.6}body{-webkit-touch-callout:none;font-family:-apple-system-font,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,sans-serif;background-color:#f3f3f3;line-height:inherit}body.rich_media_empty_extra{background-color:#fff}body.rich_media_empty_extra .rich_media_area_primary:before{display:none}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:16px}*{margin:0;padding:0}a{color:#607fa6;text-decoration:none}.rich_media_inner{font-size:16px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.rich_media_area_primary{position:relative;padding:20px 15px 15px;background-color:#fff}.rich_media_area_primary:before{content:" ";position:absolute;left:0;top:0;width:100%;height:1px;border-top:1px solid #e5e5e5;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(.5);transform:scaleY(.5);top:auto;bottom:-2px}.rich_media_area_primary .original_img_wrp{display:inline-block;font-size:0}.rich_media_area_primary .original_img_wrp .tips_global{display:block;margin-top:.5em;font-size:14px;text-align:right;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal}.rich_media_area_extra{padding:0 15px}.rich_media_title{margin-bottom:10px;line-height:1.4;font-weight:400;font-size:24px}.rich_media_meta_list{margin-bottom:18px;line-height:20px;font-size:0}.rich_media_meta_list em{font-style:normal}.rich_media_meta{margin-right:8px;margin-bottom:10px;font-size:16px}.meta_original_tag,.rich_media_meta{display:inline-block;vertical-align:middle}.meta_original_tag{padding:1px .5em;border:1px solid #9e9e9e;color:#8c8c8c;border-top-left-radius:20% 50%;-moz-border-radius-topleft:20% 50%;-webkit-border-top-left-radius:20% 50%;border-top-right-radius:20% 50%;-moz-border-radius-topright:20% 50%;-webkit-border-top-right-radius:20% 50%;border-bottom-left-radius:20% 50%;-moz-border-radius-bottomleft:20% 50%;-webkit-border-bottom-left-radius:20% 50%;border-bottom-right-radius:20% 50%;-moz-border-radius-bottomright:20% 50%;-webkit-border-bottom-right-radius:20% 50%;font-size:15px;line-height:1.1}.meta_enterprise_tag img{width:30px;height:30px!important;display:block;position:relative;margin-top:-3px;border:0}.rich_media_meta_text{color:#8c8c8c}span.rich_media_meta_nickname{display:none}.rich_media_thumb_wrp{margin-bottom:6px}.rich_media_thumb_wrp .original_img_wrp{display:block}.rich_media_thumb{display:block;width:100%}.rich_media_content{overflow:hidden;color:#3e3e3e}.rich_media_content *{max-width:100%!important;box-sizing:border-box!important;-webkit-box-sizing:border-box!important;word-wrap:break-word!important}.rich_media_content p{clear:both;min-height:1em;white-space:pre-wrap}.rich_media_content em{font-style:italic}.rich_media_content fieldset{min-width:0}.rich_media_content .list-paddingleft-2{padding-left:30px}.rich_media_content blockquote{margin:0;padding-left:10px;border-left:3px solid #dbdbdb}img{height:auto!important}@media(min-device-width:375px) and (max-device-width:667px) and (-webkit-min-device-pixel-ratio:2){.mm_appmsg .discuss_list,.mm_appmsg .rich_media_extra,.mm_appmsg .rich_media_inner,.mm_appmsg .rich_media_meta,.mm_appmsg .title_tips .tips{font-size:17px}.mm_appmsg .meta_original_tag{font-size:15px}}@media(min-device-width:414px) and (max-device-width:736px) and (-webkit-min-device-pixel-ratio:3){.mm_appmsg .rich_media_title{font-size:25px}}@media screen and (min-width:1024px){.rich_media{width:740px;margin-left:auto;margin-right:auto}.rich_media_inner{padding:20px}body{background-color:#fff}}@media screen and (min-width:1025px){body{font-family:Helvetica Neue,Helvetica,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif}.rich_media{position:relative}.rich_media_inner{background-color:#fff;padding-bottom:100px}}.radius_avatar{display:inline-block;background-color:#fff;padding:3px;overflow:hidden;vertical-align:middle}.radius_avatar,.radius_avatar img{border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%}.radius_avatar img{display:block;width:100%;height:100%;background-color:#eee}.cell{padding:.8em 0;display:block;position:relative}.cell_bd,.cell_ft,.cell_hd{display:table-cell;vertical-align:middle;word-wrap:break-word;word-break:break-all;white-space:nowrap}.cell_primary{width:2000px;white-space:normal}.flex_cell{padding:10px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.flex_cell_primary{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;box-flex:1;flex:1}.original_tool_area{display:block;padding:.75em 1em 0;-webkit-tap-highlight-color:rgba(0,0,0,0);color:#3e3e3e;border:1px solid #eaeaea;margin:20px 0}.original_tool_area .tips_global{position:relative;padding-bottom:.5em;font-size:15px}.original_tool_area .tips_global:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #dbdbdb;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.original_tool_area .radius_avatar{width:27px;height:27px;padding:0;margin-right:.5em}.original_tool_area .radius_avatar img{height:100%!important}.original_tool_area .flex_cell_bd{width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal}.original_tool_area .flex_cell_ft{font-size:14px;color:#8c8c8c;padding-left:1em;white-space:nowrap}.original_tool_area .icon_access:after{content:" ";display:inline-block;height:8px;width:8px;border-width:1px 1px 0 0;border-color:#cbcad0;border-style:solid;transform:matrix(.71,.71,-.71,.71,0,0);-ms-transform:matrix(.71,.71,-.71,.71,0,0);-webkit-transform:matrix(.71,.71,-.71,.71,0,0);position:relative;top:-2px;top:-1px}.weui_loading{width:20px;height:20px;display:inline-block;vertical-align:middle;-webkit-animation:weuiLoading 1s steps(12) infinite;animation:weuiLoading 1s steps(12) infinite;background:transparent url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iciIgd2lkdGg9JzEyMHB4JyBoZWlnaHQ9JzEyMHB4JyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj4KICAgIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSJub25lIiBjbGFzcz0iYmsiPjwvcmVjdD4KICAgIDxyZWN0IHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjRTlFOUU5JwogICAgICAgICAgdHJhbnNmb3JtPSdyb3RhdGUoMCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+CiAgICA8L3JlY3Q+CiAgICA8cmVjdCB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nIzk4OTY5NycKICAgICAgICAgIHRyYW5zZm9ybT0ncm90YXRlKDMwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4KICAgICAgICAgICAgICAgICByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyM5Qjk5OUEnCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSg2MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+CiAgICAgICAgICAgICAgICAgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz4KICAgIDwvcmVjdD4KICAgIDxyZWN0IHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjQTNBMUEyJwogICAgICAgICAgdHJhbnNmb3JtPSdyb3RhdGUoOTAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNBQkE5QUEnCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgxMjAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNCMkIyQjInCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgxNTAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNCQUI4QjknCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgxODAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNDMkMwQzEnCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgyMTAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNDQkNCQ0InCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgyNDAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNEMkQyRDInCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgyNzAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNEQURBREEnCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgzMDAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0PgogICAgPHJlY3QgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNFMkUyRTInCiAgICAgICAgICB0cmFuc2Zvcm09J3JvdGF0ZSgzMzAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPgogICAgPC9yZWN0Pgo8L3N2Zz4=) no-repeat;-webkit-background-size:100%;background-size:100%}@-webkit-keyframes weuiLoading{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes weuiLoading{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}.gif_img_wrp{display:inline-block;font-size:0;position:relative;font-weight:400;font-style:normal;text-indent:0;text-shadow:none 1px 1px rgba(0,0,0,.5)}.gif_img_wrp img{vertical-align:top}.gif_img_tips{background:rgba(0,0,0,.6)!important;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="#99000000",endcolorstr = "#99000000");border-top-left-radius:1.2em 50%;-moz-border-radius-topleft:1.2em 50%;-webkit-border-top-left-radius:1.2em 50%;border-top-right-radius:1.2em 50%;-moz-border-radius-topright:1.2em 50%;-webkit-border-top-right-radius:1.2em 50%;border-bottom-left-radius:1.2em 50%;-moz-border-radius-bottomleft:1.2em 50%;-webkit-border-bottom-left-radius:1.2em 50%;border-bottom-right-radius:1.2em 50%;-moz-border-radius-bottomright:1.2em 50%;-webkit-border-bottom-right-radius:1.2em 50%;line-height:2.3;font-size:11px;color:#fff;text-align:center;position:absolute;bottom:10px;left:10px;min-width:65px}.gif_img_tips.loading{min-width:75px}.gif_img_tips i{vertical-align:middle;margin:-.2em .73em 0 -2px}.gif_img_play_arrow{display:inline-block;width:0;height:0;border-width:8px;border-style:dashed;border-color:transparent;border-right-width:0;border-left-color:#fff;border-left-style:solid;border-width:5px 0 5px 8px}.gif_img_loading{width:14px;height:14px}i.gif_img_loading{margin-left:-4px}.rich_media_global_msg{position:fixed;top:0;left:0;right:0;padding:1em 35px 1em 15px;z-index:1;background-color:#c6e0f8;color:#8c8c8c;font-size:13px}.rich_media_global_msg .icon_closed{position:absolute;right:15px;top:50%;margin-top:-5px;line-height:300px;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);background:transparent url(/mmbizwap/zh_CN/htmledition/images/icon/appmsg/icon_appmsg_msg_closed_sprite.2x.png) no-repeat 0 0;width:11px;height:11px;vertical-align:middle;display:inline-block;-webkit-background-size:100% auto;background-size:100% auto}.rich_media_global_msg .icon_closed:active{background-position:0 -17px}.preview_appmsg .rich_media_title{margin-top:1.9em}@media screen and (min-width:1024px){.rich_media_global_msg{position:relative;margin:0 20px}.preview_appmsg .rich_media_title{margin-top:0}}',""])},1416:function(e,t){function r(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=a(n);return[r].concat(n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"})).concat([i]).join("\n")}return[r].join("\n")}function a(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var a=r(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},n=0;n<this.length;n++){var i=this[n][0];"number"==typeof i&&(a[i]=!0)}for(n=0;n<e.length;n++){var o=e[n];"number"==typeof o[0]&&a[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),t.push(o))}},t}},1417:function(e,t){function r(e,t){for(var r=0;r<e.length;r++){var a=e[r],n=u[a.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](a.parts[i]);for(;i<a.parts.length;i++)n.parts.push(c(a.parts[i],t))}else{for(var o=[],i=0;i<a.parts.length;i++)o.push(c(a.parts[i],t));u[a.id]={id:a.id,refs:1,parts:o}}}}function a(e){for(var t=[],r={},a=0;a<e.length;a++){var n=e[a],i=n[0],o=n[1],s=n[2],c=n[3],l={css:o,media:s,sourceMap:c};r[i]?r[i].parts.push(l):t.push(r[i]={id:i,parts:[l]})}return t}function n(e,t){var r=h(),a=b[b.length-1];if("top"===e.insertAt)a?a.nextSibling?r.insertBefore(t,a.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function o(e){var t=document.createElement("style");return t.type="text/css",n(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",n(e,t),t}function c(e,t){var r,a,n;if(t.singleton){var c=g++;r=_||(_=o(t)),a=l.bind(null,r,c,!1),n=l.bind(null,r,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=s(t),a=p.bind(null,r),n=function(){i(r),r.href&&URL.revokeObjectURL(r.href)}):(r=o(t),a=d.bind(null,r),n=function(){i(r)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else n()}}function l(e,t,r,a){var n=r?"":a.css;if(e.styleSheet)e.styleSheet.cssText=v(t,n);else{var i=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function d(e,t){var r=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function p(e,t){var r=t.css,a=t.sourceMap;a&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var n=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(n),i&&URL.revokeObjectURL(i)}var u={},f=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},m=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=f(function(){return document.head||document.getElementsByTagName("head")[0]}),_=null,g=0,b=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},void 0===t.singleton&&(t.singleton=m()),void 0===t.insertAt&&(t.insertAt="bottom");var n=a(e);return r(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var s=n[o],c=u[s.id];c.refs--,i.push(c)}if(e){r(a(e),t)}for(var o=0;o<i.length;o++){var c=i[o];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete u[c.id]}}}};var v=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},704:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),c=r(1),l=a(c),d=r(1392),p=a(d),u=r(1404),f=a(u),m=r(1405),h=a(m),_=function(e){function t(){return n(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return this.props.feed.id>6734e4?l.default.createElement("div",null,l.default.createElement(h.default,this.props)):33==this.props.feed.ftype?l.default.createElement("div",null,l.default.createElement(f.default,this.props)):l.default.createElement("div",null,l.default.createElement(p.default,this.props))}}]),t}(l.default.Component);t.default=e.exports=_}});