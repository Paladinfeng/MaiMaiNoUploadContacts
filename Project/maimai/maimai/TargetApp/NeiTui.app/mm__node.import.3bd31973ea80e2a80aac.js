webpackJsonp([142],{1158:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(1),s=n(l),d=a(46),u=n(d),f=a(168),p=n(f),m=a(116),_=n(m),h=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.openMyMember=function(e){e&&e.stopPropagation(),(0,u.default)("/uh_memlist?tpl=show&fr=batch_addfr","会员中心","fetch")},a.renderMember=function(){return 1==a.props.contact.mem_id||2==a.props.contact.mem_id?s.default.createElement("span",{className:"cursor-pointer  add_huiyuan_img1",onClick:a.openMyMember}):3==a.props.contact.mem_id||5==a.props.contact.mem_id||6==a.props.contact.mem_id?s.default.createElement("span",{className:"cursor-pointer  add_huiyuan_img2",onClick:a.openMyMember}):4==a.props.contact.mem_id?s.default.createElement("span",{className:"cursor-pointer  add_huiyuan_img3",onClick:a.openMyMember}):void 0},a.checkItem=function(e){var t=a.props.changeCheck,n=void 0;1==a.state.add_checked?(a.setState({add_checked:0}),n=0):(a.setState({add_checked:1}),n=1),t(e,n)},a.state={add_checked:1},a}return c(t,e),i(t,[{key:"render",value:function(){var e,t=this,a=this.props.contact;return e=_.default.getLine2(a),s.default.createElement("div",{className:"add_friend_item_border p-y p-l p-r-20",style:{opacity:1==this.state.add_checked?"1":"0.5"}},s.default.createElement("div",{className:"media-left media-middle"},s.default.createElement("div",{className:"avatar-50 radius-50 white-bg font-0"},s.default.createElement(p.default,{card:a,customClass:"avatar-50 radius-50",notBlockImg:!0}))),s.default.createElement("div",{className:"media-body media-middle "+(this.props.lastItem?"":"add_friends_border_bottom")},s.default.createElement("div",{className:"font-15"},a.name),s.default.createElement("div",{className:"font-13 m-t-2"},a.company,a.position,1==a.judge&&s.default.createElement("span",{className:"add_v_img"}),this.renderMember()),s.default.createElement("div",{className:"font-12 text-info m-t-2"},e)),s.default.createElement("div",{className:"media-right media-middle"},s.default.createElement("span",{onClick:function(){t.checkItem(a)},className:1==this.state.add_checked?"checked_77":"check_77"})))}}]),t}(s.default.Component);t.default=e.exports=h},802:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,s,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a(1),p=n(f),m=a(981),_=n(m),h=a(15),b=n(h),y=a(278),v=n(y),E=a(1158),w=n(E),g=a(75),k=a(76),N=n(k),M=a(274),j=n(M),O=a(17),P=n(O);t.default=e.exports=(s=l=function(e){function t(e){o(this,t);var a=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.batchAdd=P.default.debounce(function(){var e=a.context,t=e.auth_info,n=e.fconf,o=e.req,c=a.props,i=c.contacts,l=c.jtk,s=[].concat(r(a.state.us),r(a.state.us2));if(0==s.length)return void(0,N.default)("请选择您要添加的好友");if(i.length>0){var u=n.online_url+"contact/v4/init_multi?"+b.default.stringify(d({us:s.join(","),from:o.query.from,jtk:l},t));fetch(u,{credentials:"same-origin"}).then(g.parse_online_json).then(function(e){(0,N.default)("已发出好友申请，等待通过"),window.MaiMai_Native.close_native&&window.MaiMai_Native.close_native(null,!0),window.MaiMai_Native.show_notice_remind_batch&&window.MaiMai_Native.show_notice_remind_batch()}).catch(function(){return(0,N.default)("操作失败,请稍后重试")})}},1e3,!0),a.changeCheck=function(e,t){var n=e.id,r=e.add_type,o=a.state.us,c=a.state.us2;"us"==r?1==t?o.push(n):o.forEach(function(e,t){if(e==n)return void o.splice(t,1)}):1==t?c.push(n):c.forEach(function(e,t){if(e==n)return void c.splice(t,1)}),a.setState({us:o,us2:c})},a.state={us:a.props.us,us2:a.props.us2},a}return i(t,e),u(t,[{key:"componentDidMount",value:function(){j.default.isSupportTansShowTitleMenuBar(this.context)&&j.default.setMenuBarStyle({banner_trans:!0})}},{key:"render",value:function(){var e=this,t=(this.props.more,this.props.contacts||[]),a=(0,v.default)().add(7,"days").format("M月D日"),n=j.default.isSupportTansShowTitleMenuBar(this.context);return p.default.createElement("div",null,p.default.createElement("div",{className:"add_friends_banner1"},n&&p.default.createElement("div",{className:"trans_bar_placeholder"}),p.default.createElement("div",{className:"add_friends_header"},p.default.createElement("div",{className:"font-18"},"添加这30位好友，"),p.default.createElement("div",{className:"font-18"},"你的人脉网将超过",p.default.createElement("span",{className:"text-yellow-fff13d font-22"},"87%"),"的职场人"))),p.default.createElement(_.default,{title:"添加好友"}),p.default.createElement("div",{className:"add_friends_list",style:{paddingBottom:"101px",top:n?160:96}},p.default.createElement("div",null,t.map(function(t,a){return p.default.createElement(w.default,{key:"addFriendItem"+a,contact:t,changeCheck:e.changeCheck})}))),p.default.createElement("div",{className:"add_friends_btn_fixed btns_white_gradient_bg p-y"},p.default.createElement("div",{className:"add_friends_blue_btn m-b-5",onClick:this.batchAdd},"一键添加"),p.default.createElement("div",{className:"add_friends_tips"},p.default.createElement("span",{className:"add_friend_red_clock m-r-5"}),"仅限",a,"之前")))}}]),t}(p.default.Component),l.contextTypes={auth_info:p.default.PropTypes.object,req:p.default.PropTypes.object,fconf:p.default.PropTypes.object,env:p.default.PropTypes.object},s)}});