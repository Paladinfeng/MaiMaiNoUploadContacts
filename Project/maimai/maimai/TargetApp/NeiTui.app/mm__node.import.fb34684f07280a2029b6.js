webpackJsonp([5,268],{1015:function(e,t,r){"use strict";e.exports.tab_type={circle:0,detail:1,comment:2,job:3,staff:4,gossip:5}},1022:function(e,t,r){"use strict";var a=r(1),n=function(e){return e&&e.__esModule?e:{default:e}}(a),o=r(984);e.exports=n.default.createClass({displayName:"exports",render:function(){return n.default.createElement("div",{style:s.section},n.default.createElement("div",{style:(0,o.padding)("10px","0px","10px","0px")},n.default.createElement("span",{style:{fontSize:"15px"}},this.props.title)),this.props.children,this.props.foot&&n.default.createElement("div",{className:"text-primary cursor-pointer",style:s.foot,onClick:this.props.onFootClicked},this.props.foot))}});var s={section:{background:"#ffffff",marginTop:"8px",padding:"5px 35px 15px 35px"},foot:{padding:"30px 20px 10px 20px",textAlign:"center"}}},1061:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),u=r(1),f=r(17),d=r(15),p=(r(985)("app"),r(273),r(991)),m=(r(46),r(75)),h=r(114),g=r(1001),y=r(41),_=r(281);t.default=e.exports=(i=s=function(e){function t(){var e,r,o,s;a(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return r=o=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.vote=f.debounce(function(e){e.stopPropagation();var t,r=o.props,a=r.comment,n=r.listCursor,s=r.index,i=r.singleCursor,c=o.context,u=c.auth_info;c.fconf;if(u&&u.u&&!(u.u<0)){t=i?i.select("votes"):n.select("comments",s,"comment","votes");var f=o.my_vote_index(),p="/sdk/company/vote_comment?"+d.stringify(l({_id:a._id,vote:f>=0?"0":"1"},u)),g=fetch(p,{credentials:"same-origin"}).then(m.parse_online_json).then(function(e){f>=0?t.splice([f,1]):t.unshift(parseInt(u.u))}).catch(m.toast_error_handler);h("请求中",g)}},1e3,!0),o.deleteClicked=f.debounce(function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var t=o.context,r=t.auth_info;t.fconf;if(confirm("确定要删除点评吗？")){var a="/sdk/company/delete_comment?"+d.stringify(l({_id:o.props.comment._id},r)),n=fetch(a,{credentials:"same-origin"}).then(m.parse_online_json).then(function(e){o.props.listCursor&&o.props.listCursor.splice([o.props.index,1])}).catch(m.toast_error_handler);h("删除点评中",n)}},1e3,!0),s=r,n(o,s)}return o(t,e),c(t,[{key:"shouldComponentUpdate",value:function(e,t){return y.shouldComponentUpdate.apply(this,[e,t])}},{key:"my_vote_index",value:function(){var e=this.props.comment,t=this.context.auth_info;return e.votes.indexOf(parseInt(t.u))}},{key:"render",value:function(){var e=this.props,t=e.comment,r=e.user,a=e.cname,n=this.context.auth_info,o="有用 ";if(t.votes.length>0&&(o="有用 "+t.votes.length),this.my_vote_index()>=0)var s="/static/images/ding2.png";else var s="/static/images/ding1.png";var i=_(r)+"是"+a+"的"+t.relation;return 1==t.isAnonymous&&(i="TA是"+a+"的"+t.relation,r={},r.name=t.anonymousName,r.avatar=t.anonymousAvatar,r.judge=0,r.line1="",r.id=6),u.createElement("li",{className:this.props.className?this.props.className:"list-group-item",onClick:this.props.onClick},u.createElement(p,{user:r,article_line:i}),u.createElement("div",{style:b.body},u.createElement("div",{className:"media-heading m-l-lg text-content"},g(t.content)),u.createElement("div",{style:{height:"4px"}}),u.createElement("span",{className:"pull-right text-light small",onClick:this.vote},u.createElement("img",{style:b.like,src:s}),o),u.createElement("span",{className:"pull-right text-primary small",onClick:this.deleteClicked,style:b.delete},t.uid==n.u&&"删除")))}}]),t}(u.Component),s.contextTypes={auth_info:u.PropTypes.object,fconf:u.PropTypes.object},i);var b={heading:{marginTop:-10,marginLeft:-20,marginRight:-20},body:{marginTop:5,marginBottom:20},like:{marginTop:-5,width:15,height:15},delete:{marginRight:20},short_text:{WebkitLineClamp:"2",height:42,fontSize:14,lineHeight:"20px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical"}}},1087:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,l,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),f=r(1),d=a(f),p=r(15),m=a(p);t.default=e.exports=(l=i=function(e){function t(){var e,r,a,s;n(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return r=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.goExpDetial=function(e){var t=a.context,r=t.fconf,n=t.auth_info,o=a.props,s=o.tag,i=o.cinfo,l=o.id,u=r.online_url+"feed/v3/std_pingback?"+m.default.stringify(c({base:0,tag:s,cname:i.name,fid:l},n));fetch(u,{credentials:"same-origin"}),window.MaiMai_Native.native_feed_detail?window.MaiMai_Native.native_feed_detail(l):window.location.href=r.web_url+"web/feed_detail?fid="+l},s=r,o(a,s)}return s(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.text,r=e.title,a=e.headClass,n=e.uinfo;return d.default.createElement("li",{className:"company_exp media "+(a||""),onClick:this.goExpDetial},n&&d.default.createElement("div",{className:"media-left media-top"},d.default.createElement("img",{src:n.avatar,className:"avatar-37 b-r-c"})),d.default.createElement("div",{className:"media-body p-t-8"},n&&d.default.createElement("span",{className:"font-15"}," ",n.name," "),d.default.createElement("span",{className:"exp_sign "+(n?"":"exp_sign_icon")}),d.default.createElement("h3",{className:"font-15 m-t-10 m-b-3 font-bold"},r),d.default.createElement("p",{className:"exp_text"},t)))}}]),t}(d.default.Component),i.contextTypes={auth_info:d.default.PropTypes.object,fconf:d.default.PropTypes.object},l)},1140:function(e,t,r){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(984),o=r(1),s=r(17),i=r(15),l=(r(985)("app"),r(991),r(90)),c=r(75),u=(r(114),r(41)),f=r(115).launch_webview,d=r(46),p=r(116),m=r(168),h=r(999);e.exports=o.createClass({displayName:"exports",mixins:[u],contextTypes:{auth_info:o.PropTypes.object,fconf:o.PropTypes.object},showFeedDetail:s.debounce(function(){var e=this.props.feed,t=this.context,r=t.auth_info,n=t.fconf;if(r.u>0){var o=e.feed.text;if(o&&o.length>250&&"operation_topic"!=e.feed.data_str?d("/article/detail?fid="+e.fid,"查看全文","fetch"):h(e.fid),e.feed.search_qs&&e.feed.search_order){var s=n.online_url+"search/web/s_pb?"+i.stringify(a({srcu:r.u,type:"feed",targetid:e.feed.id,order:e.feed.search_order,qs:e.feed.search_qs},r));fetch(s)}}else f()},1e3,!0),like:function(e){var t=this;e.stopPropagation();var r=this.props,n=r.feed,o=r.cursor,s=this.context,l=s.auth_info,u=s.fconf;if(o&&l.u>0)try{var d=n.me_like;this.props.cursor.select("me_like").set(1==d?0:1);var p=n.feed.likes;this.props.cursor.select("feed","likes").set((1==d?-1:1)+p);var m=u.online_url+"feed/v3/like?"+i.stringify(a({fid:this.props.feed.fid,like:1==d?0:1},l));fetch(m).then(c.parse_online_json).catch(c.toast_error_handler).catch(function(e){t.props.cursor.select("me_like").set(d),t.props.cursor.select("feed","likes").set(p)})}catch(e){alert(e)}else l.u<0&&f()},gotoDetail:function(e){this.refs.avatar.gotoDetail(e)},renderZKP:function(){var e=this.props.feed,t="";if(e.feed.likes>0&&(t=" "+e.feed.likes+" 赞"),0==t.length)return null;var r=" ";return e.feed.pics.length>1&&(r=e.feed.pics.length+" "),o.createElement("p",null,o.createElement("span",{className:"pull-right",style:{marginTop:"5px"}},e.feed.pics.length>0&&o.createElement("span",{className:"text-muted small"},r,o.createElement("img",{src:"/static/images/album-circle.png",style:g.album})),o.createElement("span",{className:"text-muted small"},t)))},render:function(){var e,t=this.props.feed,r=p.getCareer(t.contact);e=r?" | "+r:"";var a=t.feed.summary||t.feed.richtext||t.feed.text;return t.feed.pics&&(t.feed.pics.length>1&&!a?a="发布了"+t.feed.pics.length+"张图片":1!=t.feed.pics.length||a||(a="发布了图片")),o.createElement("li",{className:"list-group-item clearfix",onClick:this.showFeedDetail},o.createElement("div",{className:"media"},o.createElement("div",{className:"media-left"},o.createElement(m,{ref:"avatar",customClass:"topic-avatar",card:t.contact,image_id:this.props.image_id})),o.createElement("div",{className:"media-body"},o.createElement("div",{className:"lineClamp1",style:{marginBottom:"6px"}},o.createElement("span",{className:"text-primary",onClick:this.gotoDetail},t.contact.name),o.createElement("span",{className:"text-info small"},e),1==t.contact.judge&&o.createElement("span",{className:"add_v_img"})),o.createElement("p",{style:(0,n.textOverflow)(4)},o.createElement(l,{text:a,support_dref:!0})),t.d1_spread_cards&&t.d1_spread_cards.length>0&&s.first(t.d1_spread_cards,3).map(function(e){return o.createElement(m,{customClass:"friend_img",card:e})}),t.d1_spread_count>1&&o.createElement("span",{className:"friend_tips text-muted small"},t.d1_spread_count,"个好友分享了这条动态"),1==t.d1_spread_count&&o.createElement("span",{className:"friend_tips text-muted small"},t.d1_spread_cards[0].name,"分享了这条动态 "),this.renderZKP())))}});var g={heading:{marginTop:-10,marginLeft:-20,marginRight:-20},like:{marginBottom:3},avatarSize:{width:42,height:42,WebkitBorderRadius:"2px"},img:{width:"14px",height:"14px",marginBottom:"4px"},album:{width:"18px",height:"18px",marginTop:"-1px"},tableCell:{display:"table-cell"},zanBox:{display:"table-cell",textAlign:"center",verticalAlign:"middle",width:50}}},1157:function(e,t,r){"use strict";var a=r(15),n=function(e){return e&&e.__esModule?e:{default:e}}(a);e.exports.storeRegfrInfo=function(){if(window.location.search){var e=n.default.parse(window.location.search);sessionStorage.regfr=e.regfr,sessionStorage.abtype=e.abtype||""}}},1167:function(e,t,r){"use strict";var a=r(117),n=r(1),o=(r(50),r(17),r(117),r(166)),s=r(90),i=r(993),l=r(41),c=(r(15),n.createClass({displayName:"GossipItem",mixins:[l],gotoDetail:function(){window.MaiMai_Native.native_gossip_detail(""+this.props.target)},render:function(){return n.createElement("li",{className:"list-group-item",onClick:this.gotoDetail},n.createElement("div",{className:"media-left"},n.createElement("img",{className:"media-object",style:(0,a.square)(36),src:this.props.avatar})),n.createElement("div",{className:"media-body"},n.createElement("div",null,n.createElement(s,{text:this.props.title,support_dref:!0})),n.createElement("div",{className:"text-muted small",style:(0,a.maxLines)(2)},n.createElement(i,{text:this.props.content,support_dref:!0})),this.props.children))}}));e.exports=o(c)},1255:function(e,t,r){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(984),o=r(1),s=r(17),i=r(15),l=(r(985)("app"),r(991)),c=r(90),u=r(75),f=(r(114),r(41)),d=r(115).launch_webview,p=r(46),m=r(999);e.exports=o.createClass({displayName:"exports",mixins:[f],contextTypes:{auth_info:o.PropTypes.object,fconf:o.PropTypes.object},showFeedDetail:s.debounce(function(){var e=this.props.feed;this.context.auth_info.u>0?(e.main.rtext||e.main.text).length>250?p("/article/detail?fid="+e.id,"查看全文","fetch"):m(e.id):d()},1e3,!0),like:function(e){var t=this;e.stopPropagation();var r=this.props,n=r.feed,o=(r.cursor,this.context),s=o.auth_info,l=o.fconf,c=n.likes.me;this.props.cursor.select("likes","me").set(1==c?0:1);var f=n.likes.n;this.props.cursor.select("likes","n").set((1==c?-1:1)+n.likes.n);var d=l.online_url+"feed/v3/like?"+i.stringify(a({fid:this.props.feed.id,like:1==c?0:1},s));fetch(d).then(u.parse_online_json).catch(u.toast_error_handler).catch(function(e){t.props.cursor.select("likes","me").set(c),t.props.cursor.select("likes","n").set(f)})},render:function(){var e=this.props.feed,t=a({article_line:e.time_relation},e.main.u);return o.createElement("li",{className:"list-group-item",onClick:this.showFeedDetail},o.createElement("p",{className:"list-group-item-heading"},o.createElement(l,{user:t,article_line:e.time_relation})),o.createElement("div",{className:"list-group-item-text clearfix"},o.createElement("div",{className:"clearfix"},o.createElement("div",{className:"media-heading m-l-lg"},o.createElement("p",{style:(0,n.textOverflow)(3)},o.createElement(c,{text:this.props.text||e.summary||e.main.rtext||e.main.text,support_dref:!0})),this.props.children),this.props.cursor&&o.createElement("div",{className:"pull-right",style:(0,n.padding)("4px","40px","4px","0px"),onClick:this.like},o.createElement("img",{src:e.likes.me?"/static/images/ding2.png":"/static/images/ding1.png",style:h.img}),o.createElement("span",{className:"text-light small"},e.likes.n>0&&e.likes.n)))))}});var h={heading:{marginTop:-10,marginLeft:-20,marginRight:-20},like:{marginBottom:3},img:{width:"14px",height:"14px",marginRight:"5px",marginBottom:"4px"}}},1256:function(e,t,r){"use strict";var a=r(50),n=function(e){return e&&e.__esModule?e:{default:e}}(a),o=r(1),s=o.createClass({displayName:"BusinessInfo",more:function(){(0,n.default)(this.props.cinfo.more_url)},render:function(){return o.createElement("div",{className:"m-t"},o.createElement("div",{className:"p-l-20 p-r clearfix"},o.createElement("div",{className:"halfWidth fl p-r-5"},o.createElement("div",{className:"company_business_item m-r-5"},o.createElement("div",{className:"small text-muted m-b-5"},"法定代表人"),o.createElement("div",null,this.props.cinfo.corporation))),o.createElement("div",{className:"halfWidth fl p-r-5"},o.createElement("div",{className:"company_business_item m-r-5"},o.createElement("div",{className:"small text-muted m-b-5"},"注册资本"),o.createElement("div",null,this.props.cinfo.regist_capi)))),o.createElement("div",{className:"p-x-20 m-t-10"},o.createElement("div",{className:"clearfix p-y-5"},o.createElement("div",{className:"fl w-33"},"公司名称:"),o.createElement("div",{className:"o-hidden"},o.createElement("div",{className:"mw-100 widthEllipsis"},this.props.cinfo.came))),o.createElement("div",{className:"clearfix p-y-5"},o.createElement("div",{className:"fl w-33"},"公司类型:"),o.createElement("div",{className:"o-hidden"},o.createElement("div",{className:"mw-100 widthEllipsis"},this.props.cinfo.comp_type))),o.createElement("div",{className:"clearfix p-y-5"},o.createElement("div",{className:"fl w-33"},"统一信用代码:"),o.createElement("div",{className:"o-hidden"},o.createElement("div",{className:"mw-100 widthEllipsis"},this.props.cinfo.uscc))),o.createElement("div",{className:"clearfix p-y-5"},o.createElement("div",{className:"fl w-33"},"成立日期:"),o.createElement("div",{className:"o-hidden"},this.props.cinfo.build_date))),this.props.from_pc?null:o.createElement("div",{className:"p-x-20 text-muted m-t"},"数据来源：",this.props.cinfo.more_src," ",o.createElement("span",{className:"text-blue-33B0FF",onClick:this.more},"查看更多数据")))}});e.exports=s},1257:function(e,t,r){"use strict";(function(e){function a(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function n(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,r){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return s(this,e,t,r)}function s(e,t,r,a){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,r,a):"string"==typeof t?u(e,t,r):p(e,t)}function i(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,r,a){return i(t),t<=0?n(e,t):void 0!==r?"string"==typeof a?n(e,t).fill(r,a):n(e,t).fill(r):n(e,t)}function c(e,t){if(i(t),e=n(e,t<0?0:0|m(t)),!o.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function u(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!o.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var a=0|g(t,r);e=n(e,a);var s=e.write(t,r);return s!==a&&(e=e.slice(0,s)),e}function f(e,t){var r=t.length<0?0:0|m(t.length);e=n(e,r);for(var a=0;a<r;a+=1)e[a]=255&t[a];return e}function d(e,t,r,a){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(a||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,r):new Uint8Array(t,r,a),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=f(e,t),e}function p(e,t){if(o.isBuffer(t)){var r=0|m(t.length);return e=n(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?n(e,0):f(e,t);if("Buffer"===t.type&&$(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(a)return H(e).length;t=(""+t).toLowerCase(),a=!0}}function y(e,t,r){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return O(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return j(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,r);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function _(e,t,r){var a=e[t];e[t]=e[r],e[r]=a}function b(e,t,r,a,n){if(0===e.length)return-1;if("string"==typeof r?(a=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=o.from(t,a)),o.isBuffer(t))return 0===t.length?-1:v(e,t,r,a,n);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,a,n);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,a,n){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,i=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;s=2,i/=2,l/=2,r/=2}var c;if(n){var u=-1;for(c=r;c<i;c++)if(o(e,c)===o(t,-1===u?0:c-u)){if(-1===u&&(u=c),c-u+1===l)return u*s}else-1!==u&&(c-=c-u),u=-1}else for(r+l>i&&(r=i-l),c=r;c>=0;c--){for(var f=!0,d=0;d<l;d++)if(o(e,c+d)!==o(t,d)){f=!1;break}if(f)return c}return-1}function E(e,t,r,a){r=Number(r)||0;var n=e.length-r;a?(a=Number(a))>n&&(a=n):a=n;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");a>o/2&&(a=o/2);for(var s=0;s<a;++s){var i=parseInt(t.substr(2*s,2),16);if(isNaN(i))return s;e[r+s]=i}return s}function x(e,t,r,a){return Z(H(t,e.length-r),e,r,a)}function w(e,t,r,a){return Z(G(t),e,r,a)}function N(e,t,r,a){return w(e,t,r,a)}function C(e,t,r,a){return Z(W(t),e,r,a)}function k(e,t,r,a){return Z(J(t,e.length-r),e,r,a)}function j(e,t,r){return 0===t&&r===e.length?V.fromByteArray(e):V.fromByteArray(e.slice(t,r))}function P(e,t,r){r=Math.min(e.length,r);for(var a=[],n=t;n<r;){var o=e[n],s=null,i=o>239?4:o>223?3:o>191?2:1;if(n+i<=r){var l,c,u,f;switch(i){case 1:o<128&&(s=o);break;case 2:l=e[n+1],128==(192&l)&&(f=(31&o)<<6|63&l)>127&&(s=f);break;case 3:l=e[n+1],c=e[n+2],128==(192&l)&&128==(192&c)&&(f=(15&o)<<12|(63&l)<<6|63&c)>2047&&(f<55296||f>57343)&&(s=f);break;case 4:l=e[n+1],c=e[n+2],u=e[n+3],128==(192&l)&&128==(192&c)&&128==(192&u)&&(f=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&u)>65535&&f<1114112&&(s=f)}}null===s?(s=65533,i=1):s>65535&&(s-=65536,a.push(s>>>10&1023|55296),s=56320|1023&s),a.push(s),n+=i}return T(a)}function T(e){var t=e.length;if(t<=Q)return String.fromCharCode.apply(String,e);for(var r="",a=0;a<t;)r+=String.fromCharCode.apply(String,e.slice(a,a+=Q));return r}function O(e,t,r){var a="";r=Math.min(e.length,r);for(var n=t;n<r;++n)a+=String.fromCharCode(127&e[n]);return a}function M(e,t,r){var a="";r=Math.min(e.length,r);for(var n=t;n<r;++n)a+=String.fromCharCode(e[n]);return a}function R(e,t,r){var a=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>a)&&(r=a);for(var n="",o=t;o<r;++o)n+=z(e[o]);return n}function A(e,t,r){for(var a=e.slice(t,r),n="",o=0;o<a.length;o+=2)n+=String.fromCharCode(a[o]+256*a[o+1]);return n}function S(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,a,n,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<s)throw new RangeError('"value" argument is out of bounds');if(r+a>e.length)throw new RangeError("Index out of range")}function I(e,t,r,a){t<0&&(t=65535+t+1);for(var n=0,o=Math.min(e.length-r,2);n<o;++n)e[r+n]=(t&255<<8*(a?n:1-n))>>>8*(a?n:1-n)}function D(e,t,r,a){t<0&&(t=4294967295+t+1);for(var n=0,o=Math.min(e.length-r,4);n<o;++n)e[r+n]=t>>>8*(a?n:3-n)&255}function U(e,t,r,a,n,o){if(r+a>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,a,n){return n||U(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(e,t,r,a,23,4),r+4}function F(e,t,r,a,n){return n||U(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(e,t,r,a,52,8),r+8}function q(e){if(e=Y(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function Y(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var r,a=e.length,n=null,o=[],s=0;s<a;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===a){(t-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function G(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function J(e,t){for(var r,a,n,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),a=r>>8,n=r%256,o.push(n),o.push(a);return o}function W(e){return V.toByteArray(q(e))}function Z(e,t,r,a){for(var n=0;n<a&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}function K(e){return e!==e}var V=r(1522),X=r(1523),$=r(1524);t.Buffer=o,t.SlowBuffer=h,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,r){return s(null,e,t,r)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,r){return l(null,e,t,r)},o.allocUnsafe=function(e){return c(null,e)},o.allocUnsafeSlow=function(e){return c(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,a=t.length,n=0,s=Math.min(r,a);n<s;++n)if(e[n]!==t[n]){r=e[n],a=t[n];break}return r<a?-1:a<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!$(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var a=o.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var s=e[r];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(a,n),n+=s.length}return a},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):y.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,r,a,n){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===a&&(a=0),void 0===n&&(n=this.length),t<0||r>e.length||a<0||n>this.length)throw new RangeError("out of range index");if(a>=n&&t>=r)return 0;if(a>=n)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,a>>>=0,n>>>=0,this===e)return 0;for(var s=n-a,i=r-t,l=Math.min(s,i),c=this.slice(a,n),u=e.slice(t,r),f=0;f<l;++f)if(c[f]!==u[f]){s=c[f],i=u[f];break}return s<i?-1:i<s?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},o.prototype.write=function(e,t,r,a){if(void 0===t)a="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)a=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===a&&(a="utf8")):(a=r,r=void 0)}var n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var o=!1;;)switch(a){case"hex":return E(this,e,t,r);case"utf8":case"utf-8":return x(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return N(this,e,t,r);case"base64":return C(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;o.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var a;if(o.TYPED_ARRAY_SUPPORT)a=this.subarray(e,t),a.__proto__=o.prototype;else{var n=t-e;a=new o(n,void 0);for(var s=0;s<n;++s)a[s]=this[s+e]}return a},o.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||S(e,t,this.length);for(var a=this[e],n=1,o=0;++o<t&&(n*=256);)a+=this[e+o]*n;return a},o.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||S(e,t,this.length);for(var a=this[e+--t],n=1;t>0&&(n*=256);)a+=this[e+--t]*n;return a},o.prototype.readUInt8=function(e,t){return t||S(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||S(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||S(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||S(e,t,this.length);for(var a=this[e],n=1,o=0;++o<t&&(n*=256);)a+=this[e+o]*n;return n*=128,a>=n&&(a-=Math.pow(2,8*t)),a},o.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||S(e,t,this.length);for(var a=t,n=1,o=this[e+--a];a>0&&(n*=256);)o+=this[e+--a]*n;return n*=128,o>=n&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||S(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){t||S(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||S(e,4,this.length),X.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||S(e,4,this.length),X.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||S(e,8,this.length),X.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||S(e,8,this.length),X.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,a){if(e=+e,t|=0,r|=0,!a){B(this,e,t,r,Math.pow(2,8*r)-1,0)}var n=1,o=0;for(this[t]=255&e;++o<r&&(n*=256);)this[t+o]=e/n&255;return t+r},o.prototype.writeUIntBE=function(e,t,r,a){if(e=+e,t|=0,r|=0,!a){B(this,e,t,r,Math.pow(2,8*r)-1,0)}var n=r-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+r},o.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,r,a){if(e=+e,t|=0,!a){var n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}var o=0,s=1,i=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===i&&0!==this[t+o-1]&&(i=1),this[t+o]=(e/s>>0)-i&255;return t+r},o.prototype.writeIntBE=function(e,t,r,a){if(e=+e,t|=0,!a){var n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}var o=r-1,s=1,i=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===i&&0!==this[t+o+1]&&(i=1),this[t+o]=(e/s>>0)-i&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,a){if(r||(r=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<r&&(a=r),a===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-r&&(a=e.length-t+r);var n,s=a-r;if(this===e&&r<t&&t<a)for(n=s-1;n>=0;--n)e[n+t]=this[n+r];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(n=0;n<s;++n)e[n+t]=this[n+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),t);return s},o.prototype.fill=function(e,t,r,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,r=this.length):"string"==typeof r&&(a=r,r=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!o.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var i=o.isBuffer(e)?e:H(new o(e,a).toString()),l=i.length;for(s=0;s<r-t;++s)this[s+t]=i[s%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,r(28))},1260:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),o=a(n),s=r(1008),i=a(s),l=r(984),c=r(1034),u=r(999),f=r(168),d=r(116),p=r(90);e.exports=o.default.createClass({displayName:"exports",contextTypes:{fconf:o.default.PropTypes.object,auth_info:o.default.PropTypes.object,req:o.default.PropTypes.object},click:function(){this.context.auth_info.u>0?u(this.props.feed.feed.id):(0,c.launch_pc_pop_register)({frm:"feedcompitem"})},renderZKP:function(){var e=this.props.feed.feed,t="";return e.likes&&e.likes>0&&(t=e.likes+" 赞"),e.spread_uids&&e.spread_uids.length>0&&(t+=" "+e.spread_uids.length+" 分享"),0==t.length?null:o.default.createElement("p",null,o.default.createElement("span",{className:"pull-right text-muted small"},t))},render:function(){var e,t=this.props.feed,r=d.getCareer(t.contact);e=r?" | "+r:"";var a=t.feed.summary||t.feed.richtext||t.feed.text;return o.default.createElement("li",{className:this.props.className?this.props.className:"list-group-item clearfix",onClick:this.click},o.default.createElement("div",{className:"media"},o.default.createElement("div",{className:"media-left"},o.default.createElement(f,{ref:"avatar",customClass:"topic-avatar",card:t.contact,image_id:this.props.image_id})),o.default.createElement("div",{className:"media-body"},o.default.createElement("div",{className:"lineClamp1",style:{marginBottom:"6px"}},o.default.createElement("span",{className:"text-primary",onClick:this.gotoDetail},t.contact.name),o.default.createElement("span",{className:"text-info small"},e),1==t.contact.judge&&o.default.createElement("span",{className:"add_v_img"})),o.default.createElement("p",{style:(0,l.textOverflow)(4)},o.default.createElement(p,{text:a,support_dref:!0})),o.default.createElement(i.default,{images:t.feed.pics}),this.renderZKP())))}})},1508:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=r(1),s=a(o),i=r(981),l=a(i),c=r(165),u=(a(c),r(1509)),f=a(u),d=r(1512),p=a(d),m=r(1518),h=a(m),g=r(984),y=r(15),_=a(y),b=r(46),v=a(b),E=(r(992),r(113)),x=r(983),w=a(x),N=r(272),C=(a(N),r(1519)),k=a(C),j=r(1520),P=(a(j),r(1521)),T=a(P),O=r(690),M=a(O),R=r(988),A=a(R),S=r(1135),B=a(S),I=r(170),D=a(I),U=r(114),L=(a(U),r(75)),F=(a(L),r(76)),q=(a(F),r(17)),Y=(a(q),r(50)),z=a(Y),H=r(1528),G=a(H),J=(r(982),r(1015).tab_type);e.exports=s.default.createClass({displayName:"exports",contextTypes:{auth_info:s.default.PropTypes.object,fconf:s.default.PropTypes.object,env:s.default.PropTypes.object},getInitialState:function(){return{company_tab:0}},componentDidMount:function(){(0,E.bindBroadcast)("pub_feed",this.onFeedSended),(0,E.bindBroadcast)("pub_gossip",this.onGossipSended),(0,E.bindBroadcast)("native_publish_success",this.native_publish_success),window.getImageDataString=k.default,document.body.style.background="#F9FAFC"},componentWillUnmount:function(){(0,E.unbindBroadcast)("pub_feed"),(0,E.unbindBroadcast)("pub_gossip"),(0,E.unbindBroadcast)("native_publish_success"),window.get_image_data_string=null},onCircleClicked:function(){var e=this.context,t=e.fconf,r=e.auth_info,a=this.props.cursor.select("is_pc").get()?"pc":"app",o=this.props.cursor.select("data","cinfo","webcid").get(),s=t.online_url+"other/v5/pingback_company?"+_.default.stringify(n({webcid:o,platform:a,tab:"circle"},r));fetch(s,{credentials:"same-origin"}),this.props.cursor.select("tab_index").set(J.circle)},onDetailClicked:function(){var e=this.context,t=e.fconf,r=e.auth_info,a=this.props.cursor.select("is_pc").get()?"pc":"app",o=this.props.cursor.select("data","cinfo","webcid").get(),s=t.online_url+"other/v5/pingback_company?"+_.default.stringify(n({webcid:o,platform:a,tab:"detail"},r));fetch(s,{credentials:"same-origin"}),this.setState({company_tab:this.state.company_tab+1}),this.props.cursor.select("tab_index").set(J.detail)},onCommentClicked:function(){var e=this.context,t=e.fconf,r=e.auth_info,a=this.props.cursor.select("is_pc").get()?"pc":"app",o=this.props.cursor.select("data","cinfo","webcid").get(),s=t.online_url+"other/v5/pingback_company?"+_.default.stringify(n({webcid:o,platform:a,tab:"comment"},r));fetch(s,{credentials:"same-origin"}),this.props.cursor.select("tab_index").set(J.comment)},onStaffClicked:function(){this.props.cursor.select("tab_index").set(J.staff)},onJobClicked:function(){var e=this.context,t=e.fconf,r=e.auth_info,a=this.props.cursor.select("is_pc").get()?"pc":"app",o=this.props.cursor.select("data","cinfo","webcid").get(),s=t.online_url+"other/v5/pingback_company?"+_.default.stringify(n({webcid:o,platform:a,tab:"job"},r));fetch(s,{credentials:"same-origin"}),this.props.cursor.select("tab_index").set(J.job)},onGossipClicked:function(){var e=this.context,t=e.fconf,r=e.auth_info,a=this.props.cursor.select("is_pc").get()?"pc":"app",o=this.props.cursor.select("data","cinfo","webcid").get(),s=t.online_url+"other/v5/pingback_company?"+_.default.stringify(n({webcid:o,platform:a,tab:"gossip"},r));fetch(s,{credentials:"same-origin"}),this.props.cursor.select("tab_index").set(J.gossip)},onFeedSended:function(e){this.props.cursor.select("data","company_feed","feeds").unshift(e)},onGossipSended:function(e){this.props.cursor.select("data","company_feed","feeds").unshift(e)},gotoContactMore:function(){(0,v.default)("/company/contacts?"+_.default.stringify({cid:this.props.cursor.select("data","cinfo","cid").get(),company:this.props.cursor.select("data","cinfo","name").get(),forcomp:"1",highlight:"false",title:"所有员工"}),"所有员工","fetch")},sendFeed:function(){if(window.MaiMai_Native.native_publish)return void(0,B.default)(JSON.stringify({target:"company_add_feed",title:"发动态",text_holder:"说上几句吧...",max_limit:250,extra_infomation:JSON.stringify({hash:D.default.generateFeedHash(),circle:this.props.cursor.select("data","cinfo","cid").get()})}));(0,z.default)("/article/pub_feed_pc?"+_.default.stringify({circle:this.props.cursor.select("data","cinfo","cid").get(),section:"实名发布到"+this.props.cursor.select("data","cinfo","fullname").get()+"公司圈"}),"发状态")},sendGossip:function(){if(window.MaiMai_Native.native_publish)return void(0,B.default)(JSON.stringify({ui_tag:4,target:"company_add_gossip",title:"发八卦",text_holder:"说上几句吧...",max_limit:150,extra_infomation:JSON.stringify({hash:D.default.generateFeedHash(),circle:this.props.cursor.select("data","cinfo","cid").get()})}));(0,z.default)("/article/pub_feed_pc?"+_.default.stringify({circle:this.props.cursor.select("data","cinfo","cid").get(),section:"匿名发布到"+this.props.cursor.select("data","cinfo","fullname").get()+"公司圈",send_gossip:!0}),"发八卦")},native_publish_success:function(e){var t=JSON.parse(e).publish_return_data;"company_add_feed"==t.target?this.onFeedSended(t.feed):"company_add_gossip"==t.target&&this.onGossipSended(t.gossip)},renderHeaderOld:function(){var e=this.props.cursor.select("data","cinfo","url").get(),t=this.props.cursor.select("data","cinfo","qcc_url").get(),r=this.props.cursor.select("data","cinfo","brief").get(),a=null;return a=r<4?s.default.createElement("div",{className:"small"},s.default.createElement("span",null,this.props.cursor.select("data","cinfo","domain").get()),s.default.createElement("span",null," | "),s.default.createElement("span",null,this.props.cursor.select("data","cinfo","city").get()),s.default.createElement("span",null," | "),s.default.createElement("span",null,this.props.cursor.select("data","cinfo","people").get()),s.default.createElement("span",null," | "),s.default.createElement("span",null,this.props.cursor.select("data","cinfo","stage").get())):s.default.createElement("div",null,s.default.createElement("span",{className:"text-light small"},"暂无地点、员工数、融资情况等公开数据")),s.default.createElement("div",{style:W.comHead},s.default.createElement("div",{style:W.comHeadBg}),s.default.createElement("div",{className:"media list-group-item-heading list-group-item-text",style:W.comHeader},s.default.createElement("div",{className:"media-left"},s.default.createElement("img",{src:this.props.cursor.select("data","cinfo","clogo").get(),style:(0,g.size)(55)})),s.default.createElement("div",{className:"media-body p-b"},s.default.createElement("div",{style:(0,g.margin)("0px","0px","20px","0px")},s.default.createElement("span",{style:W.text,onClick:this.gotoDetail},this.props.cursor.select("data","cinfo","fullname").get())),a,s.default.createElement("div",{style:W.fontHead},s.default.createElement("a",{href:e},e)),t&&s.default.createElement("div",{style:W.fontHead},s.default.createElement("a",{href:t},"查询工商信息@企查查")))))},renderHeader:function(){var e=this.props.cursor.select("data","cinfo","url").get(),t=(this.props.cursor.select("data","cinfo","qcc_url").get(),this.props.cursor.select("data","cinfo","brief").get()),r=null;return r=t<4?s.default.createElement("div",{className:"small text-muted p-y-5 p-x-10"},s.default.createElement("span",null,this.props.cursor.select("data","cinfo","domain").get()),s.default.createElement("span",null," · "),s.default.createElement("span",null,this.props.cursor.select("data","cinfo","city").get()),s.default.createElement("span",null," · "),s.default.createElement("span",null,this.props.cursor.select("data","cinfo","people").get()),s.default.createElement("span",null," · "),s.default.createElement("span",null,this.props.cursor.select("data","cinfo","stage").get())):s.default.createElement("div",{className:"small text-muted p-y-5"},s.default.createElement("span",null,"暂无地点、员工数、融资情况等公开数据")),s.default.createElement("div",null,s.default.createElement("div",{className:"company_header_logo"},s.default.createElement("img",{src:this.props.cursor.select("data","cinfo","clogo").get()})),s.default.createElement("div",{className:"font-16 m-t-10 m-b-5"},this.props.cursor.select("data","cinfo","fullname").get()),r,s.default.createElement("div",null,s.default.createElement("a",{className:"small text-blue-009eff",href:e},e)),!1,s.default.createElement("div",{className:"d-i-b p-t-10 p-b-25"},this.props.cursor.select("data","cuser_list").get()&&this.props.cursor.select("data","cuser_list").get().map(function(e,t){return s.default.createElement("div",{className:"d-i-b font-0 m-r-5 media-middle"},s.default.createElement("img",{className:"radius-50 avatar-25",src:e.avatar}))}),s.default.createElement("div",{onClick:this.gotoContactMore,className:"d-i-b font-13 text-blue-009eff media-middle p-l-5"},"查看全部",this.props.cursor.select("data","cuser_cnt_str_v2").get(),"员工")))},renderAppMessage:function(){var e={},t="【"+this.props.cursor.select("data","cinfo","fullname").get()+"】"+this.props.cursor.select("data","cinfo","share_intro").get(),r="在招职位"+this.props.cursor.select("data","cjob_cnt_str").get()+",实名动态"+this.props.cursor.select("data","cfeed_cnt_str").get()+",匿名交流"+this.props.cursor.select("data","cgossip_cnt_str").get(),a=this.props.cursor.select("data","cinfo","clogo").get();return e.share_info={title:t,name:"公司",desc:r,icon_callback:'getImageDataString("'+a+'")',icon_type:"1"},s.default.createElement(w.default,{msg_to_app:e})},renderOutappCompany:function(){var e="1cQmIXmji"==this.props.cursor.select("data","cinfo","webcid").get();return s.default.createElement("div",null,s.default.createElement(l.default,{title:this.props.cursor.select("data","cinfo","fullname").get()}),s.default.createElement("div",{className:"p-relative p-t-30"},s.default.createElement("div",{className:"company_header_bg"}),e&&s.default.createElement("div",{className:"top_jobs_icon",onClick:this.goTopJobs},s.default.createElement("img",{src:"/static/images/top_jobs_icon.png"})),this.props.cursor.select("data","cinfo","webcid").get(),s.default.createElement("div",{className:"company_header_info"},this.renderHeader(),s.default.createElement("table",{className:"w-100 mw-100 text-center font-16 border-top-e0",style:this.props.cursor.select("tab_index").get()==J.circle&&in_circle?W.table:W.table1},s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("td",{onClick:this.onDetailClicked},s.default.createElement("div",{className:"d-i-b p-y-10 "+(this.props.cursor.select("tab_index").get()!=J.detail?"text-muted border-bottom-f-2":"text-blue-009eff border-bottom-blue-2 font-bold")},"概览")),s.default.createElement("td",{onClick:this.onJobClicked},s.default.createElement("div",{className:"d-i-b p-y-10 "+(this.props.cursor.select("tab_index").get()!=J.job?"text-muted border-bottom-f-2":"text-blue-009eff border-bottom-blue-2 font-bold")},"招聘")),s.default.createElement("td",{onClick:this.onGossipClicked},s.default.createElement("div",{className:"d-i-b p-y-10 "+(this.props.cursor.select("tab_index").get()!=J.gossip?"text-muted border-bottom-f-2":"text-blue-009eff border-bottom-blue-2 font-bold")},"八卦"))))))),s.default.createElement("div",{style:this.props.cursor.select("tab_index").get()==J.detail?W.show:W.hide},s.default.createElement(p.default,{cursor:this.props.cursor,is_staff:this.props.is_staff})),s.default.createElement("div",{style:this.props.cursor.select("tab_index").get()==J.job?W.show:W.hide},s.default.createElement(T.default,{cursor:this.props.cursor})),s.default.createElement("div",{style:this.props.cursor.select("tab_index").get()==J.gossip?W.show:W.hide},s.default.createElement(M.default,{cursor:this.props.cursor,outapp:!0,more:0,gossips:this.props.cursor.select("data","cgossips").get(),cid:this.props.cursor.select("data","cinfo","webcid").get(),from:"company_home"})))},goTopJobs:function(){window.location.href="/activity/top_jobs_nwd?tjtype=all"},render:function(){var e=this.props.cursor.select("in_circle").get(),t=this.props.cursor.select("comments").get(),r=this.props.cursor.select("gossips").get(),a=this.props,n=a.inapp,o=a.from_api,i=a.data,c=i.data_exp&&i.data_exp.new,u="HFaL3fOu"==this.props.cursor.select("data","cinfo","webcid").get();return!n&&o?this.renderOutappCompany():s.default.createElement("div",null,s.default.createElement(l.default,{title:this.props.cursor.select("data","cinfo","fullname").get()}),this.renderAppMessage(),s.default.createElement("div",{className:"p-relative p-t-30"},s.default.createElement("div",{className:"company_header_bg"}),u&&s.default.createElement("div",{className:"top_jobs_icon",onClick:this.goTopJobs},s.default.createElement("img",{src:"/static/images/top_jobs_icon.png"})),s.default.createElement("div",{className:"company_header_info"},this.renderHeader(),s.default.createElement("table",{className:"w-100 mw-100 text-center font-16 border-top-e0",style:this.props.cursor.select("tab_index").get()==J.circle&&e?W.table:W.table1},s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("td",{onClick:this.onCircleClicked},s.default.createElement("div",{className:"d-i-b p-y-10 "+(this.props.cursor.select("tab_index").get()!=J.circle?"text-muted border-bottom-f-2":"text-blue-009eff border-bottom-blue-2 font-bold")},e?"公司圈":"动态")),s.default.createElement("td",{onClick:this.onGossipClicked},s.default.createElement("div",{className:"d-i-b p-y-10 "+(this.props.cursor.select("tab_index").get()!=J.gossip?"text-muted border-bottom-f-2":"text-blue-009eff border-bottom-blue-2 font-bold")},"匿名")),t&&s.default.createElement("td",{onClick:this.onCommentClicked,className:c?"new_icon":""},s.default.createElement("div",{className:"d-i-b p-y-10 "+(this.props.cursor.select("tab_index").get()!=J.comment?"text-muted border-bottom-f-2":"text-blue-009eff border-bottom-blue-2 font-bold")},"点评")),s.default.createElement("td",{onClick:this.onJobClicked},s.default.createElement("div",{className:"d-i-b p-y-10 "+(this.props.cursor.select("tab_index").get()!=J.job?"text-muted border-bottom-f-2":"text-blue-009eff border-bottom-blue-2 font-bold")},"招聘")),s.default.createElement("td",{onClick:this.onDetailClicked},s.default.createElement("div",{className:"d-i-b p-y-10 "+(this.props.cursor.select("tab_index").get()!=J.detail?"text-muted border-bottom-f-2":"text-blue-009eff border-bottom-blue-2 font-bold")},"概览"))))))),s.default.createElement("div",{style:this.props.cursor.select("tab_index").get()==J.circle?W.show:W.hide},s.default.createElement(f.default,{cursor:this.props.cursor}),e&&s.default.createElement(A.default,{btns:["实名发动态","匿名发八卦"],actions:[this.sendFeed,this.sendGossip]})),r&&s.default.createElement("div",{style:this.props.cursor.select("tab_index").get()==J.gossip?W.show:W.hide},this.props.cursor.select("tab_index").get()==J.gossip&&s.default.createElement(G.default,{cursor:this.props.cursor})),t&&s.default.createElement("div",{style:this.props.cursor.select("tab_index").get()==J.comment?W.show:W.hide},s.default.createElement(h.default,{cursor:this.props.cursor})),s.default.createElement("div",{style:this.props.cursor.select("tab_index").get()==J.job?W.show:W.hide},s.default.createElement(T.default,{cursor:this.props.cursor})),s.default.createElement("div",{key:"company"+this.state.company_tab,style:this.props.cursor.select("tab_index").get()==J.detail?W.show:W.hide},s.default.createElement(p.default,{cursor:this.props.cursor,is_staff:this.props.is_staff})))}});var W={table:{marginBottom:-1,tableLayout:"fixed"},table1:{marginBottom:0,tableLayout:"fixed"},show:{display:"block",marginTop:0},hide:{display:"none"},comHeadBg:{width:"100%",height:"88px",position:"absolute",left:0,top:0,zIndex:2,background:"url(/static/images/peng_images/c4.jpg) no-repeat center center",backgroundSize:"cover"},comHead:{background:"#ffffff",paddingTop:"58px",position:"relative",width:"100%"},comHeader:{zIndex:3,position:"relative",marginLeft:"10px"},text:{color:"#ffffff",fontSize:"17px"},buttonWrapper:{zIndex:4,width:"100%",position:"absolute"},fontHead:{fontSize:"12px"}}},1509:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=r(1),s=a(o),i=r(981),l=(a(i),r(165)),c=a(l),u=r(1510),f=a(u),d=r(75),p=a(d),m=r(15),h=a(m),g=(r(984),r(1511)),y=a(g),_=r(1140),b=a(_),v=(r(1167),r(982)),E=r(1015).tab_type;r(271),r(986),r(1019),r(46);e.exports=s.default.createClass({displayName:"exports",contextTypes:{auth_info:s.default.PropTypes.object,fconf:s.default.PropTypes.object},loadMore:function(){var e=this,t=this.context,r=t.fconf,a=t.auth_info,o=-1==a.u?6:a.u,s=r.online_url+"feed/v3/circle_feeds?"+h.default.stringify(n({cid:this.props.cursor.select("data","cinfo","cid").get(),count:10,before_id:this.props.cursor.select("data","company_feed","min_id").get()},a,{uid:o}));fetch(s,{credentials:"same-origin"}).then(p.default.parse_online_json).then(function(t){e.props.cursor.select("data","company_feed","feeds").concat(t.feeds),e.props.cursor.select("data","company_feed","min_id").set(t.min_id),e.props.cursor.select("data","company_feed","remain").set(t.remain)}).catch(function(e){p.default.toast_error_handler(e)})},loadMoreFeeds:function(){try{var e=this.context.auth_info,t=this.props.cursor,r=this.props.cursor.select("feeds").get(),a="/sdk/company/more_feeds?"+h.default.stringify(n({cname:this.props.cursor.select("data","cinfo","fullname").get(),skip:r.length},e));fetch(a,{credentials:"same-origin"}).then(p.default.parse_online_json).then(function(e){e.feeds&&e.feeds.length>0?t.select("feeds").concat(e.feeds):t.select("end").set(1)}).catch(alert)}catch(e){alert(e)}},renderCircleGossip:function(e){return s.default.createElement(f.default,{key:e.id,avatar:e.avatar,gossip:e})},render:function(){var e=this,t=this.context.auth_info,r=this.props.cursor.select("data","company_feed").get(),a=this.props.cursor.select("in_circle").get(),n=this.props.cursor.select("inapp").get(),o=this.props.cursor.select("tab_index").get()==E.circle;return s.default.createElement("div",null,!a&&s.default.createElement(v,{hasMore:o&&!this.props.cursor.select("end").get()&&t.u>0,loadMore:this.loadMoreFeeds,loader:s.default.createElement(c.default,{ref:"loader",reload:this.loadMoreFeeds,cursor:this.props.cursor.select("loading_status")})},s.default.createElement("div",{className:"panel panel-default"},s.default.createElement("div",{className:"panel-heading"},s.default.createElement("span",{className:"text-muted"},"近期热门动态")),s.default.createElement("ul",{className:"list-group"},this.props.cursor.select("feeds").get().map(function(e){if(1===e.status)return s.default.createElement(b.default,{key:e.feed.uid,feed:e})})))),a&&s.default.createElement(v,{loadMore:this.loadMore,hasMore:n&&o&&r.remain>0,loader:s.default.createElement(c.default,{ref:"loader",reload:this.loadMore,cursor:this.props.cursor.select("loading_status")})},s.default.createElement("ul",{className:"list-group"},r.feeds.map(function(t,r){return t.author?e.renderCircleGossip(t):s.default.createElement(y.default,{key:t.id,cursor:e.props.cursor.select("data","company_feed","feeds",r)})}))))}})},1510:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),o=a(n),s=r(1167),i=a(s),l=r(1008),c=a(l);e.exports=o.default.createClass({displayName:"exports",renderZKP:function(){var e=this.props.gossip,t="";return e.likes>0&&(t=e.likes+" 赞"),e.spreads>0&&(t+=" "+e.spreads+" 分享"),e.cmts>0&&(t+=" "+e.cmts+" 评论"),0==t.length?null:o.default.createElement("p",null,o.default.createElement("span",{className:"pull-right text-muted small"},t))},render:function(){var e=this.props.gossip,t=e.summary||e.text;return o.default.createElement(i.default,{key:e.id,avatar:this.props.avatar,title:e.author,content:t,type:"gossip",target:e.id},o.default.createElement(c.default,{images:e.pics}),this.renderZKP())}})},1511:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),o=a(n),s=r(1255),i=a(s),l=r(1008),c=a(l);e.exports=o.default.createClass({displayName:"exports",renderZKP:function(){var e=this.props.cursor.get(),t="";return e.likes.n>0&&(t=e.likes.n+" 赞"),e.spreads.n>0&&(t+=" "+e.spreads.n+" 分享"),e.comments.n>0&&(t+=" "+e.comments.n+" 评论"),0==t.length?null:o.default.createElement("p",null,o.default.createElement("span",{className:"pull-right text-muted small"},t))},render:function(){var e=this.props.cursor.get();return o.default.createElement(i.default,{feed:e},o.default.createElement(c.default,{images:e.main.pics}),this.renderZKP())}})},1512:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,s=r(1),i=a(s),l=r(47),c=a(l),u=r(1255),f=a(u),d=r(270),p=a(d),m=r(50),h=a(m),g=r(988),y=a(g),_=r(117),b=(a(_),r(1513)),v=(a(b),r(1256)),E=a(v),x=r(1514),w=a(x),N=r(1515),C=a(N),k=r(15),j=a(k),P=r(115),T=(r(993),r(271)),O=r(1516),M=r(1517),R=r(986),A=r(273),S=(r(982),r(1167)),B=r(1019),I=r(46);e.exports=i.default.createClass((o={displayName:"exports",contextTypes:{auth_info:i.default.PropTypes.object,fconf:i.default.PropTypes.object,env:i.default.PropTypes.object},getInitialState:function(){return{lineClamp:0,expandTxt:null,expandProduct:!1,expandProgress:!1}},openOutApp:function(){(0,P.launch_webview)()},gotoContactMore:function(){I("/company/contacts?"+j.default.stringify({cid:this.props.cursor.select("data","cinfo","cid").get(),company:this.props.cursor.select("data","cinfo","name").get(),forcomp:"1",highlight:"false",title:"所有员工"}),"所有员工","fetch")},gotoFeedMore:function(){I("/company/feeds?"+j.default.stringify({query:this.props.cursor.select("data","cinfo","name").get(),highlight:"false"}),"相关动态","fetch")},gotoJobMore:function(){if(!this.props.cursor.select("inapp").get())return void this.openOutApp();I("/company/jobs?"+j.default.stringify({cid:this.props.cursor.select("data","cinfo","cid").get(),cname:this.props.cursor.select("data","cinfo","encodename").get(),highlight:"false"}),"相关职位","fetch")},gotoGossipMore:function(){I("/company/gossips?"+j.default.stringify({query:this.props.cursor.select("data","cinfo","name").get(),highlight:"false"}),"相关八卦","fetch")},gotoContactDetail:function(e,t){I(t.contact.share_url,"人脉详情"),e.stopPropagation()},renderContact:function(){var e=this,t=this.props.cursor.select("inapp").get(),r=this.props.cursor.select("from_api").get(),a=this.props.cursor.select("data","cusers").get();return!t&&r?i.default.createElement(T,{title:"公司员工"},a.map(function(t){return i.default.createElement(p.default,{key:t.contact.mmid,contact:t.contact,onClick:function(r){e.gotoContactDetail(r,t)}})}),i.default.createElement(R,{onClick:this.openOutApp,title:"注册脉脉查看更多员工"})):i.default.createElement(T,{title:"公司员工"},i.default.createElement(p.default,{contact:this.props.cursor.select("data","cuser").get()}),i.default.createElement(R,{onClick:t?this.gotoContactMore:this.openOutApp,title:(t?"":"去脉脉")+"查看所有员工 ("+this.props.cursor.select("data","cuser_cnt_str").get()+")"}))},renderJob:function(){if(!this.props.cursor.select("inapp").get())return i.default.createElement(T,{title:"在职招聘"},i.default.createElement(R,{onClick:this.openOutApp,title:"去脉脉查看更多"}));var e=this.props.cursor.select("data","cjob").get();return e&&e.id?i.default.createElement(T,{title:"在职招聘"},i.default.createElement(A,{key:e.id,avatar:e.clogo,line1:e.position,line2:e.area_1,line3:e.area_2,clickHandler:h.default.bind(this,e.share_url,"职位详情")}),i.default.createElement(R,{onClick:this.gotoJobMore,title:"查看所有在职招聘 ("+this.props.cursor.select("data","cjob_cnt_str").get()+")"})):i.default.createElement(T,{title:"在职招聘"},i.default.createElement("div",{className:"panel-body"},"暂无相关招聘!"))},renderFeed:function(){if(!this.props.cursor.select("inapp").get())return i.default.createElement(T,{title:"相关实名动态"},i.default.createElement(R,{onClick:this.openOutApp,title:"去脉脉查看更多"}));var e=this.props.cursor.select("data","cfeed").get();return e&&e.main?i.default.createElement(T,{title:"相关实名动态"},i.default.createElement(f.default,{feed:e}),i.default.createElement(R,{onClick:this.gotoFeedMore,title:"查看所有相关实名动态 ("+this.props.cursor.select("data","cfeed_cnt_str").get()+")"})):i.default.createElement(T,{title:"相关实名动态"},i.default.createElement("div",{className:"panel-body"},"暂无相关实名动态!"))},renderGossip:function(){if(!this.props.cursor.select("inapp").get())return i.default.createElement(T,{title:"相关匿名交流"},i.default.createElement(R,{onClick:this.openOutApp,title:"去脉脉查看更多"}));var e=this.props.cursor.select("data","cgossip").get();if(!e||!this.props.cursor.select("data","cgossip_cnt").get())return i.default.createElement(T,{title:"相关匿名交流"},i.default.createElement("div",{className:"panel-body"},"暂无相关匿名交流!"));var t=e.summary||e.text;return i.default.createElement(T,{title:"相关匿名交流"},i.default.createElement(S,{key:e.id,avatar:this.props.cursor.select("data","cuser","gossip_avatar").get(),title:e.author,content:t,target:e.id}),i.default.createElement(R,{onClick:this.gotoGossipMore,title:"查看所有相关匿名 ("+this.props.cursor.select("data","cgossip_cnt_str").get()+")"}))},gotoChat:function(){MaiMai_Native.native_chat&&MaiMai_Native.native_chat("","6")},onCompanyMoreClicked:function(){this.setState({lineClamp:this.state.lineClamp>0?0:4,expandTxt:this.state.lineClamp>0?"收起详情":"展开详情"})},checkTxtExpand:function(){var e=(c.default.findDOMNode(this.refs.wrapper),c.default.findDOMNode(this.refs.txt));e&&e.clientHeight>80&&this.setState({lineClamp:4,expandTxt:"展开详情"})},componentDidMount:function(){var e=this.props.cursor.select("data","cinfo","intro").get();e&&e.length>0&&this.checkTxtExpand()},renderCompany:function(){var e=this.props.cursor.select("inapp").get();if(this.props.cursor.select("data","cuser_cnt").get()<5&&1!=this.props.cursor.select("data","force_show_description").get())return i.default.createElement("div",{className:"company_box_shadow p-t p-b-25 p-x-20 m-y-10"},i.default.createElement("div",{className:"m-b-10 font-bold"},"公司介绍"),i.default.createElement("div",{className:"text-muted"},"该公司在脉脉员工数不足5人，暂不提供公司介绍。"));var t=this.props.cursor.select("data","cinfo","intro").get(),r=null;if(t&&t.length>0){var a=null,n=this.props.cursor.select("hu_dong").get();n&&(a=i.default.createElement("span",{className:"text-blue-009eff fl cursor-pointer",onClick:function(){window.open(n.url)}},"来自互动百科"));var o=[];B(t+"\n").lines().map(function(e){o.push(e),o.push(i.default.createElement("br",null))});var s=this.state.lineClamp;r=i.default.createElement("div",{ref:"wrapper",className:s>0?"lineClamp"+s:""},i.default.createElement("div",{className:"text_test",ref:"txt"},o,i.default.createElement("span",{className:"d-i-b clearfix text-right w-100 font-13"},a,i.default.createElement("span",{className:"fr"},"联系",i.default.createElement("a",{className:"text-blue-009eff underline",onClick:this.gotoChat},"脉脉小助手"),"修改公司资料"))))}else r=i.default.createElement("div",null,"暂无公司简介。",i.default.createElement("div",null),"您可以把公司官网网址或微博、公司正方形logo及公司简介等相关信息直接发给",i.default.createElement("a",{className:"text-blue-009eff underline",onClick:this.gotoChat},"脉脉小助手"),".");var l=null;return l=e?i.default.createElement("div",{className:"text-blue-009eff m-t-5",onClick:this.onCompanyMoreClicked},i.default.createElement("span",null,this.state.expandTxt)):i.default.createElement(R,{onClick:this.openOutApp,title:"去脉脉展开"}),i.default.createElement("div",{className:"company_box_shadow p-t p-b-25 p-x-20 m-y-10"},i.default.createElement("div",{className:"m-b-10 font-bold"},"公司介绍"),r,l)},isExpandProduct:function(){this.setState({expandProduct:!this.state.expandProduct})},renderCompanyProducts:function(){var e=this,t=this.props.cursor.select("data","cinfo","products").get();return t&&t.length>0?i.default.createElement("div",{className:"company_box_shadow p-t p-b-25 p-x-20 m-y-10"},i.default.createElement("div",{className:"font-bold"},"公司产品"),t.map(function(r,a){return e.state.expandProduct?a==t.length-1?i.default.createElement(w.default,{lastCell:!0,product:r}):i.default.createElement(w.default,{lastCell:!1,product:r}):0==a?i.default.createElement(w.default,{lastCell:!0,product:r}):void 0}),t.length>1&&i.default.createElement("div",{className:"text-blue-0ba0ff"},i.default.createElement("span",{className:"d-i-b",onClick:this.isExpandProduct},this.state.expandProduct?"收起":"展开","全部产品"))):1==this.props.cursor.select("comp_owner").get()?i.default.createElement("div",{className:"company_box_shadow p-t p-b-25 p-x-20 m-y-10"},i.default.createElement("div",{className:"font-bold"},"公司产品"),i.default.createElement("div",{className:"text-muted"},"认领公司后，由专属客服协助您完善产品信息。",i.default.createElement("span",{className:"text-blue-009eff m-t-5",onClick:function(){e.gotoClaimPage(e.props.cursor.select("fr").get()+"_product")}},"立即认领"))):void 0},renderCompanySupplyDemand:function(){var e=this,t=this.props.cursor.select("data","cinfo","supply").get(),r=this.props.cursor.select("data","cinfo","demand").get();return t&&r&&t.length>0&&r.length>0?i.default.createElement("div",{className:"company_box_shadow p-t p-b-25 p-x-20 m-y-10"},i.default.createElement("div",{className:"font-bold"},"供需信息"),i.default.createElement("div",{className:"m-t-20"},i.default.createElement("span",{className:"company_supply_icon m-r-10"},"资源"),t),i.default.createElement("div",{className:"m-t"},i.default.createElement("span",{className:"company_demand_icon m-r-10"},"需求"),r)):1==this.props.cursor.select("comp_owner").get()?i.default.createElement("div",{className:"company_box_shadow p-t p-b-25 p-x-20 m-y-10"},i.default.createElement("div",{className:"font-bold"},"供需信息"),i.default.createElement("div",{className:"text-muted"},"认领公司后，由专属客服协助您完善产品信息。",i.default.createElement("span",{className:"text-blue-009eff m-t-5",onClick:function(){e.gotoClaimPage(e.props.cursor.select("fr").get()+"_supplydemand")}},"立即认领"))):void 0},isExpandProgress:function(){this.setState({expandProgress:!this.state.expandProgress})},renderCompanyProgress:function(){var e=this,t=this.props.cursor.select("data","cinfo","history").get();return t&&t.length>0?i.default.createElement("div",{className:"company_box_shadow p-t p-b-25 m-y-10"},i.default.createElement("div",{className:"font-bold p-x-20"},"发展历程"),i.default.createElement("div",{className:"company_progress"},t.map(function(t,r){return e.state.expandProgress?i.default.createElement(C.default,{item:t}):r<4?i.default.createElement(C.default,{item:t}):void 0})),i.default.createElement("div",{className:"text-blue-0ba0ff p-x-25 m-t-10"},i.default.createElement("span",{className:"d-i-b",onClick:this.isExpandProgress},this.state.expandProgress?"收起":"展开","全部历程"))):1==this.props.cursor.select("comp_owner").get()?i.default.createElement("div",{className:"company_box_shadow p-t p-b-25 m-y-10"},i.default.createElement("div",{className:"font-bold p-x-20"},"发展历程"),i.default.createElement("div",{className:"text-muted p-x-20"},"认领公司后，由专属客服协助您完善产品信息。",i.default.createElement("span",{className:"text-blue-009eff m-t-5",onClick:function(){e.gotoClaimPage(e.props.cursor.select("fr").get()+"_progress")}},"立即认领"))):void 0},renderFinanceCard:function(){return null},renderBusinessCard:function(){var e=this.props.cursor.select("data","cinfo").get();if(e.tyc_no&&0!=e.tyc_no.length)return i.default.createElement("div",{className:"company_box_shadow p-t p-b-25 m-y-10"},i.default.createElement("div",{className:"p-x-20 font-bold"},"工商信息"),i.default.createElement(E.default,{cinfo:e}))},gotoMemlist:function(){I("/uh_memlist?"+j.default.stringify({tpl:"show",fr:"comp"}),"职场VIP会员","fetch")},gotoClaimPage:function(e){I("/company/claim_apply?"+j.default.stringify({fr:e}),"公司认领","fetch")},renderMemInfo:function(){var e=this.props.cursor.select("data","claim_udata").get(),t=this.props.cursor.select("data","is_claimed").get();return e&&e.length>0?1==this.props.cursor.select("comp_owner").get()&&0==t?i.default.createElement("div",null,i.default.createElement(O,{fr:this.props.cursor.select("fr").get()}),i.default.createElement(M,{claim_user:e,cursor:this.props.cursor})):i.default.createElement(M,{claim_user:e,cursor:this.props.cursor}):1==this.props.cursor.select("comp_owner").get()?i.default.createElement(O,{fr:this.props.cursor.select("fr").get()}):void 0}},n(o,"gotoContactMore",function(){I("/company/contacts?"+j.default.stringify({cid:this.props.cursor.select("data","cinfo","cid").get(),company:this.props.cursor.select("data","cinfo","name").get(),forcomp:"1",highlight:"false",fr:"contact_company",title:"所有员工"}),"所有员工","fetch")}),n(o,"render",function(){var e=["联系企业"],t=[this.gotoContactMore],r=this.props.is_staff;return i.default.createElement("div",null,this.renderMemInfo(),this.renderFinanceCard(),this.renderCompany(),this.renderCompanyProducts(),this.renderCompanySupplyDemand(),this.renderCompanyProgress(),this.renderBusinessCard(),!r&&i.default.createElement(y.default,{btns:e,actions:t}))}),o))},1513:function(e,t,r){"use strict";var a=r(1),n=a.createClass({displayName:"FinanceInfo",render:function(){return a.createElement("div",{className:"white-bg"},a.createElement("table",{className:"fianceTable text-content text-center"},a.createElement("tbody",null,a.createElement("tr",{className:"p-y"},a.createElement("td",{className:"col1 p-y text-muted small"},"2015.10.26"),a.createElement("td",{className:"col2 p-y"},"D轮"),a.createElement("td",{className:"col3 p-y"},"未透露"),a.createElement("td",{className:"col4 p-y text-muted"},"投资方未透露")),a.createElement("tr",{className:"p-y"},a.createElement("td",{className:"col1 p-y text-muted small"},"2015.10.26"),a.createElement("td",{className:"col2 p-y"},"D轮"),a.createElement("td",{className:"col3 p-y"},"亿元及以上美元"),a.createElement("td",{className:"col4 p-y text-orange"},a.createElement("div",null,"xxx投资公司"),a.createElement("div",null,"小星星信息投资公司"))))))}});e.exports=n},1514:function(t,r,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=a(1),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=a(46),f=a(1019),d=function(t){function r(){var e,t,a,s;n(this,r);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return t=a=o(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(l))),a.goUrl=function(e){u(e)},s=t,o(a,s)}return s(r,t),i(r,[{key:"goToProduct",value:function(){e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props.product,r=[];return f(t.desc).lines().map(function(e){r.push(e),r.push(c.default.createElement("br",null))}),c.default.createElement("div",{className:"m-t-20"+(this.props.lastCell?" p-b-10":" border-bottom-e0 p-b")},c.default.createElement("div",{className:"company_product_banner"},c.default.createElement("img",{className:"mw-100",src:t.pic})),c.default.createElement("div",{className:"m-t-20"},c.default.createElement("span",{className:"font-bold"},t.name),c.default.createElement("span",{className:"blue_link_icon m-l-10",onClick:function(){e.goUrl(t.url)}},"链接")),c.default.createElement("div",{className:"m-t"},r))}}]),r}(c.default.Component);r.default=t.exports=d},1515:function(t,r,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=a(1),c=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(t){function r(){return n(this,r),o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return s(r,t),i(r,[{key:"goToProduct",value:function(){e.stopPropagation()}},{key:"render",value:function(){var e=this.props.item;return c.default.createElement("div",{className:"company_progress_item left-blue-circle-11"},c.default.createElement("div",{className:"m-b-5"},e.desc),c.default.createElement("div",{className:"small text-muted"},e.date))}}]),r}(c.default.Component);r.default=t.exports=u},1516:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(1),c=a(l),u=r(15),f=a(u),d=r(46),p=function(e){function t(){var e,r,a,s;n(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return r=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.gotoClaimPage=function(){d("/company/claim_apply?"+f.default.stringify({fr:a.props.fr}),"公司认领","fetch")},s=r,o(a,s)}return s(t,e),i(t,[{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement("div",{className:"company_box_shadow p-x-20 m-y-10"},c.default.createElement("div",{className:"p-y-20"},c.default.createElement("div",{className:"media-body media-middle"},c.default.createElement("div",{className:"text-orange-ff7200 m-b-5"},"认领公司，建立公司形象！"),c.default.createElement("div",{className:"text-muted"},"提升企业招聘及商业合作效率")),c.default.createElement("div",{className:"media-right media-middle p-l-0"},c.default.createElement("div",{className:"get_company_btn",onClick:this.gotoClaimPage},"立即认领")))))}}]),t}(c.default.Component);t.default=e.exports=p},1517:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=r(1),l=function(e){return e&&e.__esModule?e:{default:e}}(i),c=r(46),u=r(1014).renderMember,f=function(e){function t(){var e,r,o,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return r=o=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.gotoDetail=function(e){c("/contact/detail/"+e+"?from=comp_claim","人脉详情","fetch")},o.goUrl=function(e){c(e)},s=r,n(o,s)}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,r=(t.cursor,t.claim_user),a="fr text-blue-0ba0ff d-n";return 1==this.props.cursor.select("self_comp","is_owner").get()&&1!=this.props.cursor.select("is_self").get()&&(a="fr text-blue-0ba0ff"),l.default.createElement("div",null,l.default.createElement("div",{className:"company_box_shadow p-y-10 p-x-20 m-y-10"},l.default.createElement("div",{className:"clearfix"},l.default.createElement("div",{className:"font-bold fl"},"公司高管"),l.default.createElement("div",{className:a,onClick:function(){e.goUrl(e.props.cursor.select("self_comp","company_url").get())}},"去认领我的公司->")),r.map(function(t,a){return l.default.createElement("div",{onClick:function(){e.gotoDetail(t.encode_mmid||t.id)},className:"p-y-10 "+(r.length==a+1?"":"border-bottom-e0")},l.default.createElement("div",{className:"media-left media-middle"},l.default.createElement("div",{className:"font-0 radius-50"},l.default.createElement("img",{className:"radius-50 avatar-56",src:t.avatar}))),l.default.createElement("div",{className:"media-body media-middle"},l.default.createElement("div",null,t.name,1==t.mem_st&&u(t.mem_id),l.default.createElement("span",{className:"company_auth media-middle m-l-5"})),l.default.createElement("div",{className:"text-muted small"},l.default.createElement("span",null,t.career),1==t.judge&&l.default.createElement("span",{className:"add_v_img"})),l.default.createElement("div",{className:"text-muted small"},t.line2)))})))}}]),t}(l.default.Component);t.default=e.exports=f},1518:function(e,t,r){"use strict";(function(t){function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=r(1),s=a(o),i=r(1061),l=a(i),c=r(988),u=(a(c),r(984)),f=r(46),d=a(f),p=r(15),m=a(p),h=r(113),g=r(76),y=a(g),_=r(75),b=r(1087),v=a(b),E=r(276),x=a(E),w=r(167);e.exports=s.default.createClass({displayName:"exports",contextTypes:{auth_info:s.default.PropTypes.object,fconf:s.default.PropTypes.object,env:s.default.PropTypes.object},componentDidMount:function(){(0,h.bindBroadcast)("company_pub_comment",this.onPubSuccess)},componentWillUnmount:function(){(0,h.unbindBroadcast)("company_pub_comment",this.onPubSuccess)},onPubSuccess:function(e){var t=this.props.cursor.select("comments"),r=this.props.cursor.select("data","cinfo","cid").get();e.comment.cid==r&&t.unshift(e)},renderEmpty:function(){var e=this.props.cursor.select("comments").get(),t=this.props.cursor.select("data").get();if(0==e.length&&0==t.data_exp.feeds.length)return s.default.createElement("div",{style:{marginTop:"70px",minHeight:"200px"},className:"text-light text-center small"},s.default.createElement("img",{src:"/static/images/no_result_icon.png",style:(0,u.size)(60)}),s.default.createElement("div",null,"该公司还没有被点评过"))},onPub:function(){var e=this,t=this.context,r=t.auth_info,a=(t.req,"/sdk/company/will_pub_comment?"+m.default.stringify(n({},r)));fetch(a,{credentials:"same-origin"}).then(_.parse_online_json).then(function(t){try{var r="",a=e.props.cursor.select("data","cinfo","cid").get(),n=t.data,o=n.me,s=n.cur_work,i=n.work_exp,l=n.company_infos;if(o.judge){if(a!=s.cid){for(var c=0;c<i.length;c++)if(l[c].cinfo.cid==a){if(i[c].judge){console.log("judged company");break}r="请认证您在该公司的经历之后再发布点评"}r||c!=i.length||(r="您缺少在该公司任职的经历，无法发布点评")}}else r="只有加V用户才可以点评公司";if(r)(0,y.default)(r),console.log(r);else{var u=e.context,f=(u.auth_info,u.fconf,"/company/pub_comment?"+m.default.stringify({cid:a}));(0,d.default)(f,"发布点评",{})}}catch(e){return void alert(e)}}).catch(alert)},pubExp:function(e){var r=this,a=this.context.auth_info,o=this.props.cursor.select("data","cinfo","fullname").get(),s=t(e.target);if(e.stopPropagation(),!s.hasClass("runing"))if(s.addClass("runing"),x.default.lt(a.version,"4.17.38"))(0,w.showModalForConfirm)({title:"请先升级客户端",ok_text:"知道了"}),s.removeClass("runing");else{var i="/sdk/company/will_pub_comment?"+m.default.stringify(n({},a));fetch(i,{credentials:"same-origin"}).then(_.parse_online_json).then(function(e){try{var t="",a=r.props.cursor.select("data","cinfo","cid").get(),n=e.data,i=n.cur_work,l=n.work_exp,c=n.company_infos;if(a!=i.cid)for(var u=0;u<l.length;u++){if(c[u].cinfo.cid==a||c[u].cinfo.fullname==o){t="";break}t="请先完善该公司的工作经历，再发布公司体验。"}t?(0,w.showModalForConfirm)({title:t,ok_text:"知道了",ok:function(){window.MaiMai_Native.native_add_work_exp?window.MaiMai_Native.native_add_work_exp(!1):window.open("https://maimai.cn/edit_info#addworkbtn")}.bind(r)}):(0,d.default)("/article/pub_exp?fr=company&cname="+o,"发布公司体验"),s.removeClass("runing")}catch(e){return void(0,y.default)(e)}}).catch(_.toast_error_handler)}},render:function(){var e=this.props.cursor,t=e.select("comments").get(),r=e.select("is_pc").get(),a=e.select("data").get(),n=this.context.auth_info,o=this.props.cursor.select("data","cinfo","fullname").get();this.onPub;return s.default.createElement("div",{className:t.length>0?"panel panel-default":""},t.length>0&&s.default.createElement("div",{className:"panel-heading"},s.default.createElement("span",{className:"text-muted"},"共",t.length,"份点评")),a.data_exp.feeds&&a.data_exp.feeds.length>0&&s.default.createElement("ul",{className:"experience_warp list-group"},a.data_exp.feeds.map(function(e){return s.default.createElement(v.default,{key:e.id,text:e.text,title:e.title,id:e.id,uinfo:e.uinfo,cinfo:a.data_exp.cinfo,tag:a.data_exp.tag,headClass:"m-t-0"})})),t.length>0&&s.default.createElement("ul",{className:"list-group "},t.map(function(t,r){return s.default.createElement(l.default,{key:t.comment._id,listCursor:e,comment:t.comment,user:t.user,cname:o,index:r})})),this.renderEmpty(),n.u>0&&!r&&s.default.createElement("div",null,s.default.createElement("div",{style:{height:85}}),s.default.createElement("div",{className:"edit_btn_bg"},s.default.createElement("a",{href:"javascript:;",className:"edit_btn",onClick:this.pubExp},"写公司体验，赢脉脉会员"))))}})}).call(t,r(280))},1519:function(e,t,r){"use strict";e.exports=function(e){try{var t=new Image;t.onload=function(){var e=document.createElement("canvas"),r=e.getContext("2d");e.width=t.width,e.height=t.height,r.drawImage(t,0,0,t.width,t.height);var a=e.toDataURL("image/png");MaiMai_Native.native_put_share_image&&MaiMai_Native.native_put_share_image(a)},t.crossOrigin="anonymous",t.src=e}catch(e){}}},1520:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),o=a(n),s=r(981),i=(a(s),r(165)),l=a(i),c=r(75),u=a(c),f=r(15),d=a(f),p=r(984),m=r(270),h=a(m),g=r(982),y=r(1015).tab_type;e.exports=o.default.createClass({displayName:"exports",contextTypes:{auth_info:o.default.PropTypes.object,fconf:o.default.PropTypes.object},componentDidMount:function(){this.nextPage=1},loadMore:function(){var e=this,t="/company/contacts?"+d.default.stringify({count:20,page:this.nextPage,cid:this.props.cursor.select("data","cinfo","cid").get(),company:this.props.cursor.select("data","cinfo","name").get(),forcomp:"1",highlight:"false",jsononly:1});fetch(t,{credentials:"same-origin"}).then(u.default.parse_online_json).then(function(t){e.nextPage++,e.props.cursor.select("data","cstaff","contacts").concat(t.data.contacts),e.props.cursor.select("data","cstaff","more").set(t.data.more)}).catch(function(e){u.default.toast_error_handler(e)})},renderEmpty:function(){if(0==this.props.cursor.select("data","cstaff","contacts").get().length)return o.default.createElement("div",{style:(0,p.margin)("70px","0px","0px","0px"),className:"text-light text-center small"},o.default.createElement("img",{src:"/static/images/no_result_icon.png",style:(0,p.size)(60)}),o.default.createElement("div",null,"暂无员工信息"))},render:function(){var e=this.props.cursor.select("data","cstaff").get(),t=this.props.cursor.select("inapp").get(),r=this.props.cursor.select("tab_index").get()==y.staff;return o.default.createElement("div",{className:"panel panel-default"},e.contacts.length>0&&o.default.createElement("div",{className:"panel-heading"},o.default.createElement("span",{className:"text-muted"},"共",e.total,"位员工")),o.default.createElement(g,{loadMore:this.loadMore,hasMore:t&&r&&e.more>0,loader:o.default.createElement(l.default,{ref:"loader",reload:this.loadMore,cursor:this.props.cursor.select("staff_loading_status")})},o.default.createElement("ul",{className:"list-group",style:(0,p.margin)("-1px","0px","0px","0px")},e.contacts.map(function(e){return o.default.createElement(h.default,{key:e.contact.mmid,contact:e.contact})}))),this.renderEmpty())}})},1521:function(e,t,r){"use strict";(function(t){function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=r(1),s=a(o),i=r(165),l=a(i),c=r(1525),u=a(c),f=r(75),d=a(f),p=r(15),m=a(p),h=r(984),g=r(115),y=r(50),_=a(y),b=r(17),v=a(b),E=r(1526),x=r(982),w=r(1015).tab_type,N=r(986),C=[594927,594910,594920,594913];e.exports=s.default.createClass({displayName:"exports",contextTypes:{auth_info:s.default.PropTypes.object,req:s.default.PropTypes.object,fconf:s.default.PropTypes.object},componentDidMount:function(){this.nextPage=0},openOutApp:function(){(0,g.launch_webview)()},loadMore:function(){var e=this,r=this.context,a=r.auth_info,o=r.req,s=this.props.cursor.select("data","cinfo","name").get(),i="/sdk/company/jobs?"+m.default.stringify(n({count:20,page:this.nextPage,cname:s,cid:this.props.cursor.select("data","cinfo","cid").get(),highlight:"false",jsononly:1,webcid:o.query.webcid,webcname:o.query.fullname||E.encode(new t(s).toString("base64")),offset:this.props.cursor.select("data","company_jobs","jobs").get().length},a));this.refs.loader&&this.refs.loader.bindRequest(function(){return fetch(i,{credentials:"same-origin"}).then(d.default.parse_online_json).then(function(t){e.nextPage++,e.props.cursor.select("data","company_jobs","jobs").concat(t.data),e.props.cursor.select("data","company_jobs","more").set(t.more)}).catch(function(e){d.default.toast_error_handler(e)})})},renderEmpty:function(){if(this.props.cursor.select("data","company_jobs","total").get()<=0)return s.default.createElement("div",{style:(0,h.margin)("70px","0px","0px","0px"),className:"text-light text-center small"},s.default.createElement("img",{src:"/static/images/no_result_icon.png",style:(0,h.size)(60)}),s.default.createElement("div",null,"暂无职位信息"))},render:function(){var e=this,t=this.props.cursor.select("inapp").get(),r=this.props.cursor.select("from_api").get(),a=this.props.cursor.select("tab_index").get()==w.job,n=this.props.cursor.select("data","company_jobs").get(),o=!(!t&&r)&&a&&n.jobs.length<n.total&&0!=n.more,i=n&&n.total>0&&s.default.createElement("div",{className:"p-t p-l"},s.default.createElement("span",{className:"text-muted"},"共",n.total,"个职位"));return n=n?n.jobs:this.props.cursor.select("data","cjobs").get(),s.default.createElement("div",null,s.default.createElement("div",null,i,s.default.createElement(x,{loadMore:this.loadMore,hasMore:o,loader:s.default.createElement(l.default,{ref:"loader",reload:this.loadMore,cursor:this.props.cursor.select("job_loading_status")})},s.default.createElement("ul",{className:"list-group"},n.map(function(t){return s.default.createElement(u.default,{key:t.job.id,avatar:t.job.clogo,line1:t.job.position,line2:t.job.company,line3:t.job.province+" "+t.job.degree_str+" "+t.job.wt_str,salary:t.job.salary_info,last_refresh:t.job.refresh_time,employer:t.job.user,hot:!!v.default.find(C,function(e){return t.job.id==e}),clickHandler:_.default.bind(e,t.job.share_url,"职位详情")})}))),this.renderEmpty()),!t&&r&&s.default.createElement(N,{onClick:this.openOutApp,title:"注册脉脉查看更多职位"}))}})}).call(t,r(1257).Buffer)},1522:function(e,t,r){"use strict";function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function n(e){return 3*e.length/4-a(e)}function o(e){var t,r,n,o,s,i=e.length;o=a(e),s=new f(3*i/4-o),r=o>0?i-4:i;var l=0;for(t=0;t<r;t+=4)n=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],s[l++]=n>>16&255,s[l++]=n>>8&255,s[l++]=255&n;return 2===o?(n=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,s[l++]=255&n):1===o&&(n=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,s[l++]=n>>8&255,s[l++]=255&n),s}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function i(e,t,r){for(var a,n=[],o=t;o<r;o+=3)a=(e[o]<<16)+(e[o+1]<<8)+e[o+2],n.push(s(a));return n.join("")}function l(e){for(var t,r=e.length,a=r%3,n="",o=[],s=0,l=r-a;s<l;s+=16383)o.push(i(e,s,s+16383>l?l:s+16383));return 1===a?(t=e[r-1],n+=c[t>>2],n+=c[t<<4&63],n+="=="):2===a&&(t=(e[r-2]<<8)+e[r-1],n+=c[t>>10],n+=c[t>>4&63],n+=c[t<<2&63],n+="="),o.push(n),o.join("")}t.byteLength=n,t.toByteArray=o,t.fromByteArray=l;for(var c=[],u=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,m=d.length;p<m;++p)c[p]=d[p],u[d.charCodeAt(p)]=p;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},1523:function(e,t){t.read=function(e,t,r,a,n){var o,s,i=8*n-a-1,l=(1<<i)-1,c=l>>1,u=-7,f=r?n-1:0,d=r?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-u)-1,p>>=-u,u+=i;u>0;o=256*o+e[t+f],f+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=a;u>0;s=256*s+e[t+f],f+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,a),o-=c}return(p?-1:1)*s*Math.pow(2,o-a)},t.write=function(e,t,r,a,n,o){var s,i,l,c=8*o-n-1,u=(1<<c)-1,f=u>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:o-1,m=a?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+f>=1?d/l:d*Math.pow(2,1-f),t*l>=2&&(s++,l/=2),s+f>=u?(i=0,s=u):s+f>=1?(i=(t*l-1)*Math.pow(2,n),s+=f):(i=t*Math.pow(2,f-1)*Math.pow(2,n),s=0));n>=8;e[r+p]=255&i,p+=m,i/=256,n-=8);for(s=s<<n|i,c+=n;c>0;e[r+p]=255&s,p+=m,s/=256,c-=8);e[r+p-m]|=128*h}},1524:function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},1525:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(1),c=a(l),u=r(168),f=a(u),d=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){return c.default.createElement("li",{className:"list-unstyled company_box_shadow m-y-10",onClick:this.props.clickHandler},c.default.createElement("div",{className:"p-y p-x"},c.default.createElement("div",{className:"media-left"},c.default.createElement("div",{className:"font-0"},c.default.createElement("img",{className:"avatar-56",src:this.props.avatar}))),c.default.createElement("div",{className:"media-body"},c.default.createElement("div",{className:"font-16"},this.props.line1),c.default.createElement("div",{className:"small text-muted m-y-2"},this.props.line2),c.default.createElement("div",{className:"small text-muted"},this.props.line3)),c.default.createElement("div",{className:"media-right p-l-0"},c.default.createElement("div",{className:"text-orange-ff7200 text-right",style:{width:70}},this.props.salary))),c.default.createElement("div",{className:"border-top-e0 p-y-5 p-x"},c.default.createElement("div",{className:"media-left font-0 p-r-5"},c.default.createElement(f.default,{card:this.props.employer,notBlockImg:!0,customClass:"avatar-25 radius-50",ref:"avatar"})),c.default.createElement("div",{className:"media-body media-middle"},c.default.createElement("div",{className:"lineClamp1 font-12 text-muted"},this.props.employer.name," · ",this.props.employer.career)),c.default.createElement("div",{className:"media-right p-l-0 media-middle"},c.default.createElement("div",{className:"small text-muted text-right",style:{width:90}},this.props.last_refresh,"回复过"))))}}]),t}(c.default.Component);t.default=e.exports=d},1526:function(e,t,r){e.exports=r(1527)},1527:function(e,t,r){(function(e){t.version="1.0.0",t.encode=function(e){return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},t.decode=function(t){return t+=Array(5-t.length%4).join("="),t=t.replace(/\-/g,"+").replace(/\_/g,"/"),new e(t,"base64")},t.validate=function(e){return/^[A-Za-z0-9\-_]+$/.test(e)}}).call(t,r(1257).Buffer)},1528:function(e,t,r){"use strict";(function(a){function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,c,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(1),p=n(d),m=r(1529),h=n(m),g=r(988),y=n(g),_=r(15),b=n(_),v=r(75),E=(n(v),r(113)),x=r(984),w=r(76),N=n(w),C=r(276),k=n(C),j=r(114);n(j);t.default=e.exports=(c=l=function(e){function t(e){o(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.goMore=function(e){var t=r.props.cursor.select("data").get().cinfo,a=void 0;a=e?JSON.stringify(e):JSON.stringify({webcid:t.webcid,cname:t.name,fr:"company_index"}),console.log(a),window.MaiMai_Native.native_gossip_company_index2&&window.MaiMai_Native.native_gossip_company_index2(a)},r.changeCompany=function(){var e=r.props.cursor.select("data").get(),t=r.context,n=t.fconf,o=t.auth_info,s=r,i=n.online_url+"gossip/v3/gtag_recommend?"+b.default.stringify(u({},o,{gtag:e.cinfo.name,webcid:e.cinfo.webcid,page:r.state.page,count:3}));r.sendRequire(i,function(e){e.gtags.length?(s.props.cursor.select("gtags").set(e.gtags),s.setState({page:s.state.page+1}),a(".company_list_pop").show()):(0,N.default)("没有更多推荐啦~")})},r.addentionCompany=function(e){var t=a(e.target),n=r.context,o=n.fconf,s=n.auth_info,i=r.props.cursor.select("data").get(),l=t.data("fr")||"company_index",c=t.attr("name"),f=r.state.myGtags,d=void 0,p=void 0,m=r;t.hasClass("attention_down")?(p=0,d=!1):(p=1,d=!0);var h=o.online_url+"gossip/v3/gtags?"+b.default.stringify(u({},s,{tags:t.attr("name")||i.cinfo.name,follow:p,fr:l}));"recommend_window"!=l?r.sendRequire(h,function(){f.push(i.cinfo.name),m.setState({myGtags:f}),m.changeCompany(),(0,E.sendWebViewBroadcast)("action.followed.comany",{name:i.cinfo.name,webcid:i.cinfo.webcid,followed:p})}):r.sendRequire(h,function(){if(d)f.push(c);else{var e=f&&f.indexOf(c);-1!=e&&f.splice(e,1)}m.setState({myGtags:f}),(0,E.sendWebViewBroadcast)("action.followed.comany",{name:t.attr("name"),followed:p,webcid:t.attr("webcid")})})},r.sendRequire=function(e,t){fetch(e,{credentials:"same-origin"}).then(v.parse_online_json).then(function(e){t&&t(e)}).catch(v.toast_error_handler)},r.state={page:0,myGtags:r.props.cursor.select("my_card","gtags").get()},r}return i(t,e),f(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.cursor.select("my_card","gtags").get();(0,E.bindBroadcast)("action.native.followed.comany",function(r){var a=JSON.parse(r);if(a.followed)t.push(a.name);else{var n=t.indexOf(a.name);-1!=n&&t.splice(n,1)}e.setState({myGtags:t})})}},{key:"renderPop",value:function(){var e=this,t=this.props.cursor.select("gtags").get(),r=this.state.myGtags;return p.default.createElement("div",{className:"company_list_pop"},p.default.createElement("div",{className:"company_list_warp p-l p-r-10 p-t-18 p-b-25 "},p.default.createElement("div",{className:"clearfix"},p.default.createElement("span",{className:"fl m-r-md font-16"},"更多热门公司内幕"),p.default.createElement("span",{className:"fl text-gray-7d change_company",onClick:this.changeCompany},"换一换"),p.default.createElement("span",{className:"fr close_btn",onClick:function(){a(".company_list_pop").hide()}})),p.default.createElement("ul",{className:"m-t-30 clearfix"},t.map(function(t,a){var n=r&&r.indexOf(t.name);return p.default.createElement("li",{className:"m-t-2 fl "+(2==a?"m-r-0":""),key:a},p.default.createElement("div",{className:"img_warp",onClick:function(){e.goMore({webcid:t.webcid,cname:t.name,fr:"recommend_window"})}},p.default.createElement("img",{src:t.logo,className:"avatar-50 border-radius-3"}),0!=t.new_cnt&&p.default.createElement("span",{className:"company_cnt"},t.new_cnt>99?"99+":t.new_cnt)),p.default.createElement("span",{className:"company_name"},t.name),p.default.createElement("a",{href:"javascript:;",className:"attention "+(n>0?"attention_down":""),onClick:e.addentionCompany,id:t.id,webcid:t.webcid,name:t.name,"data-fr":"recommend_window"},n>0?"已关注":"+ 关注"))}))))}},{key:"renderEmpty",value:function(){return p.default.createElement("div",{style:(0,x.margin)("70px","0px","0px","0px"),className:"text-light text-center small"},p.default.createElement("img",{src:"/static/images/no_result_icon.png",style:(0,x.size)(60)}),p.default.createElement("div",null,"该公司还没有匿名信息"))}},{key:"render",value:function(){var e=this,t=this.props.cursor,r=t.select("gossips").get(),a=t.select("gtags").get(),n=t.select("is_pc").get(),o=t.select("data","cinfo").get(),s=this.context.auth_info,i=["+ 关注"],l=!!(r.gossips&&r.gossips.length>0),c=[this.addentionCompany],u=this.state.myGtags,f=u&&u.indexOf(o.name);return k.default.lt(s.version,"4.17.2")&&(n=!0),p.default.createElement("div",{className:l&&o.is_tag?"white-bg panel-default":""},l&&0!=o.is_tag&&p.default.createElement("div",null,p.default.createElement("div",{className:"p-l-20 p-b-5 p-t-15 bg-w-F9FAFC"},"近期热门匿名交流"),p.default.createElement("ul",{className:"list-group m-b-0"},r.gossips.map(function(t,r){return p.default.createElement(h.default,{key:t.id,cursor:e.props.cursor.select("gossips","gossips",r),gossip:t})})),!n&&r.count<r.total&&p.default.createElement("div",{className:"text-center more_gossip",onClick:function(){e.goMore()}},"查看更多匿名交流 >>"),s.u>0&&f<0&&p.default.createElement(y.default,{btns:i,actions:c}),s.u>0&&a&&this.renderPop()),!l||0==o.is_tag&&this.renderEmpty())}}]),t}(p.default.Component),l.contextTypes={req:p.default.PropTypes.object,fconf:p.default.PropTypes.object,auth_info:p.default.PropTypes.object},c)}).call(t,r(280))},1529:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,l,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),f=r(1),d=a(f),p=r(993),m=a(p),h=r(1258),g=(a(h),r(1259)),y=(a(g),r(115)),_=r(15),b=a(_),v=r(75),E=(a(v),r(289)),x=r(114),w=a(x),N=r(169),C=a(N),k=r(1008),j=a(k),P=r(1089),T=a(P),O=r(77),M=a(O);t.default=e.exports=(l=i=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.goDetail=function(e){var t=r.props.gossip,a=r.context.fconf;e.stopPropagation(),window.MaiMai_Native.native_gossip_detail?window.MaiMai_Native.native_gossip_detail(t.id):window.location.href=a.web_url+"web/gossip_detail?gid="+t.id},r.follow=function(e){e.stopPropagation();var t=r.context,a=t.auth_info,n=t.fconf,o=r.props.cursor;if(a.u<0)return void(0,y.launch_webview)();var s=r.props.gossip.mylike?0:1,i=c({like:s,gid:r.props.gossip.id},a),l=n.online_url+"/gossip/v3/like?"+b.default.stringify(i),u=fetch(l,{credentials:"same-origin"}).then(v.parse_online_json).then(function(e){o.select("mylike").set(s),o.select("likes").set(r.props.gossip.likes+(0==s?-1:1))}).catch(v.toast_error_handler);(0,w.default)("设置中...",u)},r.share=function(e){var t=r.props.gossip;window.MaiMai_Native.native_share_gossip?window.MaiMai_Native.native_share_gossip(1,JSON.stringify(t)):(0,E.preSpreadToFeed)({context:r.context,gossip:r.props.gossip}).then(function(e){if(e){var t=function(e,t,a){M.default.dismiss(),(0,E.spreadToFeed)({context:r.context,content:{text:e,atUserJsonStr:a},gossipCursor:r.props.cursor,mycard:r.props.mycard}).catch(v.toast_error_handler)};M.default.popup(d.default.createElement(T.default,{users:r.props.users,gossip:r.props.gossip,onSpread:t,cancel:M.default.dismiss}))}}).catch(v.toast_error_handler)},r.state={container_width:(0,C.default)().width},r}return s(t,e),u(t,[{key:"renderDeleted",value:function(){var e=this.props.gossip;return d.default.createElement("div",{style:{textAlign:"center"}},d.default.createElement("img",{src:"/static/images/gossip_deleted.png",style:{width:"250px"}}),d.default.createElement("div",{style:{color:"rgb(196, 202, 211)",fontSize:"16px"}},e.text))}},{key:"renderContent",value:function(){var e=this.props.gossip;return d.default.createElement("div",null,d.default.createElement("div",{className:"m-b",style:{fontSize:"16px"}},d.default.createElement(m.default,{text:e.text,support_dref:!0})),e.pics.length>0&&d.default.createElement(j.default,{images:e.pics}))}},{key:"render",value:function(){var e=this.props.gossip;return d.default.createElement("li",{className:"gossip_container"},d.default.createElement("div",{className:"gossip_detial",onClick:this.goDetail},1==e.deleted?this.renderDeleted():this.renderContent()),d.default.createElement("div",{className:"clearfix"},d.default.createElement("div",{className:"fl font-13 text-gray-90 m-t-5"},e.note),d.default.createElement("ul",{className:"fr active_btn"},d.default.createElement("li",{className:e.mylike?"icon_action_prize_selected":"icon_action_prize_normal",onClick:this.follow},d.default.createElement("span",null,e.likes>0?e.likes:"")),d.default.createElement("li",{className:"icon_action_share_normal",onClick:this.share},d.default.createElement("span",null,e.spreads>0?e.spreads:"")),d.default.createElement("li",{className:"icon_action_comment_normal m-r-md",onClick:this.goDetail},d.default.createElement("span",null,e.cmts>0?e.cmts:"")))))}}]),t}(d.default.Component),i.contextTypes={auth_info:d.default.PropTypes.object,req:d.default.PropTypes.object,fconf:d.default.PropTypes.object,env:d.default.PropTypes.object,wx_sdk:d.default.PropTypes.object},l)},1531:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=r(1),s=a(o),i=r(984),l=r(1532),c=a(l),u=r(981),f=a(u),d=r(1533),p=a(d),m=r(1535),h=a(m),g=r(1536),y=a(g),_=r(1537),b=a(_),v=r(1538),E=a(v),x=r(1539),w=a(x),N=r(1034),C=r(1015).tab_type;e.exports=s.default.createClass({displayName:"exports",contextTypes:{fconf:s.default.PropTypes.object,auth_info:s.default.PropTypes.object,req:s.default.PropTypes.object,env:s.default.PropTypes.object},doRegister:function(e){var t={frm:e,frmw:this.props.company};(0,N.launch_pc_pop_register)(t)},renderHeader:function(){return s.default.createElement("div",{style:k.comHead},s.default.createElement("div",{style:k.comHeadBg}),s.default.createElement("div",{className:"media list-group-item-heading list-group-item-text",style:k.comHeader},s.default.createElement("div",{className:"media-left"},s.default.createElement("img",{className:"m-l",src:this.props.cursor.select("data","cinfo","clogo").get(),style:k.img})),s.default.createElement("div",{className:"media-body p-b"},s.default.createElement("div",{style:(0,i.margin)("50px","0px","0px","0px")},s.default.createElement("span",{style:k.text},this.props.cursor.select("data","cinfo","fullname").get()))),s.default.createElement("div",{className:"media-bottom m-l",style:(0,i.margin)("8px","0px","0px","0px")},s.default.createElement(c.default,{onTabChanged:this.onTabChanged,index:this.props.cursor.select("tab_index").get()}))))},onTabChanged:function(e){var t=C.detail;switch(e){case 0:t=C.detail;break;case 1:t=C.staff;break;case 2:t=C.job;break;case 3:t=C.circle;break;case 4:t=C.gossip;break;case 5:t=C.comment}this.props.cursor.select("tab_index").set(t)},renderHuDong:function(){var e=this.props.cursor.select("hu_dong").get();return e?s.default.createElement("div",{style:{marginLeft:50,marginRight:45,marginTop:-20}},s.default.createElement("div",null,"友情链接"),s.default.createElement("div",{className:"m-t",onClick:function(){window.open(e.url)},style:k.linkCard},s.default.createElement("img",{src:"/static/images/hu_dong.png",style:k.hu_dong}),s.default.createElement("div",null,"互动百科"),s.default.createElement("div",null,s.default.createElement("a",{target:"_blank",className:"text-primary"},"baike.com")))):null},renderRight:function(){var e=this;return s.default.createElement("div",null,this.props.inapp?null:s.default.createElement("div",{className:"m-a-lg",onClick:function(){e.doRegister("cmpright")}},s.default.createElement("div",{className:"btn btn-xsm btn-secondary btn-block"},"注册脉脉")),this.renderHuDong())},render:function(){var e=this.props.cursor.select("tab_index").get();return this.context.env.renderLeftContainer&&this.context.env.renderLeftContainer(this.renderRight()),s.default.createElement("div",{style:k.content},s.default.createElement(f.default,{title:this.props.data.cinfo.name}),this.renderHeader(),s.default.createElement("div",{className:e==C.detail?"show":"hidden"},s.default.createElement(p.default,n({},this.props,{doReg:this.doRegister}))),s.default.createElement("div",{className:e==C.staff?"show":"hidden"},s.default.createElement(h.default,n({},this.props,{doReg:this.doRegister}))),s.default.createElement("div",{className:e==C.job?"show":"hidden"},s.default.createElement(b.default,n({},this.props,{doReg:this.doRegister}))),s.default.createElement("div",{className:e==C.circle?"show":"hidden"},s.default.createElement(E.default,n({},this.props,{doReg:this.doRegister}))),s.default.createElement("div",{className:e==C.gossip?"show":"hidden"},s.default.createElement(w.default,n({},this.props,{doReg:this.doRegister}))),s.default.createElement("div",{className:e==C.comment?"show":"hidden"},s.default.createElement(y.default,n({},this.props,{doReg:this.doRegister}))))}});var k={linkCard:{background:"#FFF",border:"1px solid rgba(128, 128, 128, 0.24)",padding:"5px",cursor:"pointer"},right:{float:"right",textAlign:"center",marginTop:100,width:"18%"},hu_dong:{width:40,height:40,float:"left",marginRight:10},qr_code:{marginTop:10,width:120,height:120},content:{position:"relative",background:"#f9f9f9"},comHead:{background:"#ffffff",paddingTop:"58px"},comHeader:{zIndex:3,position:"relative",marginLeft:"10px",marginTop:"40px"},comHeadBg:{width:"100%",height:"140px",position:"absolute",left:0,top:0,zIndex:2,background:"url(/static/images/peng_images/c4.jpg) no-repeat center center",backgroundSize:"cover"},img:{border:"1px solid white",width:80,height:80},table_brief:{width:"100%",maxWidth:"100%",tableLayout:"fixed"},text:{fontSize:"20px"}}},1532:function(e,t,r){"use strict";var a=r(1),n=r(1015).tab_type,o=a.createClass({displayName:"PCTab",render:function(){var e=this;return a.createElement("div",null,a.createElement("ul",{className:"comTabList clearfix"},a.createElement("li",null,a.createElement("a",{href:"javascript:;",className:this.props.index==n.detail?"curComTab":"",onClick:function(){e.props.onTabChanged(0)}},"基本资料")),a.createElement("li",null,a.createElement("a",{href:"javascript:;",className:this.props.index==n.staff?"curComTab":"",onClick:function(){e.props.onTabChanged(1)}},"员工")),a.createElement("li",null,a.createElement("a",{href:"javascript:;",className:this.props.index==n.job?"curComTab":"",onClick:function(){e.props.onTabChanged(2)}},"在招职位")),a.createElement("li",null,a.createElement("a",{href:"javascript:;",className:this.props.index==n.circle?"curComTab":"",onClick:function(){e.props.onTabChanged(3)}},"动态")),a.createElement("li",null,a.createElement("a",{href:"javascript:;",className:this.props.index==n.gossip?"curComTab":"",onClick:function(){e.props.onTabChanged(4)}},"八卦")),a.createElement("li",{className:"noBorderR"},a.createElement("a",{href:"javascript:;",className:this.props.index==n.comment?"curComTab":"",onClick:function(){e.props.onTabChanged(5)}},"点评"))))}});e.exports=o},1533:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1019),o=a(n),s=r(1),i=a(s),l=r(984),c=r(1022),u=a(c),f=r(1256),d=a(f),p=r(1534),m=a(p),h=r(273),g=a(h),y=r(1061),_=a(y),b=r(1260),v=a(b),E=r(1033),x=a(E),w=r(1015),N=r(50),C=a(N),k=r(289),j=a(k),P=r(275);e.exports=i.default.createClass({displayName:"exports",mixins:[P],contextTypes:{fconf:i.default.PropTypes.object,auth_info:i.default.PropTypes.object,req:i.default.PropTypes.object},renderCompanyInfo:function(){var e=this.props.cursor.select("data","cinfo","url").get(),t=this.props.cursor.select("data","cinfo","brief").get(),r=null;t<4&&(r=i.default.createElement("table",{style:T.table_brief},i.default.createElement("tbody",null,i.default.createElement("tr",null,i.default.createElement("td",null,"官方网站"),i.default.createElement("td",null,i.default.createElement("a",{href:e,target:"_blank"},e)),i.default.createElement("td",null,"总部地点"),i.default.createElement("td",null,this.props.cursor.select("data","cinfo","city").get())),i.default.createElement("tr",null,i.default.createElement("td",null,"规模"),i.default.createElement("td",null,this.props.cursor.select("data","cinfo","people").get()),i.default.createElement("td",null,"成立时间"),i.default.createElement("td",null,this.props.cursor.select("data","cinfo","build_date").get())),i.default.createElement("tr",null,i.default.createElement("td",null,"经营范围"),i.default.createElement("td",null,this.props.cursor.select("data","cinfo","domain").get()),i.default.createElement("td",null,"融资情况"),i.default.createElement("td",null,this.props.cursor.select("data","cinfo","stage").get())))));var a=null,n=this.props.cursor.select("data","cinfo","intro").get();return a=n&&n.length>0?i.default.createElement("div",null,(0,o.default)(n+"\n").lines().map(function(e,t){return e&&i.default.createElement("div",{key:t},e)||null})):i.default.createElement("div",null,"暂无公司简介。",i.default.createElement("div",null)),i.default.createElement(u.default,{title:"公司简介"},r,i.default.createElement("div",null,a),this.renderHuDong())},renderHuDong:function(){var e=this.props.cursor.select("hu_dong").get();return e?i.default.createElement("div",null,i.default.createElement("div",{className:"m-t m-b text-primary cursor-pointer pull-right",onClick:function(){window.open(e.url)}},"来自互动百科"),i.default.createElement("p",{style:{padding:15}})):null},renderBusinessCard:function(){var e=this.props.cursor.select("data","cinfo").get();if(e.regist_no&&0!=e.regist_no.length)return i.default.createElement(u.default,{title:"工商信息"},i.default.createElement(d.default,{cinfo:e,from_pc:!0}))},renderContact:function(){var e=this,t=this.props.cursor.select("contacts","data").get();if(!t||0==t.length)return i.default.createElement(u.default,{title:"员工"},i.default.createElement("table",{style:T.table_brief},i.default.createElement("tbody",null,i.default.createElement("tr",null,i.default.createElement("td",null,"暂无员工信息")))));t.length>5&&(t=t.slice(0,5));var r=function(){setTimeout(function(){e.props.cursor.select("tab_index").set(w.tab_type.staff)},100),scroll(0,0)};return i.default.createElement(u.default,{title:"员工",foot:"查看更多员工",onFootClicked:r},i.default.createElement("div",{style:(0,l.padding)("0px","20px","0px","20px")},i.default.createElement("table",{style:T.table_brief},i.default.createElement("tbody",null,i.default.createElement("tr",null,t.map(function(e){return i.default.createElement("td",null,i.default.createElement(m.default,{contact:e.contact}))}))))))},renderJob:function(){var e=this,t=this.props.cursor.select("jobs","data").get();if(!t||0==t.length)return i.default.createElement(u.default,{title:"在职招聘"},i.default.createElement("table",{style:T.table_brief},i.default.createElement("tbody",null,i.default.createElement("tr",null,i.default.createElement("td",null,"暂无招聘信息")))));t.length>3&&(t=t.slice(0,3));var r=function(){setTimeout(function(){e.props.cursor.select("tab_index").set(w.tab_type.job)},100),scroll(0,0)};return i.default.createElement(u.default,{title:"在职招聘",foot:this.props.cursor.select("jobs","data").get().length>3?"查看在招更多职位":null,onFootClicked:r},i.default.createElement("ul",{className:"list-group",style:(0,l.margin)("-1px","0px","0px","0px")},t.map(function(t){return i.default.createElement(g.default,{key:t.job.id,avatar:t.job.clogo,line1:t.job.position,line2:t.job.area_1,line3:t.job.area_2,clickHandler:function(){e.props.inapp?(0,C.default)(t.job.share_url,"职位详情"):e.props.doReg("job_detail")},className:"PCListGroupItem cursor-pointer"})})))},renderFeed:function(){var e=this,t=this.props.cursor.select("feeds").get();if(!t||0==t.length)return i.default.createElement(u.default,{title:"动态"},i.default.createElement("div",null,"暂无内容"));t.length>3&&(t=t.slice(0,3));var r=function(){setTimeout(function(){e.props.cursor.select("tab_index").set(w.tab_type.circle)},100),scroll(0,0)};return i.default.createElement(u.default,{title:"动态",foot:this.props.cursor.select("feeds").get().length>3?"查看更多动态":null,onFootClicked:r},i.default.createElement("div",null,i.default.createElement("ul",{className:"list-group"},t.map(function(e){return i.default.createElement(v.default,{key:e.feed.uid,feed:e,className:"PCListGroupItem clearfix cursor-pointer"})}))))},renderComments:function(){var e=this,t=this.props.cursor.select("comments").get();if(!t||0==t.length)return i.default.createElement(u.default,{title:"点评"},i.default.createElement("div",null,"该公司还没有被点评过"));t.length>3&&(t=t.slice(0,3));var r=this.props.cursor.select("data","cinfo","fullname").get(),a=function(){setTimeout(function(){e.props.cursor.select("tab_index").set(w.tab_type.comment)},100),scroll(0,0)};return i.default.createElement(u.default,{title:"点评",foot:this.props.cursor.select("comments").get().length>3?"查看更多点评":null,onFootClicked:a},i.default.createElement("div",null,t.length>0&&i.default.createElement("ul",{className:"list-group"},t.map(function(t,a){return i.default.createElement(_.default,{key:t.comment._id,listCursor:e.props.cursor.select("comments"),comment:t.comment,user:t.user,cname:r,index:a,className:"PCListGroupItem cursor-pointer",onClick:function(){e.props.inapp||e.props.do_Reg("comment_detail")}})}))))},renderGossip:function(){var e=this,t=this.props.cursor.select("gossips","data").get();if(!t||0==t.length)return i.default.createElement(u.default,{title:"八卦"},i.default.createElement("div",null,"暂无内容"));t.length>3&&(t=t.slice(0,3));var r=function(){setTimeout(function(){e.props.cursor.select("tab_index").set(w.tab_type.gossip)},100),scroll(0,0)};return i.default.createElement(u.default,{title:"八卦",foot:this.props.cursor.select("gossips","data").get().length>3?"查看更多八卦":null,onFootClicked:r},i.default.createElement("div",null,i.default.createElement("ul",{className:"list-group"},t.map(function(t){return i.default.createElement(x.default,{key:t.gossip.id,avatar:t.gossip.avatar,gossip:t,searchItem:!0,className:"PCListGroupItem cursor-pointer",onClick:function(){e.props.inapp?j.default.openDetail(t.gossip):e.props.doReg("gossip_detail")}})}))))},render:function(){return i.default.createElement("div",null,this.renderCompanyInfo(),this.renderBusinessCard(),this.renderContact(),this.renderJob(),this.renderFeed(),this.renderGossip(),this.renderComments())}});var T={content:{position:"relative",width:"65%",marginLeft:"auto",marginRight:"auto"},comHead:{background:"#ffffff",paddingTop:"58px"},comHeader:{zIndex:3,position:"relative",marginLeft:"10px",marginTop:"40px"},comHeadBg:{width:"100%",height:"140px",position:"absolute",left:0,top:0,zIndex:2,background:"url(/static/images/peng_images/c4.jpg) no-repeat center center",backgroundSize:"cover"},img:{border:"1px solid white",width:80,height:80},table_brief:{width:"100%",maxWidth:"100%",tableLayout:"fixed",marginBottom:"10px"},table:{marginBottom:-1,tableLayout:"fixed"},table1:{marginBottom:0,tableLayout:"fixed"},show:{display:"block",marginTop:0},hide:{display:"none"},text:{fontSize:"20px"}}},1534:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),o=a(n),s=r(1034),i=r(78),l=a(i);e.exports=o.default.createClass({displayName:"exports",contextTypes:{fconf:o.default.PropTypes.object,auth_info:o.default.PropTypes.object,req:o.default.PropTypes.object},click:function(){this.context.auth_info.u>0?(0,l.default)(this.props.contact.encode_mmid||this.props.contact.mmid,this.context):(0,s.launch_pc_pop_register)({frm:"ucell"})},render:function(){return o.default.createElement("div",{style:{textAlign:"center"},className:"small cursor-pointer",onClick:this.click},o.default.createElement("img",{className:"img-circle",src:this.props.contact.avatar,style:c.img}),o.default.createElement("div",{className:"m-t"},this.props.contact.name),o.default.createElement("div",null,this.props.contact.position," ",this.props.contact.judge?o.default.createElement("span",{className:"add_v_img"}):""))}});var c={img:{width:55,height:55}}},1535:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=r(1),s=a(o),i=r(981),l=(a(i),r(165)),c=a(l),u=r(75),f=a(u),d=r(15),p=a(d),m=r(984),h=r(270),g=a(h),y=r(1022),_=a(y),b=r(1034),v=r(982),E=r(1015).tab_type;e.exports=s.default.createClass({displayName:"exports",contextTypes:{auth_info:s.default.PropTypes.object,fconf:s.default.PropTypes.object,req:s.default.PropTypes.object},doRegister:function(e){var t={frm:e,frmw:this.props.company};(0,b.launch_pc_pop_register)(t)},componentDidMount:function(){this.nextPage=1},loadMore:function(){var e=this,t=this.context,r=t.auth_info,a=t.req,o=this.props.cursor.select("contacts").get(),s="/sdk/company/pc_contacts?"+p.default.stringify(n({count:10,page:this.nextPage,cid:this.props.cursor.select("data","cinfo","cid").get(),company:this.props.cursor.select("data","cinfo","name").get(),forcomp:"1",highlight:"false",jsononly:1,webcid:a.query.webcid,webcname:a.query.fullname||a.query.webcname,offset:o.data.length},r));fetch(s,{credentials:"same-origin"}).then(f.default.parse_online_json).then(function(t){e.nextPage++,e.props.cursor.select("contacts","data").concat(t.data),e.props.cursor.select("contacts","more").set(t.more)}).catch(function(e){f.default.toast_error_handler(e)})},renderEmpty:function(){var e=this.props.cursor.select("contacts").get();if(!e||0==e.data.length)return s.default.createElement("div",{style:(0,m.margin)("70px","0px","0px","0px"),className:"text-light text-center small"},s.default.createElement("img",{src:"/static/images/no_result_icon.png",style:(0,m.size)(60)}),s.default.createElement("div",null,"暂无员工信息"))},render:function(){var e=this,t=this.props.cursor.select("contacts").get(),r=this.props.cursor.select("tab_index").get()==E.staff,a=this.props.inapp?null:s.default.createElement("button",{className:"btn btn-sm btn-primary-outline"}," +好友");return s.default.createElement("div",{className:t.data.length>0?"panel panel-default":""},s.default.createElement(_.default,{title:"员工"},s.default.createElement(v,{loadMore:this.loadMore,hasMore:this.props.cursor.select("inapp").get()&&r&&t.more>0,loader:s.default.createElement(c.default,{ref:"loader",reload:this.loadMore,cursor:this.props.cursor.select("staff_loading_status")})},t.data.length>0&&s.default.createElement("ul",{className:"list-group",style:(0,m.margin)("-1px","0px","0px","0px")},t.data.map(function(e){return s.default.createElement(g.default,{key:e.contact.id,contact:e.contact,className:"PCListGroupItem",children:a,onClick:function(){window.location=e.contact.share_url}})})),!this.props.inapp&&s.default.createElement("ul",{className:"list-group",style:{textAlign:"center"}},s.default.createElement("div",{style:{padding:15,fontSize:15}},"加入脉脉,结识更多",this.props.data.cinfo.name,"人脉"),s.default.createElement("div",{className:"btn btn-xsm btn-secondary btn-block",style:{width:200,marginLeft:"auto",marginRight:"auto",marginBottom:10},onClick:function(){e.props.doReg("employee_bottom")}},"立即注册"))),this.renderEmpty()))}})},1536:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=r(1),s=a(o),i=r(1061),l=a(i),c=r(984),u=r(46),f=a(u),d=r(15),p=a(d),m=r(113),h=r(76),g=a(h),y=r(75),_=r(1022),b=a(_),v=r(1087),E=a(v);e.exports=s.default.createClass({displayName:"exports",contextTypes:{auth_info:s.default.PropTypes.object,fconf:s.default.PropTypes.object},componentDidMount:function(){(0,m.bindBroadcast)("company_pub_comment",this.onPubSuccess)},componentWillUnmount:function(){(0,m.unbindBroadcast)("company_pub_comment",this.onPubSuccess)},onPubSuccess:function(e){var t=this.props.cursor.select("comments"),r=this.props.cursor.select("data","cinfo","cid").get();e.comment.cid==r&&t.unshift(e)},renderEmpty:function(){if(0==this.props.cursor.select("comments").get().length)return s.default.createElement("div",{style:(0,c.margin)("70px","0px","0px","0px"),className:"text-light text-center small"},s.default.createElement("img",{src:"/static/images/no_result_icon.png",style:(0,c.size)(60)}),s.default.createElement("div",null,"该公司还没有被点评过"))},onPub:function(){var e=this,t=this.context,r=t.auth_info,a=(t.req,"/sdk/company/will_pub_comment?"+p.default.stringify(n({},r)));fetch(a,{credentials:"same-origin"}).then(y.parse_online_json).then(function(t){try{var r="",a=e.props.cursor.select("data","cinfo","cid").get(),n=t.data,o=n.me,s=n.cur_work,i=n.work_exp,l=n.company_infos;if(o.judge){if(a!=s.cid){for(var c=0;c<i.length;c++)if(l[c].cinfo.cid==a){if(i[c].judge){console.log("judged company");break}r="请认证您在该公司的经历之后再发布点评"}r||c!=i.length||(r="您缺少在该公司任职的经历，无法发布点评")}}else r="只有加V用户才可以点评公司";if(r)(0,g.default)(r),console.log(r);else{var u=e.context,d=(u.auth_info,u.fconf,"/company/pub_comment?"+p.default.stringify({cid:a}));(0,f.default)(d,"发布点评",{})}}catch(e){return void alert(e)}}).catch(alert)},render:function(){var e=this,t=this.props.cursor,r=t.select("comments").get(),a=t.select("data_exp").get(),n=(this.context.auth_info,this.props.cursor.select("data","cinfo","fullname").get());return s.default.createElement(b.default,{title:"评论"},s.default.createElement("div",{className:r.length>0?"panel panel-default":""},a.feeds.length>0&&s.default.createElement("ul",{className:"list-group"},a.feeds.map(function(e){return s.default.createElement(E.default,{key:e.id,text:e.text,title:e.title,id:e.id,uinfo:e.uinfo,cinfo:a.cinfo,tag:a.tag,headClass:"m-t-0 clear-right-border clear-left-border"})})),r.length>0&&s.default.createElement("ul",{className:"list-group"},r.map(function(r,a){return s.default.createElement(l.default,{key:r.comment._id,listCursor:t,comment:r.comment,user:r.user,cname:n,index:a,className:"PCListGroupItem cursor-pointer",onClick:function(){e.props.inapp||e.props.doReg("comment_detail")}})})),!this.props.inapp&&s.default.createElement("ul",{className:"list-group",style:{textAlign:"center"}},s.default.createElement("div",{style:{padding:15,fontSize:15}},"加入脉脉,查看更多",this.props.data.cinfo.name,"评论"),s.default.createElement("div",{className:"btn btn-xsm btn-secondary btn-block",style:{width:200,marginLeft:"auto",marginRight:"auto",marginBottom:10},onClick:function(){e.props.doReg("comment_bottom")}},"立即注册")),this.renderEmpty()))}})},1537:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=r(1),s=a(o),i=r(165),l=a(i),c=r(273),u=a(c),f=r(75),d=a(f),p=r(15),m=a(p),h=r(984),g=r(1022),y=a(g),_=r(50),b=a(_),v=r(982),E=r(1015).tab_type;e.exports=s.default.createClass({displayName:"exports",contextTypes:{auth_info:s.default.PropTypes.object,req:s.default.PropTypes.object,fconf:s.default.PropTypes.object},componentDidMount:function(){this.nextPage=1},loadMore:function(){var e=this,t=this.context,r=t.auth_info,a=t.req,o=this.props.cursor.select("jobs").get(),s="/sdk/company/pc_jobs?"+m.default.stringify(n({count:10,page:this.nextPage,cname:this.props.cursor.select("data","cinfo","name").get(),cid:this.props.cursor.select("data","cinfo","cid").get(),highlight:"false",jsononly:1,webcid:a.query.webcid,webcname:a.query.fullname||a.query.webcname,offset:o.data.length},r));fetch(s,{credentials:"same-origin"}).then(d.default.parse_online_json).then(function(t){e.nextPage++,e.props.cursor.select("jobs","data").concat(t.data),e.props.cursor.select("jobs","more").set(t.more)}).catch(function(e){d.default.toast_error_handler(e)})},renderEmpty:function(){var e=this.props.cursor.select("jobs").get();if(!e||0==e.data.length)return s.default.createElement("div",{style:(0,h.margin)("70px","0px","0px","0px"),className:"text-light text-center small"},s.default.createElement("img",{src:"/static/images/no_result_icon.png",style:(0,h.size)(60)}),s.default.createElement("div",null,"暂无职位信息"))},render:function(){var e=this,t=this.props.cursor.select("jobs").get(),r=this.props.cursor.select("tab_index").get()==E.job,a=this.props.inapp?null:s.default.createElement("div",{style:{paddingTop:5,paddingRight:10,float:"right"},className:"media-right"},s.default.createElement("button",{className:"btn btn-sm btn-primary-outline"}," 职位详情"));return s.default.createElement("div",null,s.default.createElement("div",{className:t.data.length>0?"panel panel-default":""},s.default.createElement(y.default,{title:"在职招聘"},s.default.createElement(v,{loadMore:this.loadMore,hasMore:r&&t.more>0&&this.props.cursor.select("inapp").get(),loader:s.default.createElement(l.default,{ref:"loader",reload:this.loadMore,cursor:this.props.cursor.select("job_loading_status")})},t.data.length>0&&s.default.createElement("ul",{className:"list-group",style:(0,h.margin)("-1px","0px","0px","0px")},t.data.map(function(t){return s.default.createElement(u.default,{key:t.job.id,avatar:t.job.clogo,line1:t.job.position,line2:t.job.area_1,line3:t.job.area_2,clickHandler:function(){e.props.inapp?(0,b.default)(t.job.share_url,"职位详情"):e.props.doReg("job_detail")},rightButton:a,className:"PCListGroupItem cursor-pointer"})})),!this.props.inapp&&s.default.createElement("ul",{className:"list-group",style:{textAlign:"center"}},s.default.createElement("div",{style:{padding:15,fontSize:15}},"加入脉脉,发现更多",this.props.data.cinfo.name,"职位"),s.default.createElement("div",{className:"btn btn-xsm btn-secondary btn-block",style:{width:200,marginLeft:"auto",marginRight:"auto",marginBottom:10},onClick:function(){e.props.doReg("job_bottom")}},"立即注册"))),this.renderEmpty())))}})},1538:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=r(1),s=a(o),i=r(1260),l=a(i),c=r(165),u=a(c),f=r(15),d=a(f),p=r(75),m=a(p),h=r(1022),g=a(h),y=r(1015).tab_type,_=r(982);e.exports=s.default.createClass({displayName:"exports",loadMoreFeeds:function(){try{var e=this.context.auth_info,t=this.props.cursor,r=this.props.cursor.select("feeds").get(),a="/sdk/company/more_feeds?"+d.default.stringify(n({cname:this.props.cursor.select("data","cinfo","fullname").get(),skip:r.length},e));fetch(a,{credentials:"same-origin"}).then(m.default.parse_online_json).then(function(e){e.feeds&&e.feeds.length>0?t.select("feeds").concat(e.feeds):t.select("end").set(1)}).catch(alert)}catch(e){alert(e)}},render:function(){var e=this,t=this.props.cursor.select("tab_index").get()==y.circle;return s.default.createElement(g.default,{title:"动态"},s.default.createElement(_,{hasMore:this.props.cursor.select("inapp").get()&&t&&!this.props.cursor.select("end").get(),loadMore:this.loadMoreFeeds,loader:s.default.createElement(u.default,{ref:"loader",reload:this.loadMoreFeeds,cursor:this.props.cursor.select("loading_status")})},s.default.createElement("div",{className:"panel panel-default"},s.default.createElement("ul",{className:"list-group"},this.props.cursor.select("feeds").get().map(function(e,t){return s.default.createElement(l.default,{key:e.feed.uid,feed:e,className:"PCListGroupItem clearfix cursor-pointer"})})),!this.props.inapp&&s.default.createElement("ul",{className:"list-group",style:{textAlign:"center"}},s.default.createElement("div",{style:{padding:15,fontSize:15}},"加入脉脉,查看更多",this.props.data.cinfo.name,"动态"),s.default.createElement("div",{className:"btn btn-xsm btn-secondary btn-block",style:{width:200,marginLeft:"auto",marginRight:"auto",marginBottom:10},onClick:function(){e.props.doReg("feed_bottom")}},"立即注册")))))}})},1539:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o=r(1),s=a(o),i=r(165),l=a(i),c=r(75),u=a(c),f=r(15),d=a(f),p=r(984),m=r(50),h=(a(m),r(1033)),g=a(h),y=r(1022),_=a(y),b=r(289),v=r(982),E=r(1015).tab_type;e.exports=s.default.createClass({displayName:"exports",contextTypes:{auth_info:s.default.PropTypes.object,req:s.default.PropTypes.object,fconf:s.default.PropTypes.object},componentDidMount:function(){this.nextPage=1},loadMore:function(){var e=this,t=this.context,r=t.auth_info,a=t.req,o=this.props.cursor.select("gossips").get(),s="/sdk/company/pc_gossips?"+d.default.stringify(n({count:10,page:this.nextPage,cname:this.props.cursor.select("data","cinfo","name").get(),cid:this.props.cursor.select("data","cinfo","cid").get(),highlight:"false",jsononly:1,webcid:a.query.webcid,webcname:a.query.fullname||a.query.webcname,offset:o.data.length},r));fetch(s,{credentials:"same-origin"}).then(u.default.parse_online_json).then(function(t){e.nextPage++,e.props.cursor.select("gossips","data").concat(t.data),e.props.cursor.select("gossips","more").set(t.more)}).catch(function(e){u.default.toast_error_handler(e)})},renderEmpty:function(){var e=this.props.cursor.select("gossips").get();if(!e||0==e.data.length)return s.default.createElement("div",{style:(0,p.margin)("70px","0px","0px","0px"),className:"text-light text-center small"},s.default.createElement("img",{src:"/static/images/no_result_icon.png",style:(0,p.size)(60)}),s.default.createElement("div",null,"暂无相关八卦信息"))},render:function(){var e=this,t=this.props.cursor.select("gossips").get(),r=this.props.cursor.select("tab_index").get()==E.gossip;return s.default.createElement(_.default,{title:"八卦"},s.default.createElement("div",{className:t.data.length>0?"panel panel-default":""},s.default.createElement(v,{loadMore:this.loadMore,hasMore:r&&t.more>0&&this.props.cursor.select("inapp").get(),loader:s.default.createElement(l.default,{ref:"loader",reload:this.loadMore,cursor:this.props.cursor.select("gossip_loading_status")})},t.data.length>0&&s.default.createElement("ul",{className:"list-group",style:(0,p.margin)("-1px","0px","0px","0px")},t.data.map(function(t){return s.default.createElement(g.default,{key:t.gossip.id,avatar:t.gossip.avatar,gossip:t,searchItem:!0,className:"PCListGroupItem cursor-pointer",onClick:function(){e.props.inapp?(0,b.openDetail)(t.gossip):e.props.doReg("gossip_detail")}})})),!this.props.inapp&&s.default.createElement("ul",{className:"list-group",style:{textAlign:"center"}},s.default.createElement("div",{style:{padding:15,fontSize:15}},"加入脉脉,查看更多",this.props.data.cinfo.name,"八卦"),s.default.createElement("div",{className:"btn btn-xsm btn-secondary btn-block",style:{width:200,marginLeft:"auto",marginRight:"auto",marginBottom:10},onClick:function(){e.props.doReg("gossip_bottom")}},"立即注册"))),this.renderEmpty()))}})},304:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=r(1),o=a(n),s=r(1508),i=a(s),l=r(1531),c=a(l),u=r(1157);e.exports=o.default.createClass({displayName:"exports",statics:{hideLogin:function(){return!0}},componentDidMount:function(){(0,u.storeRegfrInfo)()},render:function(){return this.props.from_pc?o.default.createElement(c.default,this.props):o.default.createElement(i.default,this.props)}})},690:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,l,c=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),u=r(1),f=a(u),d=r(75),p=r(981),m=a(p),h=r(15),g=a(h),y=r(1033),_=a(y),b=r(46),v=a(b),E=r(50),x=(a(E),r(165)),w=a(x),N=r(115),C=r(982),k=r(63),j=r(986);t.default=e.exports=(l=i=function(e){function t(){var e,r,a,s;n(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return r=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.getChildContext=function(){return k.getChildContext(a)},a.openOutApp=function(){(0,N.launch_webview)()},a.loadMore=function(){var e=a.context,t=(e.fconf,e.req),r=(e.auth_info,a.props.cursor),n=a.refs.loader;n&&n.bindRequest(function(){var e=20*a.nextPage,n="/company/gossips?"+g.default.stringify({query:t.query.query,limit:20,offset:e,searchTokens:t.query.searchTokens,highlight:t.query.highlight||"false",webcname:t.query.webcname,jsononly:1});return fetch(n,{credentials:"same-origin"}).then(d.parse_online_json).then(function(e){r.select("gossips").concat(e.data.gossips),r.select("more").set(e.data.more),a.nextPage++})})},a.gotoDetail=function(e,t){(0,v.default)(t.gossip.share_url,"八卦详情"),e.stopPropagation()},s=r,o(a,s)}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.nextPage=1}},{key:"render",value:function(){var e=this,t=this.props,r=t.gossips,a=t.cursor,n=t.more,o=t.outapp,s=t.from,i=this.context,l=i.req;i.auth_info;return f.default.createElement("div",null,"company_home"!==s&&f.default.createElement(m.default,{title:l.query.title||"更多八卦"}),f.default.createElement(C,{loadMore:this.loadMore,hasMore:1==n&&!o,loader:f.default.createElement(w.default,{ref:"loader",reload:this.loadMore,cursor:a.select("loading_status")})},f.default.createElement("div",{className:"panel panel-default"},f.default.createElement("ul",{className:"list-group"},r.map(function(t){return f.default.createElement(_.default,{key:t.gossip.id,avatar:t.gossip.avatar,gossip:t,onClick:t.gossip.share_url?function(r){return e.gotoDetail(r,t)}:void 0})})))),o&&f.default.createElement(j,{onClick:this.openOutApp,title:"注册脉脉查看更多八卦"}))}}]),t}(f.default.Component),i.contextTypes={req:f.default.PropTypes.object,fconf:f.default.PropTypes.object,auth_info:f.default.PropTypes.object},i.childContextTypes=k.contentTypes,l)}});