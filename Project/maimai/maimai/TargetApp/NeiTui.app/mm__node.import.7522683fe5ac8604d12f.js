webpackJsonp([125],{1147:function(e,t,r){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},a=(r(992),r(113),r(167),r(78)),n=function(e){return e&&e.__esModule?e:{default:e}}(a),c=r(1),s=r(41),i=(r(50),r(46)),l=r(75),u=(l.parse_online_json,l.toast_error_handler,r(15)),f=r(270),d=r(164),h=(d.nativeAddFriend,d.completeRealProfile,d.refreshPageSilent,c.createClass({displayName:"FastContactBatchCard",mixins:[s],contextTypes:{fconf:c.PropTypes.object,auth_info:c.PropTypes.object,req:c.PropTypes.object},getInitialState:function(){return{is_check:0}},goUhchat:function(e){e.stopPropagation();var t=this.props.contact;i("/uh_chat?"+u.stringify({u2:t.id,from:"fc_search"}),"极速联系","fetch")},nullFuc:function(e){e.stopPropagation()},goDetail:function(e){var t=this.props,r=t.contact,a=(t.cursor,this.context),c=a.auth_info,s=a.fconf;a.req;if(e.stopPropagation(),r.search_qs&&r.search_order){var i=s.online_url+"search/web/s_pb?"+u.stringify(o({srcu:c.u,type:"contact",targetid:r.mmid,order:r.search_order,qs:r.search_qs},c));fetch(i)}(0,n.default)(r.encode_mmid||r.mmid,this.context,{outofrel:r.outofrel})},render:function(){var e=(this.context.auth_info,this.props),t=e.contact,r=e.cursor;return c.createElement(f,{onClick:this.goDetail,contact:t,hideDist:!0,member_icon:this.props.member_icon,openMyMember:this.props.openMyMember,show_large_comps:this.props.show_large_comps,show_large_school:this.props.show_large_school},0==r.select("contact","is_fc").get()||0==r.select("is_fc").get()?c.createElement("div",{className:"fast_click_btn",style:p.noPaddingRight,onClick:this.goUhchat},"极速联系"):c.createElement("div",{className:"fast_disable_btn",style:p.noPaddingRight,onClick:this.nullFuc},"已联系过"))}})),p={done:{marginTop:6,height:40,lineHeight:"40px",verticalAlign:"middle",backgroundColor:"#efefef"},buttons:{marginTop:6,height:40},button:{display:"inline-block",width:"50%",paddingLeft:4,paddingRight:4},noPaddingRight:{marginRight:"-10px",marginTop:"6px"}};e.exports=h},739:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,i,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),f=r(1),d=o(f),h=r(75),p=r(981),m=o(p),_=r(15),y=o(_),g=r(46),b=o(g),v=r(165),w=o(v),q=r(996),E=(o(q),r(283),r(1021)),P=(o(E),r(1007)),j=(o(P),r(1020)),x=o(j),M=r(1147),C=o(M),k=r(270),T=r(982),O=r(63),R=r(990),N=(r(1009),r(17)),L=(r(164).getCache,r(164).putCache);t.default=e.exports=(i=s=function(e){function t(){var e,r,o,c;a(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return r=o=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={srch_member_tips_click:1},o.getChildContext=function(){return o.context.req.query.talent?l({from:"search_talent_search"},O.getChildContext(o)):O.getChildContext(o)},o.loadMore=function(){var e=o.context,t=(e.fconf,e.req),r=e.auth_info,a=o.props,n=a.cursor,c=(a.searchTokens,o.refs.loader);c&&c.bindRequest(function(){var e="/search/uh_adsearch?"+y.default.stringify(N.extend(t.query,l({o:o.props.adsearch.off+o.props.adsearch.limit,lim:o.props.adsearch.limit,jsononly:1},r)));return fetch(e,{credentials:"same-origin"}).then(h.parse_online_json).then(function(e){n.select("adsearch","ucards").concat(e.data.adsearch.ucards),n.select("adsearch","more").set(e.data.adsearch.more),n.select("adsearch","off").set(e.data.adsearch.off),n.select("adsearch","limit").set(e.data.adsearch.limit)})})},o.openMember=function(){(0,b.default)("/uh_memlist?tpl=show&fr=search_tips","会员中心","fetch"),L("srch_member_tips_click",1),o.setState({srch_member_tips_click:1})},o.goMember=function(){(0,b.default)("/uh_memlist?tpl=show&fr=search_page","会员中心","fetch")},o.goUhchat=function(e,t){e.stopPropagation(),(0,b.default)("/uh_chat?"+y.default.stringify({u2:t.id,from:"adsearch"}),"极速联系","fetch")},o.singleCB=function(e){},o.openMyMember=function(e){e.stopPropagation(),(0,b.default)("/uh_memlist?tpl=show&fr=fc_adsearch","会员权益","fetch")},o.renderHeadLoader=function(){return d.default.createElement("div",null,d.default.createElement("div",{className:"searchList"},d.default.createElement(w.default,{ref:"loading",reload:o.onReload,failed:o.props.failed})))},o.renderEmptyResult=function(){o.query||o.context.req.query.query;return d.default.createElement("div",null,d.default.createElement(m.default,{title:"高级搜索"}),d.default.createElement("div",{className:"searchList",style:R.empty},"没有找到相关结果"),!1)},c=r,n(o,c)}return c(t,e),u(t,[{key:"componentWillMount",value:function(){if("undefined"!=typeof window){var e=this.context.req;this.query=e.query.query,this.province=e.query.province,this.city=e.query.city,this.profession=e.query.profession,this.major=e.query.major,this.w=e.query.w}}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,r=t.adsearch,o=t.cursor,a=(t.hotwords,r.ucards),n=r.more,c=this.context,s=c.req,i=c.auth_info,l=a;if(this.props.loading||this.props.failed)return this.renderHeadLoader();this.query||s.query.query;if(0==l.length)return this.renderEmptyResult();var u=this.props.mycard;return u&&1!=u.mem_st&&!0,d.default.createElement("div",null,d.default.createElement(m.default,{title:"高级搜索"}),d.default.createElement("div",{className:""},d.default.createElement(T,{loadMore:this.loadMore,hasMore:n>0&&i.u>0,loader:d.default.createElement(w.default,{ref:"loader",reload:this.loadMore,cursor:o.select("loading_status")})},d.default.createElement("div",{className:"panel panel-default"},d.default.createElement("ul",{className:"list-group"},l.map(function(t,r){var a=!1;return 1==t.mem_st&&(a=!0),1==t.dist||0==t.dist?d.default.createElement(k,{key:t.mmid,contact:t}):t.outofrel?d.default.createElement(x.default,{contact:t,key:t.id,from:"webview#/search/contacts",cursor:o.select("adsearch","ucards",r),search:!0,mycard:e.props.mycard}):d.default.createElement(C.default,{contact:t,from:"webview#/search/fc_adsearch",singleCB:e.singleCB,search:!0,cursor:o.select("adsearch","ucards",r),member_icon:a,openMyMember:e.openMyMember,show_large_comps:!0,show_large_school:!0})}))))))}}]),t}(d.default.Component),s.contextTypes={req:d.default.PropTypes.object,fconf:d.default.PropTypes.object,auth_info:d.default.PropTypes.object},s.childContextTypes=l({from:d.default.PropTypes.string},O.contentTypes),i)}});