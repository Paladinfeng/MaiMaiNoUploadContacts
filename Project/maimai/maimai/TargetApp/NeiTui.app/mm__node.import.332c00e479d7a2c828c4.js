webpackJsonp([118],{1470:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var s=a(1),c=n(s),r=a(78),i=n(r),o=a(116),l=n(o),d=a(115);t.exports=c.default.createClass({displayName:"exports",contextTypes:{auth_info:c.default.PropTypes.object,fconf:c.default.PropTypes.object,req:c.default.PropTypes.object},goToDetail:function(){if(this.context.auth_info.u<0)return void(0,d.launch_webview)();var t=this.props.contact.card;(0,i.default)(t.encode_mmid||t.mmid||t.id,this.context)},render:function(){var t=l.default.FRDESCS[this.props.contact.card.lv];return c.default.createElement("div",null,c.default.createElement("div",{className:"friend_card"},c.default.createElement("div",{className:"friend_card_info text-center"},"r",c.default.createElement("div",{className:"friend_avatar_box"},c.default.createElement("img",{className:"media-object cursor-pointer",id:this.props.image_id,src:this.props.contact.card.avatar})),c.default.createElement("div",{className:"text-content",style:{marginTop:"20px"}},this.props.contact.card.name),c.default.createElement("div",{className:"text-muted m-b-5"},c.default.createElement("span",{className:"add_v_img2"},this.props.contact.card.company+this.props.contact.card.position)),c.default.createElement("div",{className:"text-muted small"},t,this.props.contact.at_time?"，"+this.props.contact.at_time:"")),c.default.createElement("div",{className:"friend_card_words p-y p-x m-t-10"},c.default.createElement("div",{className:"text-orange font-16 m-b-5"},"影响力:"+this.props.contact.card.rank),c.default.createElement("div",{className:"text-content m-b-5"},this.props.contact.company),c.default.createElement("div",{className:"text-content m-b-5"},this.props.contact.school),c.default.createElement("div",{className:"text-content m-b-5"},this.props.contact.work_year),c.default.createElement("div",{className:"text-content m-b-5"},this.props.contact.tags)),c.default.createElement("div",{className:"media-middle",style:{padding:"8px 15px"},onClick:this.goToDetail},c.default.createElement("div",{className:"media-body text-info"},"查看人脉详情"),c.default.createElement("div",{className:"media-right"},c.default.createElement("span",{className:"arrow-bg"})))))}})},791:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},c=a(1),r=n(c),i=a(1091),o=n(i),l=a(1470),d=n(l),u=a(75),p=n(u),f=a(15),m=n(f),h=a(17),_=n(h),v=a(275),x=n(v),g=a(981),y=n(g),E=a(983),w=n(E),b=a(115),N=a(998),T=n(N);t.exports=r.default.createClass({displayName:"exports",mixins:[x.default],contextTypes:{auth_info:r.default.PropTypes.object,fconf:r.default.PropTypes.object,req:r.default.PropTypes.object},componentDidMount:function(){var t=this.props,e=t.cursor,a=t.current;document.body.style.background="rgba(0,0,0,0.7)",window.native_image_data=T.default,e.select("url").set(document.location.origin),this.setTimeout(function(){var t=window.document.getElementsByClassName("friend_card");if(t.length>a+1){var e=t[a+1].parentElement.parentElement,n=e.style,s=Math.floor(.92*e.style.width.substring(0,e.style.width.length-2)),c="translate("+s+"px, 0px) translateZ(0px)";n.transform=c}},50)},componentDidUpdate:function(){this.refs.reactSwipe&&(this.refs.reactSwipe.swipe.stop(),this.refs.reactSwipe.swipe.setup(),this.swipeTo(this.props.current))},onSwipe:function(t){this.props.cursor.select("current").set(t),t==this.props.contacts.contacts.length-1&&this.loadNext()},swipeTo:function(t){this.refs.reactSwipe.swipe.slide(t,1)},updateReactSwipe:function(){return!0},loadNext:function(){var t=this,e=this.props,a=e.cursor,n=e.next_loading;if(this.props.contacts.has_more&&!n){a.select("next_loading").set(!0);var c=this.context.auth_info,r=s({cu:_.default.last(this.props.contacts.contacts).card.id,next:!0},c),i="/sdk/contact/get_new_friends?"+m.default.stringify(r);fetch(i,{credentials:"same-origin"}).then(p.default.parse_online_json).then(function(t){a.select("next_loading").set(!1),a.select("contacts","contacts").concat(t.data.contacts),a.select("contacts","has_more").set(t.data.has_more)}).catch(function(){a.select("next_loading").set(!1),t.setTimeout(function(){t.loadNext()},1e4)})}},share:function(){if(this.context.auth_info.u<0)return void(0,b.launch_webview)();MaiMai_Native.native_share(1)},renderClientMessage:function(){var t=this.props.cursor,e=this.context.req,a=this.props,n=a.my,s=a.current,c=a.contacts,i=n.name+"在脉脉与"+c.contacts[s].card.name+"成为了好友",o=t.select("url").get()+e.pathname+"?"+m.default.stringify({cu:c.contacts[s].card.id,mu:e.query.mu}),l={title:i,desc:i+"快来看看",url:o,card_type:4,icon_callback:'native_image_data("user_avatar")'};return r.default.createElement(w.default,{msg_to_app:{share_info:l}})},render:function(){var t=this.context.auth_info,e=this.props,a=e.my,n=e.current,s=a.name+"新认识的好友";return r.default.createElement("div",null,r.default.createElement(y.default,{title:s}),this.renderClientMessage(),r.default.createElement(o.default,{className:"friend_center",ref:"reactSwipe",continuous:!1,startSlide:this.props.current,callback:this.onSwipe,shouldUpdate:this.updateReactSwipe},this.props.contacts.contacts.map(function(t,e){return r.default.createElement("div",null,r.default.createElement(d.default,{contact:t,image_id:e==n?"user_avatar":""}))})),t.u>0&&r.default.createElement("div",{className:"share_friend_card_btn p-x p-y-10 text-center",onClick:this.share},r.default.createElement("span",{className:"share_black_icon"},"晒一晒我与TA的关系")))}})}});