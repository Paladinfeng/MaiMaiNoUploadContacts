webpackJsonp([262],{868:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,c,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),f=o(s),p=n(75),d=n(981),b=o(d),h=n(15),y=o(h),j=n(273),m=o(j),_=n(165),g=o(_),v=n(115),w=n(50),q=n(982),x=n(63),E=n(986);t.default=e.exports=(c=l=function(e){function t(){var e,n,o,u;r(this,t);for(var l=arguments.length,c=Array(l),i=0;i<l;i++)c[i]=arguments[i];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.getChildContext=function(){return x.getChildContext(o)},o.openOutApp=function(){(0,v.launch_webview)()},o.loadMore=function(){var e=o.context,t=(e.fconf,e.req),n=(e.auth_info,o.props.cursor),r=o.refs.loader;r&&r.bindRequest(function(){var e="/company/jobs?"+y.default.stringify({count:20,page:o.nextPage,query:t.query.query,cname:t.query.cname,cid:t.query.cid,searchTokens:t.query.searchTokens,highlight:t.query.highlight||"false",webcname:t.query.webcname,webcid:t.query.webcid,jsononly:1});return fetch(e,{credentials:"same-origin"}).then(p.parse_online_json).then(function(e){n.select("jobs").concat(e.data.jobs),n.select("count").set(e.data.count),o.nextPage++})})},u=n,a(o,u)}return u(t,e),i(t,[{key:"componentDidMount",value:function(){this.nextPage=1}},{key:"render",value:function(){var e=this,t=this.props,n=t.jobs,o=t.cursor,r=t.count,a=t.outapp,u=this.context,l=u.req,c=u.auth_info;return f.default.createElement("div",null,f.default.createElement(b.default,{title:l.query.title||"更多职位"}),f.default.createElement(q,{loadMore:this.loadMore,hasMore:r>0&&c.u>0&&!a,loader:f.default.createElement(g.default,{ref:"loader",reload:this.loadMore,cursor:o.select("loading_status")})},f.default.createElement("div",{className:"panel panel-default"},f.default.createElement("ul",{className:"list-group"},n.map(function(t){return f.default.createElement(m.default,{key:t.job.id,avatar:t.job.clogo,line1:t.job.position,line2:t.job.area_1,line3:t.job.area_2,dist:t.job.user.dist<3&&t.job.user.dist,clickHandler:w.bind(e,t.job.share_url,"职位详情")})})))),a&&f.default.createElement(E,{onClick:this.openOutApp,title:"注册脉脉查看更多职位"}))}}]),t}(f.default.Component),l.contextTypes={req:f.default.PropTypes.object,fconf:f.default.PropTypes.object,auth_info:f.default.PropTypes.object},l.childContextTypes=x.contentTypes,c)}});