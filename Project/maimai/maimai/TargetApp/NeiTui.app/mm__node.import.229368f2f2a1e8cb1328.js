webpackJsonp([281],{728:function(e,t,a){"use strict";(function(n){function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,d,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(1),m=i(s),f=a(981),_=i(f),b=a(272),y=i(b),v=a(170),w=i(v),h=a(76),x=i(h),g=a(984),E=a(167),N=a(113),k=a(276),M=i(k),P=a(983);t.default=e.exports=(d=u=function(e){function t(e){l(this,t);var a=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.componentDidMount=function(){window.pubExp=a.pubExp;var e=a.props.cursor,t=a.context.req,n=e.select("work_exp").get();(0,N.bindBroadcast)("User_Info_Changed",function(){window.location.reload()}),(0,N.bindBroadcast)("native_publish_exp",function(){window.MaiMai_Native.close_native("",!0)}),t.query.cname&&n.length&&(a.setState({cur:n[0].cur}),a.setState({company:{name:n[0].company,webcid:n[0].company_info.webcid,encodename:n[0].company_info.encodename,cid:n[0].cid}})),n.length||(0,E.showModalForConfirm)({title:"请先完善该公司的工作经历，再发布公司体验",ok_text:"知道了",ok:function(){window.MaiMai_Native.native_add_work_exp?window.MaiMai_Native.native_add_work_exp(!1):window.open("https://maimai.cn/edit_info#addworkbtn")}.bind(a)})},a.getPrame=function(e){e.stopPropagation();var t=n(e.target),i=n(e.currentTarget).attr("name");"company"==i?(a.setState({cur:t.attr("type")||t.parents("li").attr("type")}),a.setState({company:{name:t.attr("name")||t.parents("li").attr("name"),webcid:t.attr("value")||t.parents("li").attr("value"),encodename:t.attr("data-encodename")||t.parents("li").attr("data-encodename"),cid:t.attr("data-cid")||t.parents("li").attr("data-cid")}})):a.setState(r({},i,t.attr("value")||t.parents("li").attr("value")))},a.pubExp=function(){var e=a.state,t=e.company,n=e.anony,i=e.cur,r=a.context,l=r.auth_info,c=r.req;if(1==n)var o=1;else if(i)var o=2;else var o=5;if(t.name&&n&&2!=n){var u=t.webcid;if(t.cid||(u=t.encodename),window.MaiMai_Native.native_publish_exp){var d={target:"pub_exp",title:"发布公司体验",right_button_text:"发布",header_holder:"输入标题（建议含有公司名称，不超过30字）",header_min_limit_tips:"请输入标题",header_max_limit_tips:"标题长度请不超过30字",header_min_limit:0,header_max_limit:30,title_text_holder:"您可以从以下话题中选择3个主题撰写，全篇不少于500字。\n",text_holder:"1、你当初为何选择这家公司？分享您的面试经验\n2、薪酬、福利、晋升、涨薪制度如何？\n3、公司/团队氛围如何？\n4、哪些人或者事令人印象深刻？\n5、您在工作上取得了哪些成绩？\n6、该公司有何优点/不足之处?",min_limit:500,max_limit:1e4,min_limit_tips:"正文内容不少于500字",max_limit_tips:"正文内容不超过10000字",extra_infomation:JSON.stringify({hash:w.default.generateFeedHash(),company:t.name,webcid:u,uid:l.u,anony_type:o,fr:c&&c.query&&c.query.fr||""})};d.ui_tag=44;window.MaiMai_Native.native_publish_exp(JSON.stringify(d));M.default.lt(l.version,"4.17.60")&&window.MaiMai_Native.close_native("",!0)}}else(0,x.default)("请选择展示名称")},a.state={company:{name:"",webcid:"",encodename:"",cid:""},cur:!1,anony:2},a}return o(t,e),p(t,[{key:"render",value:function(){var e=this.state,t=e.company,a=e.anony,n=this.props,i=n.work_exp,r=n.banner_img,l=y.default;return l.top_right_item={title:"下一步",callback:"pubExp()"},m.default.createElement("div",{className:"pub_exp_warp"},l&&m.default.createElement(P,{msg_to_app:l}),m.default.createElement(_.default,{title:"发布公司体验"}),m.default.createElement("div",{className:"tip w-100 p-x p-y-8 bg-orange-fefcec "+(r?"m-b-0":"")},"内容发布后获得50个赞，脉脉即赠送您1个月会员作为赞赏。"),r&&m.default.createElement("div",{className:"w-100 m-b-25"},m.default.createElement("img",{src:r,className:"mx-w-100"})),i.length>0&&m.default.createElement("div",null,m.default.createElement("div",{className:"pub_group"},m.default.createElement("span",{className:"tit"},"选择要评价的公司："),m.default.createElement("ul",{onClick:this.getPrame,name:"company"},i.map(function(e,a){if(a<3)return m.default.createElement("li",{value:e.company_info.webcid,"data-cid":e.cid,"data-encodename":e.company_info.encodename,key:a,name:e.company,type:e.cur},m.default.createElement("div",{className:"pub_radio "+(t.name==e.company?"checked":"")},m.default.createElement("span",null)),m.default.createElement("span",{className:"tip_text"},e.company))}))),m.default.createElement("div",{className:"pub_group"},m.default.createElement("span",{className:"tit"},"是否选择实名发布："),m.default.createElement("ul",{onClick:this.getPrame,name:"anony"},m.default.createElement("li",{value:"1",className:"special"},m.default.createElement("div",{className:"pub_radio "+(1==a?"checked":"")},m.default.createElement("span",null)),m.default.createElement("span",{className:"tip_text"},"我要实名（个人信息将被读者看到并访问，影响力获得提升）")),m.default.createElement("li",{value:"0",className:"special"},m.default.createElement("div",{className:"pub_radio "+(0==a?"checked":"")},m.default.createElement("span",null)),m.default.createElement("span",{className:"tip_text"},"我要匿名（将呈现“XX员工/前员工”状态，个人信息完全保密）"))))),!i.length&&m.default.createElement("div",{style:(0,g.margin)("70px","0px","0px","0px"),className:"text-light text-center small"},m.default.createElement("img",{src:"/static/images/no_result_icon.png",style:(0,g.size)(60)}),m.default.createElement("div",null,"请先完善该公司的工作经历，再发布公司体验")))}}]),t}(m.default.Component),u.contextTypes={req:m.default.PropTypes.object,fconf:m.default.PropTypes.object,auth_info:m.default.PropTypes.object},d)}).call(t,a(280))}});