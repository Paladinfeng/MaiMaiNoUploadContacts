webpackJsonp([136],{1506:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=e.exports=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selected=function(){n.state.selected?n.setState({selected:!1}):n.setState({selected:!0})},n.state={selected:!1},n}return a(t,e),c(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"chooseCityBtn text-center "+(this.props.selected?"citySelected":""),onClick:this.props.onClick},i.default.createElement("a",{href:"javascript:void(0)"},this.props.city_name))}}]),t}(i.default.Component)},854:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,i,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),s=r(f),p=n(981),d=r(p),y=n(75),m=r(y),v=n(15),b=r(v),h=n(114),_=r(h),j=n(1506),E=r(j),x=n(17),O=r(x);t.default=e.exports=(i=l=function(e){function t(){var e,n,r,c;o(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.doRequest=function(e,t,n){var o=r.context,a=o.auth_info,c=o.fconf;O.default.extend(t,a);var l=c.online_url+e+"?"+b.default.stringify(t),i=fetch(l,{credentials:"same-origin"}).then(m.default.parse_online_json).then(function(){n()}).catch(m.default.toast_error_handler);(0,_.default)("设置中...",i)},r.onCellClicked=function(e){var t=r.props,n=t.cursor,o=t.pc,a={province:e};"深圳"!=e&&"广州"!=e||(delete a.province,a.province="广东",a.city=e),"杭州"==e&&(delete a.province,a.province="浙江",a.city=e),O.default.contains(o,e)?r.doRequest("feed/v3/priority_remove",a,function(){var t=O.default.filter(o,function(t){return t!=e});n.select("pc").set(t||[])}):r.doRequest("feed/v3/priority_add",a,function(){n.select("pc").concat([e])})},c=n,a(r,c)}return c(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props.pc,n=["北京","上海","深圳","广州","杭州","浙江","广东"],r=["江苏","山东","河南","河北","四川","福建","湖北","辽宁","陕西","湖南","安徽","山西","黑龙江","天津","重庆","江西","云南","广西","吉林","内蒙古","贵州","新疆","甘肃","海南","宁夏","香港","青海","西藏","台湾","澳门"];return s.default.createElement("div",null,s.default.createElement(d.default,{title:"设置优先关注地区"}),s.default.createElement("div",{className:"m-t-md m-l small"},s.default.createElement("span",{className:"text-muted"},"已关注:"),s.default.createElement("span",{className:"p-x-10"},t.join(","))),s.default.createElement("div",{className:"p-y p-x small text-info"},"热门地区"),s.default.createElement("div",{className:"p-x-10 clearfix"},n.map(function(n){return s.default.createElement(E.default,{key:n,city_name:n,onClick:function(){return e.onCellClicked(n)},selected:O.default.contains(t,n)})})),s.default.createElement("div",{className:"p-y p-x small text-info"},"其它地区"),s.default.createElement("div",{className:"p-x-10 clearfix"},r.map(function(n){return s.default.createElement(E.default,{key:n,city_name:n,onClick:function(){return e.onCellClicked(n)},selected:O.default.contains(t,n)})})))}}]),t}(s.default.Component),l.contextTypes={req:s.default.PropTypes.object,fconf:s.default.PropTypes.object,auth_info:s.default.PropTypes.object,env:s.default.PropTypes.object},i)}});