webpackJsonp([288],{950:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(1),d=l(u),f=a(981),m=l(f),p=a(274),_=l(p),g=a(17),v=(l(g),a(1207)),b=l(v),E=a(278),N=l(E),y=a(282),h=a(113),w=l(h),x=a(170),T=(l(x),a(115),a(50)),j=(l(T),o=r=function(e){function t(){var e,a,l,c;n(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=l=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),l.formatTime=function(e){var t=parseInt(e/60).toString(),a=(e%60).toString();return t+":"+(a>9?a:"0"+a)},c=a,s(l,c)}return c(t,e),i(t,[{key:"componentWillMount",value:function(){(0,y.localeZh)(N.default)}},{key:"componentDidMount",value:function(){_.default.isSupportTansShowTitleMenuBar(this.context)&&_.default.setMenuBarStyle({banner_trans:!0,hideTitle:1}),w.default.bindBroadcast("native_publish_success",function(){window.MaiMai_Native.close_native(null,!0)})}},{key:"componentWillUnmount",value:function(){w.default.sendWebViewBroadcast("course_sign_suc")}},{key:"render",value:function(){var e=_.default.isSupportTansShowTitleMenuBar(this.context)?122:65,t=this.props,a=t.card,l=t.egg,n=t.type,s=t.cont,c=t.total,r=t.img_head,o=t.title,i=this.context.req,u=l.sign_last_date?(0,N.default)(l.sign_last_date):"",f="https://wechat.maimai.cn/sdk/mkt/qrcode?"+b.default.stringify({page:"pages/course_detail/course_detail",scene:"hidx="+i.query.hidx});return d.default.createElement("div",{className:"course_sign_bg"},d.default.createElement(m.default,{title:"脉课堂"}),d.default.createElement("div",{className:"p-relative",style:{paddingTop:e}},d.default.createElement("div",{className:"course_sign_bg_img"},d.default.createElement("img",{className:"mw-100",src:"/static/images/course/course_sign_bg.png"})),d.default.createElement("div",{className:"course_sign_wrapper"},d.default.createElement("div",{className:"course_sign_con"},d.default.createElement("div",{className:"course_sign_user"},d.default.createElement("div",{className:"font-0 avatar-70 m-x-auto m-b-7"},d.default.createElement("img",{className:"radius-50 avatar-70",src:a.avatar})),d.default.createElement("div",{className:"font-17 p-x lineClamp1"},a.name),d.default.createElement("div",{className:"font-14 text-info p-x lineClamp1"},a.company+a.position),l.sign_last_date&&d.default.createElement("div",{className:"course_sign_time"},u.format("dddd")," ",u.format("YYYY.MM.DD"))),d.default.createElement("div",{className:"course_sign_info"},d.default.createElement("div",{className:"fl halfWidth"},d.default.createElement("div",{className:"font-35 text-orange-ffab20 font-bold m-b-10"},c),d.default.createElement("div",{className:"font-12"},2==n?"坚持签到":"坚持学习天数")),d.default.createElement("div",{className:"fl halfWidth"},d.default.createElement("div",{className:"font-35 text-orange-ffab20 font-bold m-b-10"},s),d.default.createElement("div",{className:"font-12"},2==n?"连续签到":"学习课程"))),d.default.createElement("div",{className:"course_sign_line"},d.default.createElement("div",{className:"course_sign_text"},"推荐课程")),d.default.createElement("div",{className:"course_sign_item"},d.default.createElement("div",{className:"media-left"},d.default.createElement("div",{className:"course_sign_item_img"},d.default.createElement("img",{className:"w-100 mw-100",src:r}))),d.default.createElement("div",{className:"media-body"},d.default.createElement("div",{className:"font-16 font-bold m-b-5"},o),d.default.createElement("div",{className:"lineClamp2 m-b-5"},l.title),d.default.createElement("div",{className:"font-12 text-info"},"时长：",this.formatTime(l.duration)))))),d.default.createElement("div",{className:"course_sign_ewm"},l.rtype<4?d.default.createElement("div",{className:"code_warp clearfix"},d.default.createElement("img",{className:"fl code_img",src:f}),d.default.createElement("div",{className:"code_des text-white fl"},d.default.createElement("div",{className:"font-bold"},"长按二维码"),d.default.createElement("div",{className:"font-18 l-h-24 m-b-20"},"立即去听课"),d.default.createElement("div",{className:"font-0"},d.default.createElement("img",{className:"mw-100 code_logo",src:"/static/images/course/code_logo.png"})))):d.default.createElement("img",{className:"mw-100",src:"/static/images/course/course_sign_ewm.png"}))))}}]),t}(d.default.Component),r.contextTypes={req:d.default.PropTypes.object,fconf:d.default.PropTypes.object,env:d.default.PropTypes.object,auth_info:d.default.PropTypes.object,wx_sdk:d.default.PropTypes.object},o);t.default=e.exports=j}});