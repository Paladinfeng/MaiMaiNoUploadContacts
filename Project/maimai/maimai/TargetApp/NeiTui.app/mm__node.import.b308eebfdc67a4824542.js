webpackJsonp([129],{1484:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(c);t.default=e.exports=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.checkClick,n=e.contact,r=e.hasRightCheck,a=n.mobile.substr(0,3)+"****"+n.mobile.substr(7,n.mobile.length);return u.default.createElement("div",{className:"p-x-25",onClick:t},u.default.createElement("div",{className:"media-body media-middle border-bottom-e0 p-y-10"},u.default.createElement("div",{className:"font-15"},n.name),u.default.createElement("div",{className:"font-12 text-gray-6b777c m-t-2"},a)),u.default.createElement("div",{className:"media-right media-middle font-13 border-bottom-e0 text-gray-909DA3"},!n.block&&u.default.createElement("span",{className:r?"check_small":"check_small_1"}),1==n.block&&u.default.createElement("span",{className:"invited-txt"},"已删除")))}}]),t}(u.default.Component)},815:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c,u,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),d=r(f),p=n(1484),b=r(p),m=n(17),h=r(m),y=n(114),_=r(y),v=n(76),g=r(v),E=n(75),k=r(E),j=n(15),O=r(j),w=n(981),x=r(w),P=n(165),N=r(P),C=n(982),M=r(C);t.default=e.exports=(u=c=function(e){function t(){var e,n,r,l;a(this,t);for(var c=arguments.length,u=Array(c),s=0;s<c;s++)u[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={loading:!1},r.renderCell=function(e,t){var n=r.props,a=n.cursor,o=(n.contacts,h.default.debounce(function(){a.select("contacts",t).set("check",e.check?0:1)},500,!0));return d.default.createElement(b.default,{contact:e,key:e.mobile,hasRightCheck:e.check,checkClick:o})},r.sendMsg=h.default.debounce(function(){var e=r.context,t=e.fconf,n=e.auth_info,a=r.props,o=a.cursor,l=a.contacts,c=h.default.filter(l,function(e){return e.check&&!e.block}).map(function(e){return e.mobile});if(0==c.length)return void(0,g.default)("请选择要删除的好友");var u=t.online_url+"contact/v5/delete_addrbook_friends?"+O.default.stringify(i({mobiles:c.join(",")},n)),s=fetch(u,{credentials:"same-origin"}).then(k.default.parse_online_json).then(function(){(0,g.default)("删除成功"),l.forEach(function(e,t){h.default.findIndex(c,function(t){return e.mobile==t})>-1&&o.select("contacts",t,"block").set(1)})}).catch(k.default.toast_error_handler);(0,_.default)("发送中..",s)},500,!0),r.loadMore=function(){var e=r.props.cursor,t=r.refs.loader;t&&t.bindRequest(function(){return r.setState({loading:!0}),fetch("/contact/delete_fr_list?"+O.default.stringify({start:r.props.start||0,jsononly:1}),{credentials:"same-origin"}).then(E.parse_online_json).then(function(t){e.select("contacts").concat(t.data.contacts||[]),e.select("more").set(t.data.more),e.select("start").set(t.data.start),r.setState({loading:!1})}).catch(function(e){throw r.setState({loading:!1}),e})})},l=n,o(r,l)}return l(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.contacts,n=this.props.more||0;return d.default.createElement("div",null,d.default.createElement(x.default,{title:"管理联系人"}),d.default.createElement("div",{className:"p-x-25 border-bottom-e0 blue-bg-018be6"},d.default.createElement("div",{className:"media-body media-middle text-white p-t-10 p-b-10 small"},d.default.createElement("span",{className:"font-14 bold"},"管理同步的联系人信息："),d.default.createElement("p",null,d.default.createElement("br",null),"以下是同步至脉脉的联系人信息(名称、联系方式)，要移除一个或者多个联系人，只要选择联系人，并按下删除。被删掉的联系人，当他(她)加入脉脉时，不会通知你，也无法通过他(她)认识联系人的人脉。移除后可能会带来扩展职场人脉和获取内推机会的不便，请谅解。"),d.default.createElement("p",null,d.default.createElement("br",null),"你的联系人只对你可见，同步到脉脉的信息会用来为你和你的好友生成好友建议，帮你找到更珍贵和有价值的职场人脉，提升服务质量。"))),d.default.createElement("div",null,d.default.createElement(M.default,{loadMore:this.loadMore,hasMore:!!(n&&n>0),loader:d.default.createElement(N.default,{ref:"loader",reload:this.loadMore,hidden:!this.state.loading,cursor:this.props.cursor.select("loading_status")})},t.map(function(t,n){return e.renderCell(t,n)}))),0==t.length&&d.default.createElement("div",{className:"nullText"},"你尚无任何已导入的联系人信息"),d.default.createElement("div",{style:{height:116}}),t.length>0&&d.default.createElement("div",{className:"delete_fr_list_fixed p-y-10 blue-bg-018be6"},d.default.createElement("div",{className:"delete_fr_list_btn",onClick:this.sendMsg},"删除已选")))}}]),t}(d.default.Component),c.contextTypes={req:d.default.PropTypes.object,fconf:d.default.PropTypes.object,auth_info:d.default.PropTypes.object,env:d.default.PropTypes.object},u)}});