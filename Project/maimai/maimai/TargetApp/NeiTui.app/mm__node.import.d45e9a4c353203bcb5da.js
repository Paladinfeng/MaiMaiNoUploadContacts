webpackJsonp([234],{793:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),f=r(s),p=n(46),d=r(p),m=n(981),y=r(m),h=n(270),b=r(h),_=n(75),v=n(165),g=r(v),w=n(15),x=r(w),E=(n(164),n(281)),j=r(E),O=n(276),P=r(O),M=n(982),T=(n(114),{noPaddingRight:{marginRight:"-10px",marginTop:"6px"}});t.default=e.exports=(c=i=function(e){function t(){var e,n,r,l;a(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.openChat=function(e,t){t.stopPropagation(),(0,d.default)("/contact/invite_comment_one?u2="+e.id,"邀请点评",{})},r.loadMore=function(){var e=r.props.cursor,t=r.refs.loader,n=r.context.req;t&&t.bindRequest(function(){var t=r.props.start||0;return fetch(n.pathname+"?"+x.default.stringify({start:t,jsononly:1}),{credentials:"same-origin"}).then(_.parse_online_json).then(function(t){e.select("contacts").concat(t.data.contacts),e.select("more").set(t.data.more),e.select("start").set(t.data.start)})})},r.renderFriendList=function(){if(r.props.contacts)return f.default.createElement(M,{loadMore:r.loadMore,hasMore:r.props.more>0,loader:f.default.createElement(g.default,{ref:"loader",reload:r.loadMore,cursor:r.props.cursor.select("loading_status")})},f.default.createElement("div",{className:"panel panel-default"},f.default.createElement("div",{className:"panel-heading clearfix"},f.default.createElement("span",{className:"pull-left text-muted"},"可邀请他们点评您")),r.props.contacts.map(function(e){return f.default.createElement(b.default,{key:e.id,contact:e,hideDist:!0},f.default.createElement("div",{className:"voidBlueBtnL small",style:T.noPaddingRight,onClick:r.openChat.bind(r,e)},"邀请点评"))})))},r.inviteOutAppFriend=function(){var e=r.context.fconf.web_url+"contact/add_comment_outapp?"+x.default.stringify({u:r.context.auth_info.u}),t=(0,j.default)({dist:3,gender:r.props.mycard.gender},-1);window.MaiMai_Native.native_share_v2(1,JSON.stringify({url:e,icon_url:r.props.mycard.avatar,sheetTitle:"请选择邀请方式：",title:"我在你眼中的职场形象如何？求点评",desc:"送上你对"+r.props.mycard.name+"的点评，帮助"+t+"提升职场形象吧！",contentOfCopy:e,shareCustomItems:[{type:4,label:"微信朋友圈"},{type:2,label:"微信好友"},{type:8,label:"QQ好友"},{type:1024,label:"获取链接"}]}))},l=n,o(r,l)}return l(t,e),u(t,[{key:"isNewVersion",value:function(){return P.default.gte(this.context.auth_info.version,"4.6.0")}},{key:"render",value:function(){return f.default.createElement("div",null,f.default.createElement(y.default,{title:"邀请好友点评"}),f.default.createElement("div",{className:"text-content p-y p-x borderTop"},"点评由好友填写，是其他人对您的认同"),this.renderFriendList())}}]),t}(f.default.Component),i.contextTypes={auth_info:f.default.PropTypes.object,req:f.default.PropTypes.object,fconf:f.default.PropTypes.object},c)}});